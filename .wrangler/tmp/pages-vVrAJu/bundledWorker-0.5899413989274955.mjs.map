{
  "version": 3,
  "sources": ["../bundle-QHeiZH/checked-fetch.js", "../../../.svelte-kit/output/server/chunks/false.js", "../../../node_modules/@sveltejs/kit/src/exports/internal/remote-functions.js", "../../../node_modules/@sveltejs/kit/src/exports/internal/index.js", "../../../node_modules/esm-env/true.js", "../../../node_modules/esm-env/dev-fallback.js", "../../../node_modules/esm-env/false.js", "../../../node_modules/esm-env/index.js", "../../../node_modules/@sveltejs/kit/src/runtime/pathname.js", "../../../node_modules/@sveltejs/kit/src/runtime/utils.js", "../../../node_modules/@sveltejs/kit/src/version.js", "../../../node_modules/@sveltejs/kit/src/exports/index.js", "../../../node_modules/@sveltejs/kit/src/runtime/server/constants.js", "../../../node_modules/@sveltejs/kit/src/exports/internal/event.js", "../../../node_modules/@sveltejs/kit/src/exports/internal/server.js", "../../../.svelte-kit/output/server/chunks/environment.js", "../../../.svelte-kit/output/server/chunks/exports.js", "../../../.svelte-kit/output/server/chunks/utils.js", "../../../.svelte-kit/output/server/chunks/ssr.js", "../../../.svelte-kit/output/server/chunks/index.js", "../../../.svelte-kit/output/server/chunks/shared-server.js", "../../../node_modules/cookie/index.js", "../../../node_modules/set-cookie-parser/lib/set-cookie.js", "../../../.svelte-kit/output/server/chunks/ssr2.js", "../../../node_modules/@auth/core/lib/utils/cookie.js", "../../../node_modules/@auth/core/errors.js", "../../../node_modules/@auth/core/lib/utils/assert.js", "../../../node_modules/@panva/hkdf/dist/web/runtime/hkdf.js", "../../../node_modules/@panva/hkdf/dist/web/index.js", "../../../node_modules/jose/dist/browser/runtime/webcrypto.js", "../../../node_modules/jose/dist/browser/runtime/digest.js", "../../../node_modules/jose/dist/browser/lib/buffer_utils.js", "../../../node_modules/jose/dist/browser/runtime/base64url.js", "../../../node_modules/jose/dist/browser/util/errors.js", "../../../node_modules/jose/dist/browser/runtime/random.js", "../../../node_modules/jose/dist/browser/lib/iv.js", "../../../node_modules/jose/dist/browser/lib/check_iv_length.js", "../../../node_modules/jose/dist/browser/runtime/check_cek_length.js", "../../../node_modules/jose/dist/browser/runtime/timing_safe_equal.js", "../../../node_modules/jose/dist/browser/lib/crypto_key.js", "../../../node_modules/jose/dist/browser/lib/invalid_key_input.js", "../../../node_modules/jose/dist/browser/runtime/is_key_like.js", "../../../node_modules/jose/dist/browser/runtime/decrypt.js", "../../../node_modules/jose/dist/browser/lib/is_disjoint.js", "../../../node_modules/jose/dist/browser/lib/is_object.js", "../../../node_modules/jose/dist/browser/runtime/bogus.js", "../../../node_modules/jose/dist/browser/runtime/aeskw.js", "../../../node_modules/jose/dist/browser/runtime/ecdhes.js", "../../../node_modules/jose/dist/browser/lib/check_p2s.js", "../../../node_modules/jose/dist/browser/runtime/pbes2kw.js", "../../../node_modules/jose/dist/browser/runtime/subtle_rsaes.js", "../../../node_modules/jose/dist/browser/runtime/check_key_length.js", "../../../node_modules/jose/dist/browser/runtime/rsaes.js", "../../../node_modules/jose/dist/browser/lib/is_jwk.js", "../../../node_modules/jose/dist/browser/runtime/jwk_to_key.js", "../../../node_modules/jose/dist/browser/runtime/normalize_key.js", "../../../node_modules/jose/dist/browser/lib/cek.js", "../../../node_modules/jose/dist/browser/key/import.js", "../../../node_modules/jose/dist/browser/lib/check_key_type.js", "../../../node_modules/jose/dist/browser/runtime/encrypt.js", "../../../node_modules/jose/dist/browser/lib/aesgcmkw.js", "../../../node_modules/jose/dist/browser/lib/decrypt_key_management.js", "../../../node_modules/jose/dist/browser/lib/validate_crit.js", "../../../node_modules/jose/dist/browser/lib/validate_algorithms.js", "../../../node_modules/jose/dist/browser/jwe/flattened/decrypt.js", "../../../node_modules/jose/dist/browser/jwe/compact/decrypt.js", "../../../node_modules/jose/dist/browser/lib/private_symbols.js", "../../../node_modules/jose/dist/browser/runtime/key_to_jwk.js", "../../../node_modules/jose/dist/browser/key/export.js", "../../../node_modules/jose/dist/browser/lib/encrypt_key_management.js", "../../../node_modules/jose/dist/browser/jwe/flattened/encrypt.js", "../../../node_modules/jose/dist/browser/lib/epoch.js", "../../../node_modules/jose/dist/browser/lib/secs.js", "../../../node_modules/jose/dist/browser/lib/jwt_claims_set.js", "../../../node_modules/jose/dist/browser/jwt/decrypt.js", "../../../node_modules/jose/dist/browser/jwe/compact/encrypt.js", "../../../node_modules/jose/dist/browser/jwt/produce.js", "../../../node_modules/jose/dist/browser/jwt/encrypt.js", "../../../node_modules/jose/dist/browser/jwk/thumbprint.js", "../../../node_modules/jose/dist/browser/util/base64url.js", "../../../node_modules/jose/dist/browser/util/decode_jwt.js", "../../../node_modules/jose/dist/browser/index.js", "../../../node_modules/@auth/core/lib/vendored/cookie.js", "../../../node_modules/@auth/core/jwt.js", "../../../node_modules/@auth/core/lib/utils/callback-url.js", "../../../node_modules/@auth/core/lib/utils/logger.js", "../../../node_modules/@auth/core/lib/utils/actions.js", "../../../node_modules/@auth/core/lib/utils/web.js", "../../../node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js", "../../../node_modules/@auth/core/lib/utils/merge.js", "../../../node_modules/@auth/core/lib/symbols.js", "../../../node_modules/@auth/core/lib/utils/providers.js", "../../../node_modules/@auth/core/lib/init.js", "../../../node_modules/preact/src/constants.js", "../../../node_modules/preact/src/util.js", "../../../node_modules/preact/src/options.js", "../../../node_modules/preact/src/create-element.js", "../../../node_modules/preact/src/component.js", "../../../node_modules/preact/src/diff/props.js", "../../../node_modules/preact/src/create-context.js", "../../../node_modules/preact/src/diff/children.js", "../../../node_modules/preact/src/diff/index.js", "../../../node_modules/preact/src/render.js", "../../../node_modules/preact/src/clone-element.js", "../../../node_modules/preact/src/diff/catch-error.js", "../../../node_modules/preact-render-to-string/src/lib/util.js", "../../../node_modules/preact-render-to-string/src/index.js", "../../../node_modules/preact/jsx-runtime/src/utils.js", "../../../node_modules/preact/src/constants.js", "../../../node_modules/preact/jsx-runtime/src/index.js", "../../../node_modules/@auth/core/lib/pages/error.js", "../../../node_modules/@auth/core/lib/utils/webauthn-client.js", "../../../node_modules/@auth/core/lib/pages/signin.js", "../../../node_modules/@auth/core/lib/pages/signout.js", "../../../node_modules/@auth/core/lib/pages/styles.js", "../../../node_modules/@auth/core/lib/pages/verify-request.js", "../../../node_modules/@auth/core/lib/pages/index.js", "../../../node_modules/@auth/core/lib/utils/date.js", "../../../node_modules/@auth/core/lib/actions/callback/handle-login.js", "../../../node_modules/oauth4webapi/src/index.ts", "../../../node_modules/@auth/core/lib/actions/callback/oauth/checks.js", "../../../node_modules/@auth/core/lib/actions/callback/oauth/callback.js", "../../../node_modules/@auth/core/lib/utils/webauthn-utils.js", "../../../node_modules/@auth/core/lib/actions/callback/index.js", "../../../node_modules/@auth/core/lib/actions/session.js", "../../../node_modules/@auth/core/lib/actions/signin/authorization-url.js", "../../../node_modules/@auth/core/lib/actions/signin/send-token.js", "../../../node_modules/@auth/core/lib/actions/signin/index.js", "../../../node_modules/@auth/core/lib/actions/signout.js", "../../../node_modules/@auth/core/lib/utils/session.js", "../../../node_modules/@auth/core/lib/actions/webauthn-options.js", "../../../node_modules/@auth/core/lib/actions/index.js", "../../../node_modules/@auth/core/lib/index.js", "../../../node_modules/@auth/core/lib/utils/env.js", "../../../node_modules/@auth/core/index.js", "../../../node_modules/@auth/core/providers/github.js", "../../../.svelte-kit/output/server/chunks/hooks.server.js", "../../../.svelte-kit/output/server/entries/pages/_layout.server.ts.js", "../../../.svelte-kit/output/server/chunks/theme.js", "../../../.svelte-kit/output/server/entries/pages/_layout.svelte.js", "../../../.svelte-kit/output/server/nodes/0.js", "../../../.svelte-kit/output/server/chunks/state.svelte.js", "../../../.svelte-kit/output/server/entries/fallbacks/error.svelte.js", "../../../.svelte-kit/output/server/nodes/1.js", "../../../.svelte-kit/output/server/entries/pages/_page.server.ts.js", "../../../.svelte-kit/output/server/entries/pages/_page.svelte.js", "../../../.svelte-kit/output/server/nodes/2.js", "../../../.svelte-kit/output/server/entries/endpoints/api/maps-config/_server.ts.js", "../../../.svelte-kit/output/server/entries/endpoints/api/realtime/_server.ts.js", "../../../.svelte-kit/output/server/entries/endpoints/api/weather/_server.ts.js", "../../../.svelte-kit/output/server/index.js", "../../../node_modules/devalue/src/utils.js", "../../../node_modules/devalue/src/uneval.js", "../../../node_modules/devalue/src/base64.js", "../../../node_modules/devalue/src/constants.js", "../../../node_modules/devalue/src/parse.js", "../../../node_modules/devalue/src/stringify.js", "../../../.svelte-kit/output/server/chunks/shared.js", "../../../.svelte-kit/output/server/chunks/internal.js", "../../../.svelte-kit/cloudflare-tmp/manifest.js", "../../../.svelte-kit/cloudflare-tmp/_worker.js", "../../../../../../../AppData/Local/nvm/v22.20.0/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../../../AppData/Local/nvm/v22.20.0/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-QHeiZH/middleware-insertion-facade.js", "../../../../../../../AppData/Local/nvm/v22.20.0/node_modules/wrangler/templates/middleware/common.ts", "../bundle-QHeiZH/middleware-loader.entry.ts"],
  "sourceRoot": "C:\\Users\\monag\\_Projects\\starspace\\Dashboard\\dashboard\\.wrangler\\tmp\\pages-vVrAJu\\bundledWorker-0.5899413989274955.mjs",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "const BROWSER = false;\nexport {\n  BROWSER as B\n};\n", "/** @import { RemoteInfo } from 'types' */\n\n/** @type {RemoteInfo['type'][]} */\nconst types = ['command', 'form', 'prerender', 'query', 'query_batch'];\n\n/**\n * @param {Record<string, any>} module\n * @param {string} file\n * @param {string} hash\n */\nexport function init_remote_functions(module, file, hash) {\n\tif (module.default) {\n\t\tthrow new Error(\n\t\t\t`Cannot export \\`default\\` from a remote module (${file}) \u2014 please use named exports instead`\n\t\t);\n\t}\n\n\tfor (const [name, fn] of Object.entries(module)) {\n\t\tif (!types.includes(fn?.__?.type)) {\n\t\t\tthrow new Error(\n\t\t\t\t`\\`${name}\\` exported from ${file} is invalid \u2014 all exports from this file must be remote functions`\n\t\t\t);\n\t\t}\n\n\t\tfn.__.id = `${hash}/${name}`;\n\t\tfn.__.name = name;\n\t}\n}\n", "export class HttpError {\n\t/**\n\t * @param {number} status\n\t * @param {{message: string} extends App.Error ? (App.Error | string | undefined) : App.Error} body\n\t */\n\tconstructor(status, body) {\n\t\tthis.status = status;\n\t\tif (typeof body === 'string') {\n\t\t\tthis.body = { message: body };\n\t\t} else if (body) {\n\t\t\tthis.body = body;\n\t\t} else {\n\t\t\tthis.body = { message: `Error: ${status}` };\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn JSON.stringify(this.body);\n\t}\n}\n\nexport class Redirect {\n\t/**\n\t * @param {300 | 301 | 302 | 303 | 304 | 305 | 306 | 307 | 308} status\n\t * @param {string} location\n\t */\n\tconstructor(status, location) {\n\t\tthis.status = status;\n\t\tthis.location = location;\n\t}\n}\n\n/**\n * An error that was thrown from within the SvelteKit runtime that is not fatal and doesn't result in a 500, such as a 404.\n * `SvelteKitError` goes through `handleError`.\n * @extends Error\n */\nexport class SvelteKitError extends Error {\n\t/**\n\t * @param {number} status\n\t * @param {string} text\n\t * @param {string} message\n\t */\n\tconstructor(status, text, message) {\n\t\tsuper(message);\n\t\tthis.status = status;\n\t\tthis.text = text;\n\t}\n}\n\n/**\n * @template [T=undefined]\n */\nexport class ActionFailure {\n\t/**\n\t * @param {number} status\n\t * @param {T} data\n\t */\n\tconstructor(status, data) {\n\t\tthis.status = status;\n\t\tthis.data = data;\n\t}\n}\n\nexport { init_remote_functions } from './remote-functions.js';\n", "export default true;\n", "const node_env = globalThis.process?.env?.NODE_ENV;\nexport default node_env && !node_env.toLowerCase().startsWith('prod');\n", "export default false;\n", "export { default as BROWSER } from 'esm-env/browser';\nexport { default as DEV } from 'esm-env/development';\nexport { default as NODE } from 'esm-env/node';\n", "const DATA_SUFFIX = '/__data.json';\nconst HTML_DATA_SUFFIX = '.html__data.json';\n\n/** @param {string} pathname */\nexport function has_data_suffix(pathname) {\n\treturn pathname.endsWith(DATA_SUFFIX) || pathname.endsWith(HTML_DATA_SUFFIX);\n}\n\n/** @param {string} pathname */\nexport function add_data_suffix(pathname) {\n\tif (pathname.endsWith('.html')) return pathname.replace(/\\.html$/, HTML_DATA_SUFFIX);\n\treturn pathname.replace(/\\/$/, '') + DATA_SUFFIX;\n}\n\n/** @param {string} pathname */\nexport function strip_data_suffix(pathname) {\n\tif (pathname.endsWith(HTML_DATA_SUFFIX)) {\n\t\treturn pathname.slice(0, -HTML_DATA_SUFFIX.length) + '.html';\n\t}\n\n\treturn pathname.slice(0, -DATA_SUFFIX.length);\n}\n\nconst ROUTE_SUFFIX = '/__route.js';\n\n/**\n * @param {string} pathname\n * @returns {boolean}\n */\nexport function has_resolution_suffix(pathname) {\n\treturn pathname.endsWith(ROUTE_SUFFIX);\n}\n\n/**\n * Convert a regular URL to a route to send to SvelteKit's server-side route resolution endpoint\n * @param {string} pathname\n * @returns {string}\n */\nexport function add_resolution_suffix(pathname) {\n\treturn pathname.replace(/\\/$/, '') + ROUTE_SUFFIX;\n}\n\n/**\n * @param {string} pathname\n * @returns {string}\n */\nexport function strip_resolution_suffix(pathname) {\n\treturn pathname.slice(0, -ROUTE_SUFFIX.length);\n}\n", "import { BROWSER } from 'esm-env';\n\nexport const text_encoder = new TextEncoder();\nexport const text_decoder = new TextDecoder();\n\n/**\n * Like node's path.relative, but without using node\n * @param {string} from\n * @param {string} to\n */\nexport function get_relative_path(from, to) {\n\tconst from_parts = from.split(/[/\\\\]/);\n\tconst to_parts = to.split(/[/\\\\]/);\n\tfrom_parts.pop(); // get dirname\n\n\twhile (from_parts[0] === to_parts[0]) {\n\t\tfrom_parts.shift();\n\t\tto_parts.shift();\n\t}\n\n\tlet i = from_parts.length;\n\twhile (i--) from_parts[i] = '..';\n\n\treturn from_parts.concat(to_parts).join('/');\n}\n\n/**\n * @param {Uint8Array} bytes\n * @returns {string}\n */\nexport function base64_encode(bytes) {\n\t// Using `Buffer` is faster than iterating\n\tif (!BROWSER && globalThis.Buffer) {\n\t\treturn globalThis.Buffer.from(bytes).toString('base64');\n\t}\n\n\tlet binary = '';\n\n\tfor (let i = 0; i < bytes.length; i++) {\n\t\tbinary += String.fromCharCode(bytes[i]);\n\t}\n\n\treturn btoa(binary);\n}\n\n/**\n * @param {string} encoded\n * @returns {Uint8Array}\n */\nexport function base64_decode(encoded) {\n\t// Using `Buffer` is faster than iterating\n\tif (!BROWSER && globalThis.Buffer) {\n\t\tconst buffer = globalThis.Buffer.from(encoded, 'base64');\n\t\treturn new Uint8Array(buffer);\n\t}\n\n\tconst binary = atob(encoded);\n\tconst bytes = new Uint8Array(binary.length);\n\n\tfor (let i = 0; i < binary.length; i++) {\n\t\tbytes[i] = binary.charCodeAt(i);\n\t}\n\n\treturn bytes;\n}\n", "// generated during release, do not modify\n\n/** @type {string} */\nexport const VERSION = '2.47.3';\n", "import { HttpError, Redirect, ActionFailure } from './internal/index.js';\nimport { BROWSER, DEV } from 'esm-env';\nimport {\n\tadd_data_suffix,\n\tadd_resolution_suffix,\n\thas_data_suffix,\n\thas_resolution_suffix,\n\tstrip_data_suffix,\n\tstrip_resolution_suffix\n} from '../runtime/pathname.js';\nimport { text_encoder } from '../runtime/utils.js';\n\nexport { VERSION } from '../version.js';\n\n// TODO 3.0: remove these types as they are not used anymore (we can't remove them yet because that would be a breaking change)\n/**\n * @template {number} TNumber\n * @template {any[]} [TArray=[]]\n * @typedef {TNumber extends TArray['length'] ? TArray[number] : LessThan<TNumber, [...TArray, TArray['length']]>} LessThan\n */\n\n/**\n * @template {number} TStart\n * @template {number} TEnd\n * @typedef {Exclude<TEnd | LessThan<TEnd>, LessThan<TStart>>} NumericRange\n */\n\n// Keep the status codes as `number` because restricting to certain numbers makes it unnecessarily hard to use compared to the benefits\n// (we have runtime errors already to check for invalid codes). Also see https://github.com/sveltejs/kit/issues/11780\n\n// we have to repeat the JSDoc because the display for function overloads is broken\n// see https://github.com/microsoft/TypeScript/issues/55056\n\n/**\n * Throws an error with a HTTP status code and an optional message.\n * When called during request handling, this will cause SvelteKit to\n * return an error response without invoking `handleError`.\n * Make sure you're not catching the thrown error, which would prevent SvelteKit from handling it.\n * @param {number} status The [HTTP status code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses). Must be in the range 400-599.\n * @param {App.Error} body An object that conforms to the App.Error type. If a string is passed, it will be used as the message property.\n * @overload\n * @param {number} status\n * @param {App.Error} body\n * @return {never}\n * @throws {HttpError} This error instructs SvelteKit to initiate HTTP error handling.\n * @throws {Error} If the provided status is invalid (not between 400 and 599).\n */\n/**\n * Throws an error with a HTTP status code and an optional message.\n * When called during request handling, this will cause SvelteKit to\n * return an error response without invoking `handleError`.\n * Make sure you're not catching the thrown error, which would prevent SvelteKit from handling it.\n * @param {number} status The [HTTP status code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses). Must be in the range 400-599.\n * @param {{ message: string } extends App.Error ? App.Error | string | undefined : never} [body] An object that conforms to the App.Error type. If a string is passed, it will be used as the message property.\n * @overload\n * @param {number} status\n * @param {{ message: string } extends App.Error ? App.Error | string | undefined : never} [body]\n * @return {never}\n * @throws {HttpError} This error instructs SvelteKit to initiate HTTP error handling.\n * @throws {Error} If the provided status is invalid (not between 400 and 599).\n */\n/**\n * Throws an error with a HTTP status code and an optional message.\n * When called during request handling, this will cause SvelteKit to\n * return an error response without invoking `handleError`.\n * Make sure you're not catching the thrown error, which would prevent SvelteKit from handling it.\n * @param {number} status The [HTTP status code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses). Must be in the range 400-599.\n * @param {{ message: string } extends App.Error ? App.Error | string | undefined : never} body An object that conforms to the App.Error type. If a string is passed, it will be used as the message property.\n * @return {never}\n * @throws {HttpError} This error instructs SvelteKit to initiate HTTP error handling.\n * @throws {Error} If the provided status is invalid (not between 400 and 599).\n */\nexport function error(status, body) {\n\tif ((!BROWSER || DEV) && (isNaN(status) || status < 400 || status > 599)) {\n\t\tthrow new Error(`HTTP error status codes must be between 400 and 599 \u2014 ${status} is invalid`);\n\t}\n\n\tthrow new HttpError(status, body);\n}\n\n/**\n * Checks whether this is an error thrown by {@link error}.\n * @template {number} T\n * @param {unknown} e\n * @param {T} [status] The status to filter for.\n * @return {e is (HttpError & { status: T extends undefined ? never : T })}\n */\nexport function isHttpError(e, status) {\n\tif (!(e instanceof HttpError)) return false;\n\treturn !status || e.status === status;\n}\n\n/**\n * Redirect a request. When called during request handling, SvelteKit will return a redirect response.\n * Make sure you're not catching the thrown redirect, which would prevent SvelteKit from handling it.\n *\n * Most common status codes:\n *  * `303 See Other`: redirect as a GET request (often used after a form POST request)\n *  * `307 Temporary Redirect`: redirect will keep the request method\n *  * `308 Permanent Redirect`: redirect will keep the request method, SEO will be transferred to the new page\n *\n * [See all redirect status codes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages)\n *\n * @param {300 | 301 | 302 | 303 | 304 | 305 | 306 | 307 | 308 | ({} & number)} status The [HTTP status code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages). Must be in the range 300-308.\n * @param {string | URL} location The location to redirect to.\n * @throws {Redirect} This error instructs SvelteKit to redirect to the specified location.\n * @throws {Error} If the provided status is invalid.\n * @return {never}\n */\nexport function redirect(status, location) {\n\tif ((!BROWSER || DEV) && (isNaN(status) || status < 300 || status > 308)) {\n\t\tthrow new Error('Invalid status code');\n\t}\n\n\tthrow new Redirect(\n\t\t// @ts-ignore\n\t\tstatus,\n\t\tlocation.toString()\n\t);\n}\n\n/**\n * Checks whether this is a redirect thrown by {@link redirect}.\n * @param {unknown} e The object to check.\n * @return {e is Redirect}\n */\nexport function isRedirect(e) {\n\treturn e instanceof Redirect;\n}\n\n/**\n * Create a JSON `Response` object from the supplied data.\n * @param {any} data The value that will be serialized as JSON.\n * @param {ResponseInit} [init] Options such as `status` and `headers` that will be added to the response. `Content-Type: application/json` and `Content-Length` headers will be added automatically.\n */\nexport function json(data, init) {\n\t// TODO deprecate this in favour of `Response.json` when it's\n\t// more widely supported\n\tconst body = JSON.stringify(data);\n\n\t// we can't just do `text(JSON.stringify(data), init)` because\n\t// it will set a default `content-type` header. duplicated code\n\t// means less duplicated work\n\tconst headers = new Headers(init?.headers);\n\tif (!headers.has('content-length')) {\n\t\theaders.set('content-length', text_encoder.encode(body).byteLength.toString());\n\t}\n\n\tif (!headers.has('content-type')) {\n\t\theaders.set('content-type', 'application/json');\n\t}\n\n\treturn new Response(body, {\n\t\t...init,\n\t\theaders\n\t});\n}\n\n/**\n * Create a `Response` object from the supplied body.\n * @param {string} body The value that will be used as-is.\n * @param {ResponseInit} [init] Options such as `status` and `headers` that will be added to the response. A `Content-Length` header will be added automatically.\n */\nexport function text(body, init) {\n\tconst headers = new Headers(init?.headers);\n\tif (!headers.has('content-length')) {\n\t\tconst encoded = text_encoder.encode(body);\n\t\theaders.set('content-length', encoded.byteLength.toString());\n\t\treturn new Response(encoded, {\n\t\t\t...init,\n\t\t\theaders\n\t\t});\n\t}\n\n\treturn new Response(body, {\n\t\t...init,\n\t\theaders\n\t});\n}\n\n/**\n * Create an `ActionFailure` object. Call when form submission fails.\n * @param {number} status The [HTTP status code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses). Must be in the range 400-599.\n * @overload\n * @param {number} status\n * @returns {import('./public.js').ActionFailure<undefined>}\n */\n/**\n * Create an `ActionFailure` object. Call when form submission fails.\n * @template [T=undefined]\n * @param {number} status The [HTTP status code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses). Must be in the range 400-599.\n * @param {T} data Data associated with the failure (e.g. validation errors)\n * @overload\n * @param {number} status\n * @param {T} data\n * @returns {import('./public.js').ActionFailure<T>}\n */\n/**\n * Create an `ActionFailure` object. Call when form submission fails.\n * @param {number} status\n * @param {any} [data]\n * @returns {import('./public.js').ActionFailure<any>}\n */\nexport function fail(status, data) {\n\t// @ts-expect-error unique symbol missing\n\treturn new ActionFailure(status, data);\n}\n\n/**\n * Checks whether this is an action failure thrown by {@link fail}.\n * @param {unknown} e The object to check.\n * @return {e is import('./public.js').ActionFailure}\n */\nexport function isActionFailure(e) {\n\treturn e instanceof ActionFailure;\n}\n\n/**\n * Strips possible SvelteKit-internal suffixes and trailing slashes from the URL pathname.\n * Returns the normalized URL as well as a method for adding the potential suffix back\n * based on a new pathname (possibly including search) or URL.\n * ```js\n * import { normalizeUrl } from '@sveltejs/kit';\n *\n * const { url, denormalize } = normalizeUrl('/blog/post/__data.json');\n * console.log(url.pathname); // /blog/post\n * console.log(denormalize('/blog/post/a')); // /blog/post/a/__data.json\n * ```\n * @param {URL | string} url\n * @returns {{ url: URL, wasNormalized: boolean, denormalize: (url?: string | URL) => URL }}\n * @since 2.18.0\n */\nexport function normalizeUrl(url) {\n\turl = new URL(url, 'http://internal');\n\n\tconst is_route_resolution = has_resolution_suffix(url.pathname);\n\tconst is_data_request = has_data_suffix(url.pathname);\n\tconst has_trailing_slash = url.pathname !== '/' && url.pathname.endsWith('/');\n\n\tif (is_route_resolution) {\n\t\turl.pathname = strip_resolution_suffix(url.pathname);\n\t} else if (is_data_request) {\n\t\turl.pathname = strip_data_suffix(url.pathname);\n\t} else if (has_trailing_slash) {\n\t\turl.pathname = url.pathname.slice(0, -1);\n\t}\n\n\treturn {\n\t\turl,\n\t\twasNormalized: is_data_request || is_route_resolution || has_trailing_slash,\n\t\tdenormalize: (new_url = url) => {\n\t\t\tnew_url = new URL(new_url, url);\n\t\t\tif (is_route_resolution) {\n\t\t\t\tnew_url.pathname = add_resolution_suffix(new_url.pathname);\n\t\t\t} else if (is_data_request) {\n\t\t\t\tnew_url.pathname = add_data_suffix(new_url.pathname);\n\t\t\t} else if (has_trailing_slash && !new_url.pathname.endsWith('/')) {\n\t\t\t\tnew_url.pathname += '/';\n\t\t\t}\n\t\t\treturn new_url;\n\t\t}\n\t};\n}\n", "export const NULL_BODY_STATUS = [101, 103, 204, 205, 304];\n\n// eslint-disable-next-line n/prefer-global/process\nexport const IN_WEBCONTAINER = !!globalThis.process?.versions?.webcontainer;\n", "/** @import { RequestEvent } from '@sveltejs/kit' */\n/** @import { RequestStore } from 'types' */\n/** @import { AsyncLocalStorage } from 'node:async_hooks' */\n\nimport { IN_WEBCONTAINER } from '../../runtime/server/constants.js';\n\n/** @type {RequestStore | null} */\nlet sync_store = null;\n\n/** @type {AsyncLocalStorage<RequestStore | null> | null} */\nlet als;\n\nimport('node:async_hooks')\n\t.then((hooks) => (als = new hooks.AsyncLocalStorage()))\n\t.catch(() => {\n\t\t// can't use AsyncLocalStorage, but can still call getRequestEvent synchronously.\n\t\t// this isn't behind `supports` because it's basically just StackBlitz (i.e.\n\t\t// in-browser usage) that doesn't support it AFAICT\n\t});\n\n/**\n * Returns the current `RequestEvent`. Can be used inside server hooks, server `load` functions, actions, and endpoints (and functions called by them).\n *\n * In environments without [`AsyncLocalStorage`](https://nodejs.org/api/async_context.html#class-asynclocalstorage), this must be called synchronously (i.e. not after an `await`).\n * @since 2.20.0\n *\n * @returns {RequestEvent}\n */\nexport function getRequestEvent() {\n\tconst event = try_get_request_store()?.event;\n\n\tif (!event) {\n\t\tlet message =\n\t\t\t'Can only read the current request event inside functions invoked during `handle`, such as server `load` functions, actions, endpoints, and other server hooks.';\n\n\t\tif (!als) {\n\t\t\tmessage +=\n\t\t\t\t' In environments without `AsyncLocalStorage`, the event must be read synchronously, not after an `await`.';\n\t\t}\n\n\t\tthrow new Error(message);\n\t}\n\n\treturn event;\n}\n\nexport function get_request_store() {\n\tconst result = try_get_request_store();\n\tif (!result) {\n\t\tlet message = 'Could not get the request store.';\n\n\t\tif (als) {\n\t\t\tmessage += ' This is an internal error.';\n\t\t} else {\n\t\t\tmessage +=\n\t\t\t\t' In environments without `AsyncLocalStorage`, the request store (used by e.g. remote functions) must be accessed synchronously, not after an `await`.' +\n\t\t\t\t' If it was accessed synchronously then this is an internal error.';\n\t\t}\n\n\t\tthrow new Error(message);\n\t}\n\treturn result;\n}\n\nexport function try_get_request_store() {\n\treturn sync_store ?? als?.getStore() ?? null;\n}\n\n/**\n * @template T\n * @param {RequestStore | null} store\n * @param {() => T} fn\n */\nexport function with_request_store(store, fn) {\n\ttry {\n\t\tsync_store = store;\n\t\treturn als ? als.run(store, fn) : fn();\n\t} finally {\n\t\t// Since AsyncLocalStorage is not working in webcontainers, we don't reset `sync_store`\n\t\t// and handle only one request at a time in `src/runtime/server/index.js`.\n\t\tif (!IN_WEBCONTAINER) {\n\t\t\tsync_store = null;\n\t\t}\n\t}\n}\n", "/**\n * @template {{ tracing: { enabled: boolean, root: import('@opentelemetry/api').Span, current: import('@opentelemetry/api').Span } }} T\n * @param {T} event_like\n * @param {import('@opentelemetry/api').Span} current\n * @returns {T}\n */\nexport function merge_tracing(event_like, current) {\n\treturn {\n\t\t...event_like,\n\t\ttracing: {\n\t\t\t...event_like.tracing,\n\t\t\tcurrent\n\t\t}\n\t};\n}\n\nexport {\n\twith_request_store,\n\tgetRequestEvent,\n\tget_request_store,\n\ttry_get_request_store\n} from './event.js';\n", "let base = \"\";\nlet assets = base;\nconst app_dir = \"_app\";\nconst relative = true;\nconst initial = { base, assets };\nfunction override(paths) {\n  base = paths.base;\n  assets = paths.assets;\n}\nfunction reset() {\n  base = initial.base;\n  assets = initial.assets;\n}\nfunction set_assets(path) {\n  assets = initial.assets = path;\n}\nlet building = false;\nlet prerendering = false;\nfunction set_building() {\n  building = true;\n}\nfunction set_prerendering() {\n  prerendering = true;\n}\nexport {\n  assets as a,\n  base as b,\n  app_dir as c,\n  reset as d,\n  set_building as e,\n  set_prerendering as f,\n  building as g,\n  override as o,\n  prerendering as p,\n  relative as r,\n  set_assets as s\n};\n", "const SCHEME = /^[a-z][a-z\\d+\\-.]+:/i;\nconst internal = new URL(\"sveltekit-internal://\");\nfunction resolve(base, path) {\n  if (path[0] === \"/\" && path[1] === \"/\") return path;\n  let url = new URL(base, internal);\n  url = new URL(path, url);\n  return url.protocol === internal.protocol ? url.pathname + url.search + url.hash : url.href;\n}\nfunction normalize_path(path, trailing_slash) {\n  if (path === \"/\" || trailing_slash === \"ignore\") return path;\n  if (trailing_slash === \"never\") {\n    return path.endsWith(\"/\") ? path.slice(0, -1) : path;\n  } else if (trailing_slash === \"always\" && !path.endsWith(\"/\")) {\n    return path + \"/\";\n  }\n  return path;\n}\nfunction decode_pathname(pathname) {\n  return pathname.split(\"%25\").map(decodeURI).join(\"%25\");\n}\nfunction decode_params(params) {\n  for (const key in params) {\n    params[key] = decodeURIComponent(params[key]);\n  }\n  return params;\n}\nfunction make_trackable(url, callback, search_params_callback, allow_hash = false) {\n  const tracked = new URL(url);\n  Object.defineProperty(tracked, \"searchParams\", {\n    value: new Proxy(tracked.searchParams, {\n      get(obj, key) {\n        if (key === \"get\" || key === \"getAll\" || key === \"has\") {\n          return (param) => {\n            search_params_callback(param);\n            return obj[key](param);\n          };\n        }\n        callback();\n        const value = Reflect.get(obj, key);\n        return typeof value === \"function\" ? value.bind(obj) : value;\n      }\n    }),\n    enumerable: true,\n    configurable: true\n  });\n  const tracked_url_properties = [\"href\", \"pathname\", \"search\", \"toString\", \"toJSON\"];\n  if (allow_hash) tracked_url_properties.push(\"hash\");\n  for (const property of tracked_url_properties) {\n    Object.defineProperty(tracked, property, {\n      get() {\n        callback();\n        return url[property];\n      },\n      enumerable: true,\n      configurable: true\n    });\n  }\n  {\n    tracked[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(url, opts);\n    };\n    tracked.searchParams[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(url.searchParams, opts);\n    };\n  }\n  if (!allow_hash) {\n    disable_hash(tracked);\n  }\n  return tracked;\n}\nfunction disable_hash(url) {\n  allow_nodejs_console_log(url);\n  Object.defineProperty(url, \"hash\", {\n    get() {\n      throw new Error(\n        \"Cannot access event.url.hash. Consider using `page.url.hash` inside a component instead\"\n      );\n    }\n  });\n}\nfunction disable_search(url) {\n  allow_nodejs_console_log(url);\n  for (const property of [\"search\", \"searchParams\"]) {\n    Object.defineProperty(url, property, {\n      get() {\n        throw new Error(`Cannot access url.${property} on a page with prerendering enabled`);\n      }\n    });\n  }\n}\nfunction allow_nodejs_console_log(url) {\n  {\n    url[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(new URL(url), opts);\n    };\n  }\n}\nfunction validator(expected) {\n  function validate(module, file) {\n    if (!module) return;\n    for (const key in module) {\n      if (key[0] === \"_\" || expected.has(key)) continue;\n      const values = [...expected.values()];\n      const hint = hint_for_supported_files(key, file?.slice(file.lastIndexOf(\".\"))) ?? `valid exports are ${values.join(\", \")}, or anything with a '_' prefix`;\n      throw new Error(`Invalid export '${key}'${file ? ` in ${file}` : \"\"} (${hint})`);\n    }\n  }\n  return validate;\n}\nfunction hint_for_supported_files(key, ext = \".js\") {\n  const supported_files = [];\n  if (valid_layout_exports.has(key)) {\n    supported_files.push(`+layout${ext}`);\n  }\n  if (valid_page_exports.has(key)) {\n    supported_files.push(`+page${ext}`);\n  }\n  if (valid_layout_server_exports.has(key)) {\n    supported_files.push(`+layout.server${ext}`);\n  }\n  if (valid_page_server_exports.has(key)) {\n    supported_files.push(`+page.server${ext}`);\n  }\n  if (valid_server_exports.has(key)) {\n    supported_files.push(`+server${ext}`);\n  }\n  if (supported_files.length > 0) {\n    return `'${key}' is a valid export in ${supported_files.slice(0, -1).join(\", \")}${supported_files.length > 1 ? \" or \" : \"\"}${supported_files.at(-1)}`;\n  }\n}\nconst valid_layout_exports = /* @__PURE__ */ new Set([\n  \"load\",\n  \"prerender\",\n  \"csr\",\n  \"ssr\",\n  \"trailingSlash\",\n  \"config\"\n]);\nconst valid_page_exports = /* @__PURE__ */ new Set([...valid_layout_exports, \"entries\"]);\nconst valid_layout_server_exports = /* @__PURE__ */ new Set([...valid_layout_exports]);\nconst valid_page_server_exports = /* @__PURE__ */ new Set([...valid_layout_server_exports, \"actions\", \"entries\"]);\nconst valid_server_exports = /* @__PURE__ */ new Set([\n  \"GET\",\n  \"POST\",\n  \"PATCH\",\n  \"PUT\",\n  \"DELETE\",\n  \"OPTIONS\",\n  \"HEAD\",\n  \"fallback\",\n  \"prerender\",\n  \"trailingSlash\",\n  \"config\",\n  \"entries\"\n]);\nconst validate_layout_exports = validator(valid_layout_exports);\nconst validate_page_exports = validator(valid_page_exports);\nconst validate_layout_server_exports = validator(valid_layout_server_exports);\nconst validate_page_server_exports = validator(valid_page_server_exports);\nconst validate_server_exports = validator(valid_server_exports);\nexport {\n  SCHEME as S,\n  decode_params as a,\n  validate_layout_exports as b,\n  validate_page_server_exports as c,\n  disable_search as d,\n  validate_page_exports as e,\n  decode_pathname as f,\n  validate_server_exports as g,\n  make_trackable as m,\n  normalize_path as n,\n  resolve as r,\n  validate_layout_server_exports as v\n};\n", "const text_encoder = new TextEncoder();\nconst text_decoder = new TextDecoder();\nfunction get_relative_path(from, to) {\n  const from_parts = from.split(/[/\\\\]/);\n  const to_parts = to.split(/[/\\\\]/);\n  from_parts.pop();\n  while (from_parts[0] === to_parts[0]) {\n    from_parts.shift();\n    to_parts.shift();\n  }\n  let i = from_parts.length;\n  while (i--) from_parts[i] = \"..\";\n  return from_parts.concat(to_parts).join(\"/\");\n}\nfunction base64_encode(bytes) {\n  if (globalThis.Buffer) {\n    return globalThis.Buffer.from(bytes).toString(\"base64\");\n  }\n  let binary = \"\";\n  for (let i = 0; i < bytes.length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return btoa(binary);\n}\nfunction base64_decode(encoded) {\n  if (globalThis.Buffer) {\n    const buffer = globalThis.Buffer.from(encoded, \"base64\");\n    return new Uint8Array(buffer);\n  }\n  const binary = atob(encoded);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++) {\n    bytes[i] = binary.charCodeAt(i);\n  }\n  return bytes;\n}\nexport {\n  text_encoder as a,\n  base64_encode as b,\n  base64_decode as c,\n  get_relative_path as g,\n  text_decoder as t\n};\n", "function noop() {\n}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nfunction subscribe(store, ...callbacks) {\n  if (store == null) {\n    for (const callback of callbacks) {\n      callback(void 0);\n    }\n    return noop;\n  }\n  const unsub = store.subscribe(...callbacks);\n  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n  return new CustomEvent(type, { detail, bubbles, cancelable });\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component) throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction onDestroy(fn) {\n  get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n  const component = get_current_component();\n  return (type, detail, { cancelable = false } = {}) => {\n    const callbacks = component.$$.callbacks[type];\n    if (callbacks) {\n      const event = custom_event(\n        /** @type {string} */\n        type,\n        detail,\n        { cancelable }\n      );\n      callbacks.slice().forEach((fn) => {\n        fn.call(component, event);\n      });\n      return !event.defaultPrevented;\n    }\n    return true;\n  };\n}\nfunction setContext(key, context) {\n  get_current_component().$$.context.set(key, context);\n  return context;\n}\nfunction getContext(key) {\n  return get_current_component().$$.context.get(key);\n}\nfunction ensure_array_like(array_like_or_iterator) {\n  return array_like_or_iterator?.length !== void 0 ? array_like_or_iterator : Array.from(array_like_or_iterator);\n}\nconst ATTR_REGEX = /[&\"<]/g;\nconst CONTENT_REGEX = /[&<]/g;\nfunction escape(value, is_attr = false) {\n  const str = String(value);\n  const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n  pattern.lastIndex = 0;\n  let escaped = \"\";\n  let last = 0;\n  while (pattern.test(str)) {\n    const i = pattern.lastIndex - 1;\n    const ch = str[i];\n    escaped += str.substring(last, i) + (ch === \"&\" ? \"&amp;\" : ch === '\"' ? \"&quot;\" : \"&lt;\");\n    last = i + 1;\n  }\n  return escaped + str.substring(last);\n}\nfunction each(items, fn) {\n  items = ensure_array_like(items);\n  let str = \"\";\n  for (let i = 0; i < items.length; i += 1) {\n    str += fn(items[i], i);\n  }\n  return str;\n}\nconst missing_component = {\n  $$render: () => \"\"\n};\nfunction validate_component(component, name) {\n  if (!component || !component.$$render) {\n    if (name === \"svelte:component\") name += \" this={...}\";\n    throw new Error(\n      `<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`\n    );\n  }\n  return component;\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n  function $$render(result, props, bindings, slots, context) {\n    const parent_component = current_component;\n    const $$ = {\n      on_destroy,\n      context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n      // these will be immediately discarded\n      on_mount: [],\n      before_update: [],\n      after_update: [],\n      callbacks: blank_object()\n    };\n    set_current_component({ $$ });\n    const html = fn(result, props, bindings, slots);\n    set_current_component(parent_component);\n    return html;\n  }\n  return {\n    render: (props = {}, { $$slots = {}, context = /* @__PURE__ */ new Map() } = {}) => {\n      on_destroy = [];\n      const result = { title: \"\", head: \"\", css: /* @__PURE__ */ new Set() };\n      const html = $$render(result, props, {}, $$slots, context);\n      run_all(on_destroy);\n      return {\n        html,\n        css: {\n          code: Array.from(result.css).map((css) => css.code).join(\"\\n\"),\n          map: null\n          // TODO\n        },\n        head: result.title + result.head\n      };\n    },\n    $$render\n  };\n}\nfunction add_attribute(name, value, boolean) {\n  if (value == null || boolean) return \"\";\n  const assignment = `=\"${escape(value, true)}\"`;\n  return ` ${name}${assignment}`;\n}\nexport {\n  add_attribute as a,\n  escape as b,\n  create_ssr_component as c,\n  subscribe as d,\n  each as e,\n  createEventDispatcher as f,\n  getContext as g,\n  safe_not_equal as h,\n  missing_component as m,\n  noop as n,\n  onDestroy as o,\n  setContext as s,\n  validate_component as v\n};\n", "import { n as noop, h as safe_not_equal } from \"./ssr.js\";\nconst subscriber_queue = [];\nfunction readable(value, start) {\n  return {\n    subscribe: writable(value, start).subscribe\n  };\n}\nfunction writable(value, start = noop) {\n  let stop;\n  const subscribers = /* @__PURE__ */ new Set();\n  function set(new_value) {\n    if (safe_not_equal(value, new_value)) {\n      value = new_value;\n      if (stop) {\n        const run_queue = !subscriber_queue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriber_queue.push(subscriber, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n  function update(fn) {\n    set(fn(value));\n  }\n  function subscribe(run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set, update) || noop;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0 && stop) {\n        stop();\n        stop = null;\n      }\n    };\n  }\n  return { set, update, subscribe };\n}\nexport {\n  readable as r,\n  writable as w\n};\n", "let private_env = {};\nlet public_env = {};\nfunction set_private_env(environment) {\n  private_env = environment;\n}\nfunction set_public_env(environment) {\n  public_env = environment;\n}\nexport {\n  set_public_env as a,\n  private_env as b,\n  public_env as p,\n  set_private_env as s\n};\n", "/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} val\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n", "\"use strict\";\n\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false,\n};\n\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\n\nfunction parseString(setCookieValue, options) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n\n  var nameValuePairStr = parts.shift();\n  var parsed = parseNameValuePair(nameValuePairStr);\n  var name = parsed.name;\n  var value = parsed.value;\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  try {\n    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value\n  } catch (e) {\n    console.error(\n      \"set-cookie-parser encountered an error while decoding a cookie with value '\" +\n        value +\n        \"'. Set options.decodeValues to false to disable this feature.\",\n      e\n    );\n  }\n\n  var cookie = {\n    name: name,\n    value: value,\n  };\n\n  parts.forEach(function (part) {\n    var sides = part.split(\"=\");\n    var key = sides.shift().trimLeft().toLowerCase();\n    var value = sides.join(\"=\");\n    if (key === \"expires\") {\n      cookie.expires = new Date(value);\n    } else if (key === \"max-age\") {\n      cookie.maxAge = parseInt(value, 10);\n    } else if (key === \"secure\") {\n      cookie.secure = true;\n    } else if (key === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key === \"samesite\") {\n      cookie.sameSite = value;\n    } else if (key === \"partitioned\") {\n      cookie.partitioned = true;\n    } else {\n      cookie[key] = value;\n    }\n  });\n\n  return cookie;\n}\n\nfunction parseNameValuePair(nameValuePairStr) {\n  // Parses name-value-pair according to rfc6265bis draft\n\n  var name = \"\";\n  var value = \"\";\n  var nameValueArr = nameValuePairStr.split(\"=\");\n  if (nameValueArr.length > 1) {\n    name = nameValueArr.shift();\n    value = nameValueArr.join(\"=\"); // everything after the first =, joined by a \"=\" if there was more than one part\n  } else {\n    value = nameValuePairStr;\n  }\n\n  return { name: name, value: value };\n}\n\nfunction parse(input, options) {\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!input) {\n    if (!options.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n\n  if (input.headers) {\n    if (typeof input.headers.getSetCookie === \"function\") {\n      // for fetch responses - they combine headers of the same type in the headers array,\n      // but getSetCookie returns an uncombined array\n      input = input.headers.getSetCookie();\n    } else if (input.headers[\"set-cookie\"]) {\n      // fast-path for node.js (which automatically normalizes header names to lower-case\n      input = input.headers[\"set-cookie\"];\n    } else {\n      // slow-path for other environments - see #25\n      var sch =\n        input.headers[\n          Object.keys(input.headers).find(function (key) {\n            return key.toLowerCase() === \"set-cookie\";\n          })\n        ];\n      // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36\n      if (!sch && input.headers.cookie && !options.silent) {\n        console.warn(\n          \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n        );\n      }\n      input = sch;\n    }\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  if (!options.map) {\n    return input.filter(isNonEmptyString).map(function (str) {\n      return parseString(str, options);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function (cookies, str) {\n      var cookie = parseString(str, options);\n      cookies[cookie.name] = cookie;\n      return cookies;\n    }, cookies);\n  }\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n\n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos;\n        pos += 1;\n\n        skipWhitespace();\n        nextStart = pos;\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          // we found cookies separator\n          cookiesSeparatorFound = true;\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n\n  return cookiesStrings;\n}\n\nmodule.exports = parse;\nmodule.exports.parse = parse;\nmodule.exports.parseString = parseString;\nmodule.exports.splitCookiesString = splitCookiesString;\n", "function onMount() {\n}\nfunction afterUpdate() {\n}\nexport {\n  afterUpdate as a,\n  onMount as o\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SessionStore_instances, _SessionStore_chunks, _SessionStore_option, _SessionStore_logger, _SessionStore_chunk, _SessionStore_clean;\n// Uncomment to recalculate the estimated size\n// of an empty session cookie\n// import * as cookie from \"../vendored/cookie.js\"\n// const { serialize } = cookie\n// console.log(\n//   \"Cookie estimated to be \",\n//   serialize(`__Secure.authjs.session-token.0`, \"\", {\n//     expires: new Date(),\n//     httpOnly: true,\n//     maxAge: Number.MAX_SAFE_INTEGER,\n//     path: \"/\",\n//     sameSite: \"strict\",\n//     secure: true,\n//     domain: \"example.com\",\n//   }).length,\n//   \" bytes\"\n// )\nconst ALLOWED_COOKIE_SIZE = 4096;\n// Based on commented out section above\nconst ESTIMATED_EMPTY_COOKIE_SIZE = 160;\nconst CHUNK_SIZE = ALLOWED_COOKIE_SIZE - ESTIMATED_EMPTY_COOKIE_SIZE;\n/**\n * Use secure cookies if the site uses HTTPS\n * This being conditional allows cookies to work non-HTTPS development URLs\n * Honour secure cookie option, which sets 'secure' and also adds '__Secure-'\n * prefix, but enable them by default if the site URL is HTTPS; but not for\n * non-HTTPS URLs like http://localhost which are used in development).\n * For more on prefixes see https://googlechrome.github.io/samples/cookie-prefixes/\n *\n * @TODO Review cookie settings (names, options)\n */\nexport function defaultCookies(useSecureCookies) {\n    const cookiePrefix = useSecureCookies ? \"__Secure-\" : \"\";\n    return {\n        // default cookie options\n        sessionToken: {\n            name: `${cookiePrefix}authjs.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        callbackUrl: {\n            name: `${cookiePrefix}authjs.callback-url`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        csrfToken: {\n            // Default to __Host- for CSRF token for additional protection if using useSecureCookies\n            // NB: The `__Host-` prefix is stricter than the `__Secure-` prefix.\n            name: `${useSecureCookies ? \"__Host-\" : \"\"}authjs.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        pkceCodeVerifier: {\n            name: `${cookiePrefix}authjs.pkce.code_verifier`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n        state: {\n            name: `${cookiePrefix}authjs.state`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n        nonce: {\n            name: `${cookiePrefix}authjs.nonce`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        webauthnChallenge: {\n            name: `${cookiePrefix}authjs.challenge`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n    };\n}\nexport class SessionStore {\n    constructor(option, cookies, logger) {\n        _SessionStore_instances.add(this);\n        _SessionStore_chunks.set(this, {});\n        _SessionStore_option.set(this, void 0);\n        _SessionStore_logger.set(this, void 0);\n        __classPrivateFieldSet(this, _SessionStore_logger, logger, \"f\");\n        __classPrivateFieldSet(this, _SessionStore_option, option, \"f\");\n        if (!cookies)\n            return;\n        const { name: sessionCookiePrefix } = option;\n        for (const [name, value] of Object.entries(cookies)) {\n            if (!name.startsWith(sessionCookiePrefix) || !value)\n                continue;\n            __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n        }\n    }\n    /**\n     * The JWT Session or database Session ID\n     * constructed from the cookie chunks.\n     */\n    get value() {\n        // Sort the chunks by their keys before joining\n        const sortedKeys = Object.keys(__classPrivateFieldGet(this, _SessionStore_chunks, \"f\")).sort((a, b) => {\n            const aSuffix = parseInt(a.split(\".\").pop() || \"0\");\n            const bSuffix = parseInt(b.split(\".\").pop() || \"0\");\n            return aSuffix - bSuffix;\n        });\n        // Use the sorted keys to join the chunks in the correct order\n        return sortedKeys.map((key) => __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[key]).join(\"\");\n    }\n    /**\n     * Given a cookie value, return new cookies, chunked, to fit the allowed cookie size.\n     * If the cookie has changed from chunked to unchunked or vice versa,\n     * it deletes the old cookies as well.\n     */\n    chunk(value, options) {\n        // Assume all cookies should be cleaned by default\n        const cookies = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this);\n        // Calculate new chunks\n        const chunked = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_chunk).call(this, {\n            name: __classPrivateFieldGet(this, _SessionStore_option, \"f\").name,\n            value,\n            options: { ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options, ...options },\n        });\n        // Update stored chunks / cookies\n        for (const chunk of chunked) {\n            cookies[chunk.name] = chunk;\n        }\n        return Object.values(cookies);\n    }\n    /** Returns a list of cookies that should be cleaned. */\n    clean() {\n        return Object.values(__classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this));\n    }\n}\n_SessionStore_chunks = new WeakMap(), _SessionStore_option = new WeakMap(), _SessionStore_logger = new WeakMap(), _SessionStore_instances = new WeakSet(), _SessionStore_chunk = function _SessionStore_chunk(cookie) {\n    const chunkCount = Math.ceil(cookie.value.length / CHUNK_SIZE);\n    if (chunkCount === 1) {\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[cookie.name] = cookie.value;\n        return [cookie];\n    }\n    const cookies = [];\n    for (let i = 0; i < chunkCount; i++) {\n        const name = `${cookie.name}.${i}`;\n        const value = cookie.value.substr(i * CHUNK_SIZE, CHUNK_SIZE);\n        cookies.push({ ...cookie, name, value });\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n    }\n    __classPrivateFieldGet(this, _SessionStore_logger, \"f\").debug(\"CHUNKING_SESSION_COOKIE\", {\n        message: `Session cookie exceeds allowed ${ALLOWED_COOKIE_SIZE} bytes.`,\n        emptyCookieSize: ESTIMATED_EMPTY_COOKIE_SIZE,\n        valueSize: cookie.value.length,\n        chunks: cookies.map((c) => c.value.length + ESTIMATED_EMPTY_COOKIE_SIZE),\n    });\n    return cookies;\n}, _SessionStore_clean = function _SessionStore_clean() {\n    const cleanedChunks = {};\n    for (const name in __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")) {\n        delete __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")?.[name];\n        cleanedChunks[name] = {\n            name,\n            value: \"\",\n            options: { ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options, maxAge: 0 },\n        };\n    }\n    return cleanedChunks;\n};\n", "/**\n * Base error class for all Auth.js errors.\n * It's optimized to be printed in the server logs in a nicely formatted way\n * via the [`logger.error`](https://authjs.dev/reference/core#logger) option.\n */\nexport class AuthError extends Error {\n    constructor(message, errorOptions) {\n        if (message instanceof Error) {\n            super(undefined, {\n                cause: { err: message, ...message.cause, ...errorOptions },\n            });\n        }\n        else if (typeof message === \"string\") {\n            if (errorOptions instanceof Error) {\n                errorOptions = { err: errorOptions, ...errorOptions.cause };\n            }\n            super(message, errorOptions);\n        }\n        else {\n            super(undefined, message);\n        }\n        this.name = this.constructor.name;\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.type = this.constructor.type ?? \"AuthError\";\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.kind = this.constructor.kind ?? \"error\";\n        Error.captureStackTrace?.(this, this.constructor);\n        const url = `https://errors.authjs.dev#${this.type.toLowerCase()}`;\n        this.message += `${this.message ? \". \" : \"\"}Read more at ${url}`;\n    }\n}\nexport class SignInError extends AuthError {\n}\nSignInError.kind = \"signIn\";\n/**\n * One of the database [`Adapter` methods](https://authjs.dev/reference/core/adapters#methods)\n * failed during execution.\n *\n * :::tip\n * If `debug: true` is set, you can check out `[auth][debug]` in the logs to learn more about the failed adapter method execution.\n * @example\n * ```sh\n * [auth][debug]: adapter_getUserByEmail\n * { \"args\": [undefined] }\n * ```\n * :::\n */\nexport class AdapterError extends AuthError {\n}\nAdapterError.type = \"AdapterError\";\n/**\n * Thrown when the execution of the [`signIn` callback](https://authjs.dev/reference/core/types#signin) fails\n * or if it returns `false`.\n */\nexport class AccessDenied extends AuthError {\n}\nAccessDenied.type = \"AccessDenied\";\n/**\n * This error occurs when the user cannot finish login.\n * Depending on the provider type, this could have happened for multiple reasons.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n *\n * For an [OAuth provider](https://authjs.dev/getting-started/authentication/oauth), possible causes are:\n * - The user denied access to the application\n * - There was an error parsing the OAuth Profile:\n *   Check out the provider's `profile` or `userinfo.request` method to make sure\n *   it correctly fetches the user's profile.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * For an [Email provider](https://authjs.dev/getting-started/authentication/email), possible causes are:\n * - The provided email/token combination was invalid/missing:\n *   Check if the provider's `sendVerificationRequest` method correctly sends the email.\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n *\n * For a [Credentials provider](https://authjs.dev/getting-started/authentication/credentials), possible causes are:\n * - The `authorize` method threw an uncaught error:\n *   Check the provider's `authorize` method.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * :::tip\n * Check out `[auth][cause]` in the error message for more details.\n * It will show the original stack trace.\n * :::\n */\nexport class CallbackRouteError extends AuthError {\n}\nCallbackRouteError.type = \"CallbackRouteError\";\n/**\n * Thrown when Auth.js is misconfigured and accidentally tried to require authentication on a custom error page.\n * To prevent an infinite loop, Auth.js will instead render its default error page.\n *\n * To fix this, make sure that the `error` page does not require authentication.\n *\n * Learn more at [Guide: Error pages](https://authjs.dev/guides/pages/error)\n */\nexport class ErrorPageLoop extends AuthError {\n}\nErrorPageLoop.type = \"ErrorPageLoop\";\n/**\n * One of the [`events` methods](https://authjs.dev/reference/core/types#eventcallbacks)\n * failed during execution.\n *\n * Make sure that the `events` methods are implemented correctly and uncaught errors are handled.\n *\n * Learn more at [`events`](https://authjs.dev/reference/core/types#eventcallbacks)\n */\nexport class EventError extends AuthError {\n}\nEventError.type = \"EventError\";\n/**\n * Thrown when Auth.js is unable to verify a `callbackUrl` value.\n * The browser either disabled cookies or the `callbackUrl` is not a valid URL.\n *\n * Somebody might have tried to manipulate the callback URL that Auth.js uses to redirect the user back to the configured `callbackUrl`/page.\n * This could be a malicious hacker trying to redirect the user to a phishing site.\n * To prevent this, Auth.js checks if the callback URL is valid and throws this error if it is not.\n *\n * There is no action required, but it might be an indicator that somebody is trying to attack your application.\n */\nexport class InvalidCallbackUrl extends AuthError {\n}\nInvalidCallbackUrl.type = \"InvalidCallbackUrl\";\n/**\n * Can be thrown from the `authorize` callback of the Credentials provider.\n * When an error occurs during the `authorize` callback, two things can happen:\n * 1. The user is redirected to the signin page, with `error=CredentialsSignin&code=credentials` in the URL. `code` is configurable.\n * 2. If you throw this error in a framework that handles form actions server-side, this error is thrown, instead of redirecting the user, so you'll need to handle.\n */\nexport class CredentialsSignin extends SignInError {\n    constructor() {\n        super(...arguments);\n        /**\n         * The error code that is set in the `code` query parameter of the redirect URL.\n         *\n         *\n         * \u26A0 NOTE: This property is going to be included in the URL, so make sure it does not hint at sensitive errors.\n         *\n         * The full error is always logged on the server, if you need to debug.\n         *\n         * Generally, we don't recommend hinting specifically if the user had either a wrong username or password specifically,\n         * try rather something like \"Invalid credentials\".\n         */\n        this.code = \"credentials\";\n    }\n}\nCredentialsSignin.type = \"CredentialsSignin\";\n/**\n * One of the configured OAuth or OIDC providers is missing the `authorization`, `token` or `userinfo`, or `issuer` configuration.\n * To perform OAuth or OIDC sign in, at least one of these endpoints is required.\n *\n * Learn more at [`OAuth2Config`](https://authjs.dev/reference/core/providers#oauth2configprofile) or [Guide: OAuth Provider](https://authjs.dev/guides/configuring-oauth-providers)\n */\nexport class InvalidEndpoints extends AuthError {\n}\nInvalidEndpoints.type = \"InvalidEndpoints\";\n/**\n * Thrown when a PKCE, state or nonce OAuth check could not be performed.\n * This could happen if the OAuth provider is configured incorrectly or if the browser is blocking cookies.\n *\n * Learn more at [`checks`](https://authjs.dev/reference/core/providers#checks)\n */\nexport class InvalidCheck extends AuthError {\n}\nInvalidCheck.type = \"InvalidCheck\";\n/**\n * Logged on the server when Auth.js could not decode or encode a JWT-based (`strategy: \"jwt\"`) session.\n *\n * Possible causes are either a misconfigured `secret` or a malformed JWT or `encode/decode` methods.\n *\n * :::note\n * When this error is logged, the session cookie is destroyed.\n * :::\n *\n * Learn more at [`secret`](https://authjs.dev/reference/core#secret), [`jwt.encode`](https://authjs.dev/reference/core/jwt#encode-1) or [`jwt.decode`](https://authjs.dev/reference/core/jwt#decode-2) for more information.\n */\nexport class JWTSessionError extends AuthError {\n}\nJWTSessionError.type = \"JWTSessionError\";\n/**\n * Thrown if Auth.js is misconfigured. This could happen if you configured an Email provider but did not set up a database adapter,\n * or tried using a `strategy: \"database\"` session without a database adapter.\n * In both cases, make sure you either remove the configuration or add the missing adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/getting-started/database), [Email provider](https://authjs.dev/getting-started/authentication/email) or [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database-session)\n */\nexport class MissingAdapter extends AuthError {\n}\nMissingAdapter.type = \"MissingAdapter\";\n/**\n * Thrown similarily to [`MissingAdapter`](https://authjs.dev/reference/core/errors#missingadapter), but only some required methods were missing.\n *\n * Make sure you either remove the configuration or add the missing methods to the adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/getting-started/database)\n */\nexport class MissingAdapterMethods extends AuthError {\n}\nMissingAdapterMethods.type = \"MissingAdapterMethods\";\n/**\n * Thrown when a Credentials provider is missing the `authorize` configuration.\n * To perform credentials sign in, the `authorize` method is required.\n *\n * Learn more at [Credentials provider](https://authjs.dev/getting-started/authentication/credentials)\n */\nexport class MissingAuthorize extends AuthError {\n}\nMissingAuthorize.type = \"MissingAuthorize\";\n/**\n * Auth.js requires a secret or multiple secrets to be set, but none was not found. This is used to encrypt cookies, JWTs and other sensitive data.\n *\n * :::note\n * If you are using a framework like Next.js, we try to automatically infer the secret from the `AUTH_SECRET`, `AUTH_SECRET_1`, etc. environment variables.\n * Alternatively, you can also explicitly set the [`AuthConfig.secret`](https://authjs.dev/reference/core#secret) option.\n * :::\n *\n *\n * :::tip\n * To generate a random string, you can use the Auth.js CLI: `npx auth secret`\n * :::\n */\nexport class MissingSecret extends AuthError {\n}\nMissingSecret.type = \"MissingSecret\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an OAuth account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link OAuth accounts to existing accounts if the user is not signed in.\n *\n * :::tip\n * If you trust the OAuth provider to have verified the user's email address,\n * you can enable automatic account linking by setting [`allowDangerousEmailAccountLinking: true`](https://authjs.dev/reference/core/providers#allowdangerousemailaccountlinking)\n * in the provider configuration.\n * :::\n */\nexport class OAuthAccountNotLinked extends SignInError {\n}\nOAuthAccountNotLinked.type = \"OAuthAccountNotLinked\";\n/**\n * Thrown when an OAuth provider returns an error during the sign in process.\n * This could happen for example if the user denied access to the application or there was a configuration error.\n *\n * For a full list of possible reasons, check out the specification [Authorization Code Grant: Error Response](https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1)\n */\nexport class OAuthCallbackError extends SignInError {\n}\nOAuthCallbackError.type = \"OAuthCallbackError\";\n/**\n * This error occurs during an OAuth sign in attempt when the provider's\n * response could not be parsed. This could for example happen if the provider's API\n * changed, or the [`OAuth2Config.profile`](https://authjs.dev/reference/core/providers#oauth2configprofile) method is not implemented correctly.\n */\nexport class OAuthProfileParseError extends AuthError {\n}\nOAuthProfileParseError.type = \"OAuthProfileParseError\";\n/**\n * Logged on the server when Auth.js could not retrieve a session from the database (`strategy: \"database\"`).\n *\n * The database adapter might be misconfigured or the database is not reachable.\n *\n * Learn more at [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */\nexport class SessionTokenError extends AuthError {\n}\nSessionTokenError.type = \"SessionTokenError\";\n/**\n * Happens when login by [OAuth](https://authjs.dev/getting-started/authentication/oauth) could not be started.\n *\n * Possible causes are:\n * - The Authorization Server is not compliant with the [OAuth 2.0](https://www.ietf.org/rfc/rfc6749.html) or the [OIDC](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *   Check the details in the error message.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n */\nexport class OAuthSignInError extends SignInError {\n}\nOAuthSignInError.type = \"OAuthSignInError\";\n/**\n * Happens when the login by an [Email provider](https://authjs.dev/getting-started/authentication/email) could not be started.\n *\n * Possible causes are:\n * - The email sent from the client is invalid, could not be normalized by [`EmailConfig.normalizeIdentifier`](https://authjs.dev/reference/core/providers/email#normalizeidentifier)\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n */\nexport class EmailSignInError extends SignInError {\n}\nEmailSignInError.type = \"EmailSignInError\";\n/**\n * Represents an error that occurs during the sign-out process. This error\n * is logged when there are issues in terminating a user's session, either\n * by failing to delete the session from the database (in database session\n * strategies) or encountering issues during other parts of the sign-out\n * process, such as emitting sign-out events or clearing session cookies.\n *\n * The session cookie(s) are emptied even if this error is logged.\n *\n */\nexport class SignOutError extends AuthError {\n}\nSignOutError.type = \"SignOutError\";\n/**\n * Auth.js was requested to handle an operation that it does not support.\n *\n * See [`AuthAction`](https://authjs.dev/reference/core/types#authaction) for the supported actions.\n */\nexport class UnknownAction extends AuthError {\n}\nUnknownAction.type = \"UnknownAction\";\n/**\n * Thrown when a Credentials provider is present but the JWT strategy (`strategy: \"jwt\"`) is not enabled.\n *\n * Learn more at [`strategy`](https://authjs.dev/reference/core#strategy) or [Credentials provider](https://authjs.dev/getting-started/authentication/credentials)\n */\nexport class UnsupportedStrategy extends AuthError {\n}\nUnsupportedStrategy.type = \"UnsupportedStrategy\";\n/** Thrown when an endpoint was incorrectly called without a provider, or with an unsupported provider. */\nexport class InvalidProvider extends AuthError {\n}\nInvalidProvider.type = \"InvalidProvider\";\n/**\n * Thrown when the `trustHost` option was not set to `true`.\n *\n * Auth.js requires the `trustHost` option to be set to `true` since it's relying on the request headers' `host` value.\n *\n * :::note\n * Official Auth.js libraries might attempt to automatically set the `trustHost` option to `true` if the request is coming from a trusted host on a trusted platform.\n * :::\n *\n * Learn more at [`trustHost`](https://authjs.dev/reference/core#trusthost) or [Guide: Deployment](https://authjs.dev/getting-started/deployment)\n */\nexport class UntrustedHost extends AuthError {\n}\nUntrustedHost.type = \"UntrustedHost\";\n/**\n * The user's email/token combination was invalid.\n * This could be because the email/token combination was not found in the database,\n * or because the token has expired. Ask the user to log in again.\n */\nexport class Verification extends AuthError {\n}\nVerification.type = \"Verification\";\n/**\n * Error for missing CSRF tokens in client-side actions (`signIn`, `signOut`, `useSession#update`).\n * Thrown when actions lack the double submit cookie, essential for CSRF protection.\n *\n * CSRF ([Cross-Site Request Forgery](https://owasp.org/www-community/attacks/csrf))\n * is an attack leveraging authenticated user credentials for unauthorized actions.\n *\n * Double submit cookie pattern, a CSRF defense, requires matching values in a cookie\n * and request parameter. More on this at [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Glossary/CSRF).\n */\nexport class MissingCSRF extends SignInError {\n}\nMissingCSRF.type = \"MissingCSRF\";\nconst clientErrors = new Set([\n    \"CredentialsSignin\",\n    \"OAuthAccountNotLinked\",\n    \"OAuthCallbackError\",\n    \"AccessDenied\",\n    \"Verification\",\n    \"MissingCSRF\",\n    \"AccountNotLinked\",\n    \"WebAuthnVerificationError\",\n]);\n/**\n * Used to only allow sending a certain subset of errors to the client.\n * Errors are always logged on the server, but to prevent leaking sensitive information,\n * only a subset of errors are sent to the client as-is.\n * @internal\n */\nexport function isClientError(error) {\n    if (error instanceof AuthError)\n        return clientErrors.has(error.type);\n    return false;\n}\n/**\n * Thrown when multiple providers have `enableConditionalUI` set to `true`.\n * Only one provider can have this option enabled at a time.\n */\nexport class DuplicateConditionalUI extends AuthError {\n}\nDuplicateConditionalUI.type = \"DuplicateConditionalUI\";\n/**\n * Thrown when a WebAuthn provider has `enableConditionalUI` set to `true` but no formField has `webauthn` in its autocomplete param.\n *\n * The `webauthn` autocomplete param is required for conditional UI to work.\n */\nexport class MissingWebAuthnAutocomplete extends AuthError {\n}\nMissingWebAuthnAutocomplete.type = \"MissingWebAuthnAutocomplete\";\n/**\n * Thrown when a WebAuthn provider fails to verify a client response.\n */\nexport class WebAuthnVerificationError extends AuthError {\n}\nWebAuthnVerificationError.type = \"WebAuthnVerificationError\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link accounts to existing accounts if the user is not signed in.\n */\nexport class AccountNotLinked extends SignInError {\n}\nAccountNotLinked.type = \"AccountNotLinked\";\n/**\n * Thrown when an experimental feature is used but not enabled.\n */\nexport class ExperimentalFeatureNotEnabled extends AuthError {\n}\nExperimentalFeatureNotEnabled.type = \"ExperimentalFeatureNotEnabled\";\n", "import { defaultCookies } from \"./cookie.js\";\nimport { AuthError, DuplicateConditionalUI, ExperimentalFeatureNotEnabled, InvalidCallbackUrl, InvalidEndpoints, MissingAdapter, MissingAdapterMethods, MissingAuthorize, MissingSecret, MissingWebAuthnAutocomplete, UnsupportedStrategy, UntrustedHost, } from \"../../errors.js\";\nlet warned = false;\nfunction isValidHttpUrl(url, baseUrl) {\n    try {\n        return /^https?:/.test(new URL(url, url.startsWith(\"/\") ? baseUrl : undefined).protocol);\n    }\n    catch {\n        return false;\n    }\n}\nfunction isSemverString(version) {\n    return /^v\\d+(?:\\.\\d+){0,2}$/.test(version);\n}\nlet hasCredentials = false;\nlet hasEmail = false;\nlet hasWebAuthn = false;\nconst emailMethods = [\n    \"createVerificationToken\",\n    \"useVerificationToken\",\n    \"getUserByEmail\",\n];\nconst sessionMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"getUserByEmail\",\n    \"getUserByAccount\",\n    \"updateUser\",\n    \"linkAccount\",\n    \"createSession\",\n    \"getSessionAndUser\",\n    \"updateSession\",\n    \"deleteSession\",\n];\nconst webauthnMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"linkAccount\",\n    \"getAccount\",\n    \"getAuthenticator\",\n    \"createAuthenticator\",\n    \"listAuthenticatorsByUserId\",\n    \"updateAuthenticatorCounter\",\n];\n/**\n * Verify that the user configured Auth.js correctly.\n * Good place to mention deprecations as well.\n *\n * This is invoked before the init method, so default values are not available yet.\n */\nexport function assertConfig(request, options) {\n    const { url } = request;\n    const warnings = [];\n    if (!warned && options.debug)\n        warnings.push(\"debug-enabled\");\n    if (!options.trustHost) {\n        return new UntrustedHost(`Host must be trusted. URL was: ${request.url}`);\n    }\n    if (!options.secret?.length) {\n        return new MissingSecret(\"Please define a `secret`\");\n    }\n    const callbackUrlParam = request.query?.callbackUrl;\n    if (callbackUrlParam && !isValidHttpUrl(callbackUrlParam, url.origin)) {\n        return new InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlParam}`);\n    }\n    const { callbackUrl: defaultCallbackUrl } = defaultCookies(options.useSecureCookies ?? url.protocol === \"https:\");\n    const callbackUrlCookie = request.cookies?.[options.cookies?.callbackUrl?.name ?? defaultCallbackUrl.name];\n    if (callbackUrlCookie && !isValidHttpUrl(callbackUrlCookie, url.origin)) {\n        return new InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlCookie}`);\n    }\n    // Keep track of webauthn providers that use conditional UI\n    let hasConditionalUIProvider = false;\n    for (const p of options.providers) {\n        const provider = typeof p === \"function\" ? p() : p;\n        if ((provider.type === \"oauth\" || provider.type === \"oidc\") &&\n            !(provider.issuer ?? provider.options?.issuer)) {\n            const { authorization: a, token: t, userinfo: u } = provider;\n            let key;\n            if (typeof a !== \"string\" && !a?.url)\n                key = \"authorization\";\n            else if (typeof t !== \"string\" && !t?.url)\n                key = \"token\";\n            else if (typeof u !== \"string\" && !u?.url)\n                key = \"userinfo\";\n            if (key) {\n                return new InvalidEndpoints(`Provider \"${provider.id}\" is missing both \\`issuer\\` and \\`${key}\\` endpoint config. At least one of them is required`);\n            }\n        }\n        if (provider.type === \"credentials\")\n            hasCredentials = true;\n        else if (provider.type === \"email\")\n            hasEmail = true;\n        else if (provider.type === \"webauthn\") {\n            hasWebAuthn = true;\n            // Validate simpleWebAuthnBrowserVersion\n            if (provider.simpleWebAuthnBrowserVersion &&\n                !isSemverString(provider.simpleWebAuthnBrowserVersion)) {\n                return new AuthError(`Invalid provider config for \"${provider.id}\": simpleWebAuthnBrowserVersion \"${provider.simpleWebAuthnBrowserVersion}\" must be a valid semver string.`);\n            }\n            if (provider.enableConditionalUI) {\n                // Make sure only one webauthn provider has \"enableConditionalUI\" set to true\n                if (hasConditionalUIProvider) {\n                    return new DuplicateConditionalUI(`Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time`);\n                }\n                hasConditionalUIProvider = true;\n                // Make sure at least one formField has \"webauthn\" in its autocomplete param\n                const hasWebauthnFormField = Object.values(provider.formFields).some((f) => f.autocomplete && f.autocomplete.toString().indexOf(\"webauthn\") > -1);\n                if (!hasWebauthnFormField) {\n                    return new MissingWebAuthnAutocomplete(`Provider \"${provider.id}\" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`);\n                }\n            }\n        }\n    }\n    if (hasCredentials) {\n        const dbStrategy = options.session?.strategy === \"database\";\n        const onlyCredentials = !options.providers.some((p) => (typeof p === \"function\" ? p() : p).type !== \"credentials\");\n        if (dbStrategy && onlyCredentials) {\n            return new UnsupportedStrategy(\"Signing in with credentials only supported if JWT strategy is enabled\");\n        }\n        const credentialsNoAuthorize = options.providers.some((p) => {\n            const provider = typeof p === \"function\" ? p() : p;\n            return provider.type === \"credentials\" && !provider.authorize;\n        });\n        if (credentialsNoAuthorize) {\n            return new MissingAuthorize(\"Must define an authorize() handler to use credentials authentication provider\");\n        }\n    }\n    const { adapter, session } = options;\n    const requiredMethods = [];\n    if (hasEmail ||\n        session?.strategy === \"database\" ||\n        (!session?.strategy && adapter)) {\n        if (hasEmail) {\n            if (!adapter)\n                return new MissingAdapter(\"Email login requires an adapter\");\n            requiredMethods.push(...emailMethods);\n        }\n        else {\n            if (!adapter)\n                return new MissingAdapter(\"Database session requires an adapter\");\n            requiredMethods.push(...sessionMethods);\n        }\n    }\n    if (hasWebAuthn) {\n        // Log experimental warning\n        if (options.experimental?.enableWebAuthn) {\n            warnings.push(\"experimental-webauthn\");\n        }\n        else {\n            return new ExperimentalFeatureNotEnabled(\"WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config\");\n        }\n        if (!adapter)\n            return new MissingAdapter(\"WebAuthn requires an adapter\");\n        requiredMethods.push(...webauthnMethods);\n    }\n    if (adapter) {\n        const missing = requiredMethods.filter((m) => !(m in adapter));\n        if (missing.length) {\n            return new MissingAdapterMethods(`Required adapter methods were missing: ${missing.join(\", \")}`);\n        }\n    }\n    if (!warned)\n        warned = true;\n    return warnings;\n}\n", "const getGlobal = () => {\n    if (typeof globalThis !== 'undefined')\n        return globalThis;\n    if (typeof self !== 'undefined')\n        return self;\n    if (typeof window !== 'undefined')\n        return window;\n    throw new Error('unable to locate global object');\n};\nexport default async (digest, ikm, salt, info, keylen) => {\n    const { crypto: { subtle }, } = getGlobal();\n    return new Uint8Array(await subtle.deriveBits({\n        name: 'HKDF',\n        hash: `SHA-${digest.substr(3)}`,\n        salt,\n        info,\n    }, await subtle.importKey('raw', ikm, 'HKDF', false, ['deriveBits']), keylen << 3));\n};\n", "import derive from './runtime/hkdf.js';\nfunction normalizeDigest(digest) {\n    switch (digest) {\n        case 'sha256':\n        case 'sha384':\n        case 'sha512':\n        case 'sha1':\n            return digest;\n        default:\n            throw new TypeError('unsupported \"digest\" value');\n    }\n}\nfunction normalizeUint8Array(input, label) {\n    if (typeof input === 'string')\n        return new TextEncoder().encode(input);\n    if (!(input instanceof Uint8Array))\n        throw new TypeError(`\"${label}\"\" must be an instance of Uint8Array or a string`);\n    return input;\n}\nfunction normalizeIkm(input) {\n    const ikm = normalizeUint8Array(input, 'ikm');\n    if (!ikm.byteLength)\n        throw new TypeError(`\"ikm\" must be at least one byte in length`);\n    return ikm;\n}\nfunction normalizeInfo(input) {\n    const info = normalizeUint8Array(input, 'info');\n    if (info.byteLength > 1024) {\n        throw TypeError('\"info\" must not contain more than 1024 bytes');\n    }\n    return info;\n}\nfunction normalizeKeylen(input, digest) {\n    if (typeof input !== 'number' || !Number.isInteger(input) || input < 1) {\n        throw new TypeError('\"keylen\" must be a positive integer');\n    }\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    if (input > 255 * hashlen) {\n        throw new TypeError('\"keylen\" too large');\n    }\n    return input;\n}\nasync function hkdf(digest, ikm, salt, info, keylen) {\n    return derive(normalizeDigest(digest), normalizeIkm(ikm), normalizeUint8Array(salt, 'salt'), normalizeInfo(info), normalizeKeylen(keylen, digest));\n}\nexport { hkdf, hkdf as default };\n", "export default crypto;\nexport const isCryptoKey = (key) => key instanceof CryptoKey;\n", "import crypto from './webcrypto.js';\nconst digest = async (algorithm, data) => {\n    const subtleDigest = `SHA-${algorithm.slice(-3)}`;\n    return new Uint8Array(await crypto.subtle.digest(subtleDigest, data));\n};\nexport default digest;\n", "import digest from '../runtime/digest.js';\nexport const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nexport function p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexport async function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await digest('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\n", "import { encoder, decoder } from '../lib/buffer_utils.js';\nexport const encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nexport const encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nexport const decodeBase64 = (encoded) => {\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n};\nexport const decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n", "export class JOSEError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nJOSEError.code = 'ERR_JOSE_GENERIC';\nexport class JWTClaimValidationFailed extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTClaimValidationFailed.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\nexport class JWTExpired extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTExpired.code = 'ERR_JWT_EXPIRED';\nexport class JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nJOSEAlgNotAllowed.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\nexport class JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nJOSENotSupported.code = 'ERR_JOSE_NOT_SUPPORTED';\nexport class JWEDecryptionFailed extends JOSEError {\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nJWEDecryptionFailed.code = 'ERR_JWE_DECRYPTION_FAILED';\nexport class JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n}\nJWEInvalid.code = 'ERR_JWE_INVALID';\nexport class JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n}\nJWSInvalid.code = 'ERR_JWS_INVALID';\nexport class JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n}\nJWTInvalid.code = 'ERR_JWT_INVALID';\nexport class JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n}\nJWKInvalid.code = 'ERR_JWK_INVALID';\nexport class JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n}\nJWKSInvalid.code = 'ERR_JWKS_INVALID';\nexport class JWKSNoMatchingKey extends JOSEError {\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nJWKSNoMatchingKey.code = 'ERR_JWKS_NO_MATCHING_KEY';\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nSymbol.asyncIterator;\nJWKSMultipleMatchingKeys.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\nexport class JWKSTimeout extends JOSEError {\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_TIMEOUT';\n    }\n}\nJWKSTimeout.code = 'ERR_JWKS_TIMEOUT';\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nJWSSignatureVerificationFailed.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n", "import crypto from './webcrypto.js';\nexport default crypto.getRandomValues.bind(crypto);\n", "import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n", "import { JWEInvalid } from '../util/errors.js';\nimport { bitLength } from './iv.js';\nconst checkIvLength = (enc, iv) => {\n    if (iv.length << 3 !== bitLength(enc)) {\n        throw new JWEInvalid('Invalid Initialization Vector length');\n    }\n};\nexport default checkIvLength;\n", "import { JWEInvalid } from '../util/errors.js';\nconst checkCekLength = (cek, expected) => {\n    const actual = cek.byteLength << 3;\n    if (actual !== expected) {\n        throw new JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n    }\n};\nexport default checkCekLength;\n", "const timingSafeEqual = (a, b) => {\n    if (!(a instanceof Uint8Array)) {\n        throw new TypeError('First argument must be a buffer');\n    }\n    if (!(b instanceof Uint8Array)) {\n        throw new TypeError('Second argument must be a buffer');\n    }\n    if (a.length !== b.length) {\n        throw new TypeError('Input buffers must have the same length');\n    }\n    const len = a.length;\n    let out = 0;\n    let i = -1;\n    while (++i < len) {\n        out |= a[i] ^ b[i];\n    }\n    return out === 0;\n};\nexport default timingSafeEqual;\n", "function unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nexport function checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'Ed25519': {\n            if (!isAlgorithm(key.algorithm, 'Ed25519'))\n                throw unusable('Ed25519');\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexport function checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\n", "function message(msg, actual, ...types) {\n    types = types.filter(Boolean);\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport default (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nexport function withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\n", "import { isCryptoKey } from './webcrypto.js';\nexport default (key) => {\n    if (isCryptoKey(key)) {\n        return true;\n    }\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nexport const types = ['CryptoKey'];\n", "import { concat, uint64be } from '../lib/buffer_utils.js';\nimport checkIvLength from '../lib/check_iv_length.js';\nimport checkCekLength from './check_cek_length.js';\nimport timingSafeEqual from './timing_safe_equal.js';\nimport { JOSENotSupported, JWEDecryptionFailed, JWEInvalid } from '../util/errors.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nasync function cbcDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['decrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const macData = concat(aad, iv, ciphertext, uint64be(aad.length << 3));\n    const expectedTag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    let macCheckPassed;\n    try {\n        macCheckPassed = timingSafeEqual(tag, expectedTag);\n    }\n    catch {\n    }\n    if (!macCheckPassed) {\n        throw new JWEDecryptionFailed();\n    }\n    let plaintext;\n    try {\n        plaintext = new Uint8Array(await crypto.subtle.decrypt({ iv, name: 'AES-CBC' }, encKey, ciphertext));\n    }\n    catch {\n    }\n    if (!plaintext) {\n        throw new JWEDecryptionFailed();\n    }\n    return plaintext;\n}\nasync function gcmDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['decrypt']);\n    }\n    else {\n        checkEncCryptoKey(cek, enc, 'decrypt');\n        encKey = cek;\n    }\n    try {\n        return new Uint8Array(await crypto.subtle.decrypt({\n            additionalData: aad,\n            iv,\n            name: 'AES-GCM',\n            tagLength: 128,\n        }, encKey, concat(ciphertext, tag)));\n    }\n    catch {\n        throw new JWEDecryptionFailed();\n    }\n}\nconst decrypt = async (enc, cek, ciphertext, iv, tag, aad) => {\n    if (!isCryptoKey(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, ...types, 'Uint8Array'));\n    }\n    if (!iv) {\n        throw new JWEInvalid('JWE Initialization Vector missing');\n    }\n    if (!tag) {\n        throw new JWEInvalid('JWE Authentication Tag missing');\n    }\n    checkIvLength(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(-3), 10));\n            return cbcDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(1, 4), 10));\n            return gcmDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        default:\n            throw new JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexport default decrypt;\n", "const isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexport default isDisjoint;\n", "function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nexport default function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n", "const bogusWebCrypto = [\n    { hash: 'SHA-256', name: 'HMAC' },\n    true,\n    ['sign'],\n];\nexport default bogusWebCrypto;\n", "import bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction checkKeySize(key, alg) {\n    if (key.algorithm.length !== parseInt(alg.slice(1, 4), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction getCryptoKey(key, alg, usage) {\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'AES-KW', true, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nexport const wrap = async (alg, key, cek) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'wrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, cryptoKey, 'AES-KW'));\n};\nexport const unwrap = async (alg, key, encryptedKey) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'unwrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, cryptoKey, 'AES-KW', ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n};\n", "import { encoder, concat, uint32be, lengthAndInput, concatKdf } from '../lib/buffer_utils.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport async function deriveKey(publicKey, privateKey, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) {\n    if (!isCryptoKey(publicKey)) {\n        throw new TypeError(invalidKeyInput(publicKey, ...types));\n    }\n    checkEncCryptoKey(publicKey, 'ECDH');\n    if (!isCryptoKey(privateKey)) {\n        throw new TypeError(invalidKeyInput(privateKey, ...types));\n    }\n    checkEncCryptoKey(privateKey, 'ECDH', 'deriveBits');\n    const value = concat(lengthAndInput(encoder.encode(algorithm)), lengthAndInput(apu), lengthAndInput(apv), uint32be(keyLength));\n    let length;\n    if (publicKey.algorithm.name === 'X25519') {\n        length = 256;\n    }\n    else if (publicKey.algorithm.name === 'X448') {\n        length = 448;\n    }\n    else {\n        length =\n            Math.ceil(parseInt(publicKey.algorithm.namedCurve.substr(-3), 10) / 8) <<\n                3;\n    }\n    const sharedSecret = new Uint8Array(await crypto.subtle.deriveBits({\n        name: publicKey.algorithm.name,\n        public: publicKey,\n    }, privateKey, length));\n    return concatKdf(sharedSecret, keyLength, value);\n}\nexport async function generateEpk(key) {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return crypto.subtle.generateKey(key.algorithm, true, ['deriveBits']);\n}\nexport function ecdhAllowed(key) {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return (['P-256', 'P-384', 'P-521'].includes(key.algorithm.namedCurve) ||\n        key.algorithm.name === 'X25519' ||\n        key.algorithm.name === 'X448');\n}\n", "import { JWEInvalid } from '../util/errors.js';\nexport default function checkP2s(p2s) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n}\n", "import random from './random.js';\nimport { p2s as concatSalt } from '../lib/buffer_utils.js';\nimport { encode as base64url } from './base64url.js';\nimport { wrap, unwrap } from './aeskw.js';\nimport checkP2s from '../lib/check_p2s.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction getCryptoKey(key, alg) {\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'PBKDF2', false, ['deriveBits']);\n    }\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, 'deriveBits', 'deriveKey');\n        return key;\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nasync function deriveKey(p2s, alg, p2c, key) {\n    checkP2s(p2s);\n    const salt = concatSalt(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10);\n    const subtleAlg = {\n        hash: `SHA-${alg.slice(8, 11)}`,\n        iterations: p2c,\n        name: 'PBKDF2',\n        salt,\n    };\n    const wrapAlg = {\n        length: keylen,\n        name: 'AES-KW',\n    };\n    const cryptoKey = await getCryptoKey(key, alg);\n    if (cryptoKey.usages.includes('deriveBits')) {\n        return new Uint8Array(await crypto.subtle.deriveBits(subtleAlg, cryptoKey, keylen));\n    }\n    if (cryptoKey.usages.includes('deriveKey')) {\n        return crypto.subtle.deriveKey(subtleAlg, cryptoKey, wrapAlg, false, ['wrapKey', 'unwrapKey']);\n    }\n    throw new TypeError('PBKDF2 key \"usages\" must include \"deriveBits\" or \"deriveKey\"');\n}\nexport const encrypt = async (alg, key, cek, p2c = 2048, p2s = random(new Uint8Array(16))) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    const encryptedKey = await wrap(alg.slice(-6), derived, cek);\n    return { encryptedKey, p2c, p2s: base64url(p2s) };\n};\nexport const decrypt = async (alg, key, encryptedKey, p2c, p2s) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    return unwrap(alg.slice(-6), derived, encryptedKey);\n};\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleRsaEs(alg) {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return 'RSA-OAEP';\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "export default (alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n};\n", "import subtleAlgorithm from './subtle_rsaes.js';\nimport bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport checkKeyLength from './check_key_length.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport const encrypt = async (alg, key, cek) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'encrypt', 'wrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('encrypt')) {\n        return new Uint8Array(await crypto.subtle.encrypt(subtleAlgorithm(alg), key, cek));\n    }\n    if (key.usages.includes('wrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, key, subtleAlgorithm(alg)));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"encrypt\" or \"wrapKey\" for this operation');\n};\nexport const decrypt = async (alg, key, encryptedKey) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'decrypt', 'unwrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('decrypt')) {\n        return new Uint8Array(await crypto.subtle.decrypt(subtleAlgorithm(alg), key, encryptedKey));\n    }\n    if (key.usages.includes('unwrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, key, subtleAlgorithm(alg), ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"decrypt\" or \"unwrapKey\" for this operation');\n};\n", "import isObject from './is_object.js';\nexport function isJWK(key) {\n    return isObject(key) && typeof key.kty === 'string';\n}\nexport function isPrivateJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'string';\n}\nexport function isPublicJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'undefined';\n}\nexport function isSecretJWK(key) {\n    return isJWK(key) && key.kty === 'oct' && typeof key.k === 'string';\n}\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'Ed25519':\n                    algorithm = { name: 'Ed25519' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'EdDSA':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nconst parse = async (jwk) => {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const rest = [\n        algorithm,\n        jwk.ext ?? false,\n        jwk.key_ops ?? keyUsages,\n    ];\n    const keyData = { ...jwk };\n    delete keyData.alg;\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, ...rest);\n};\nexport default parse;\n", "import { isJWK } from '../lib/is_jwk.js';\nimport { decode } from './base64url.js';\nimport importJWK from './jwk_to_key.js';\nconst exportKeyValue = (k) => decode(k);\nlet privCache;\nlet pubCache;\nconst isKeyObject = (key) => {\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nconst importAndCache = async (cache, key, jwk, alg, freeze = false) => {\n    let cached = cache.get(key);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const cryptoKey = await importJWK({ ...jwk, alg });\n    if (freeze)\n        Object.freeze(key);\n    if (!cached) {\n        cache.set(key, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nconst normalizePublicKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        delete jwk.d;\n        delete jwk.dp;\n        delete jwk.dq;\n        delete jwk.p;\n        delete jwk.q;\n        delete jwk.qi;\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        pubCache || (pubCache = new WeakMap());\n        return importAndCache(pubCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        pubCache || (pubCache = new WeakMap());\n        const cryptoKey = importAndCache(pubCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nconst normalizePrivateKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        privCache || (privCache = new WeakMap());\n        return importAndCache(privCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        privCache || (privCache = new WeakMap());\n        const cryptoKey = importAndCache(privCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nexport default { normalizePublicKey, normalizePrivateKey };\n", "import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n", "import { decode as decodeBase64URL } from '../runtime/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../runtime/asn1.js';\nimport asKeyObject from '../runtime/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if ('oth' in jwk && jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return asKeyObject({ ...jwk, alg });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n", "import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport isKeyLike, { types } from '../runtime/is_key_like.js';\nimport * as jwk from './is_jwk.js';\nconst tag = (key) => key?.[Symbol.toStringTag];\nconst jwkMatchesOp = (alg, key, usage) => {\n    if (key.use !== undefined && key.use !== 'sig') {\n        throw new TypeError('Invalid key for this operation, when present its use must be sig');\n    }\n    if (key.key_ops !== undefined && key.key_ops.includes?.(usage) !== true) {\n        throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${usage}`);\n    }\n    if (key.alg !== undefined && key.alg !== alg) {\n        throw new TypeError(`Invalid key for this operation, when present its alg must be ${alg}`);\n    }\n    return true;\n};\nconst symmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (allowJwk && jwk.isJWK(key)) {\n        if (jwk.isSecretJWK(key) && jwkMatchesOp(alg, key, usage))\n            return;\n        throw new TypeError(`JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present`);\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, 'Uint8Array', allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${tag(key)} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (allowJwk && jwk.isJWK(key)) {\n        switch (usage) {\n            case 'sign':\n                if (jwk.isPrivateJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a private JWK`);\n            case 'verify':\n                if (jwk.isPublicJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a public JWK`);\n        }\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nfunction checkKeyType(allowJwk, alg, key, usage) {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n}\nexport default checkKeyType.bind(undefined, false);\nexport const checkKeyTypeWithJwk = checkKeyType.bind(undefined, true);\n", "import { concat, uint64be } from '../lib/buffer_utils.js';\nimport checkIvLength from '../lib/check_iv_length.js';\nimport checkCekLength from './check_cek_length.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport generateIv from '../lib/iv.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { types } from './is_key_like.js';\nasync function cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['encrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const ciphertext = new Uint8Array(await crypto.subtle.encrypt({\n        iv,\n        name: 'AES-CBC',\n    }, encKey, plaintext));\n    const macData = concat(aad, iv, ciphertext, uint64be(aad.length << 3));\n    const tag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    return { ciphertext, tag, iv };\n}\nasync function gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['encrypt']);\n    }\n    else {\n        checkEncCryptoKey(cek, enc, 'encrypt');\n        encKey = cek;\n    }\n    const encrypted = new Uint8Array(await crypto.subtle.encrypt({\n        additionalData: aad,\n        iv,\n        name: 'AES-GCM',\n        tagLength: 128,\n    }, encKey, plaintext));\n    const tag = encrypted.slice(-16);\n    const ciphertext = encrypted.slice(0, -16);\n    return { ciphertext, tag, iv };\n}\nconst encrypt = async (enc, plaintext, cek, iv, aad) => {\n    if (!isCryptoKey(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, ...types, 'Uint8Array'));\n    }\n    if (iv) {\n        checkIvLength(enc, iv);\n    }\n    else {\n        iv = generateIv(enc);\n    }\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array) {\n                checkCekLength(cek, parseInt(enc.slice(-3), 10));\n            }\n            return cbcEncrypt(enc, plaintext, cek, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array) {\n                checkCekLength(cek, parseInt(enc.slice(1, 4), 10));\n            }\n            return gcmEncrypt(enc, plaintext, cek, iv, aad);\n        default:\n            throw new JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexport default encrypt;\n", "import encrypt from '../runtime/encrypt.js';\nimport decrypt from '../runtime/decrypt.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nexport async function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.slice(0, 7);\n    const wrapped = await encrypt(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return {\n        encryptedKey: wrapped.ciphertext,\n        iv: base64url(wrapped.iv),\n        tag: base64url(wrapped.tag),\n    };\n}\nexport async function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.slice(0, 7);\n    return decrypt(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\n", "import { unwrap as aesKw } from '../runtime/aeskw.js';\nimport * as ECDH from '../runtime/ecdhes.js';\nimport { decrypt as pbes2Kw } from '../runtime/pbes2kw.js';\nimport { decrypt as rsaEs } from '../runtime/rsaes.js';\nimport { decode as base64url } from '../runtime/base64url.js';\nimport normalize from '../runtime/normalize_key.js';\nimport { JOSENotSupported, JWEInvalid } from '../util/errors.js';\nimport { bitLength as cekLength } from '../lib/cek.js';\nimport { importJWK } from '../key/import.js';\nimport checkKeyType from './check_key_type.js';\nimport isObject from './is_object.js';\nimport { unwrap as aesGcmKw } from './aesgcmkw.js';\nasync function decryptKeyManagement(alg, key, encryptedKey, joseHeader, options) {\n    checkKeyType(alg, key, 'decrypt');\n    key = (await normalize.normalizePrivateKey?.(key, alg)) || key;\n    switch (alg) {\n        case 'dir': {\n            if (encryptedKey !== undefined)\n                throw new JWEInvalid('Encountered unexpected JWE Encrypted Key');\n            return key;\n        }\n        case 'ECDH-ES':\n            if (encryptedKey !== undefined)\n                throw new JWEInvalid('Encountered unexpected JWE Encrypted Key');\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!isObject(joseHeader.epk))\n                throw new JWEInvalid(`JOSE Header \"epk\" (Ephemeral Public Key) missing or invalid`);\n            if (!ECDH.ecdhAllowed(key))\n                throw new JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            const epk = await importJWK(joseHeader.epk, alg);\n            let partyUInfo;\n            let partyVInfo;\n            if (joseHeader.apu !== undefined) {\n                if (typeof joseHeader.apu !== 'string')\n                    throw new JWEInvalid(`JOSE Header \"apu\" (Agreement PartyUInfo) invalid`);\n                try {\n                    partyUInfo = base64url(joseHeader.apu);\n                }\n                catch {\n                    throw new JWEInvalid('Failed to base64url decode the apu');\n                }\n            }\n            if (joseHeader.apv !== undefined) {\n                if (typeof joseHeader.apv !== 'string')\n                    throw new JWEInvalid(`JOSE Header \"apv\" (Agreement PartyVInfo) invalid`);\n                try {\n                    partyVInfo = base64url(joseHeader.apv);\n                }\n                catch {\n                    throw new JWEInvalid('Failed to base64url decode the apv');\n                }\n            }\n            const sharedSecret = await ECDH.deriveKey(epk, key, alg === 'ECDH-ES' ? joseHeader.enc : alg, alg === 'ECDH-ES' ? cekLength(joseHeader.enc) : parseInt(alg.slice(-5, -2), 10), partyUInfo, partyVInfo);\n            if (alg === 'ECDH-ES')\n                return sharedSecret;\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return aesKw(alg.slice(-6), sharedSecret, encryptedKey);\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return rsaEs(alg, key, encryptedKey);\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.p2c !== 'number')\n                throw new JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) missing or invalid`);\n            const p2cLimit = options?.maxPBES2Count || 10000;\n            if (joseHeader.p2c > p2cLimit)\n                throw new JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) out is of acceptable bounds`);\n            if (typeof joseHeader.p2s !== 'string')\n                throw new JWEInvalid(`JOSE Header \"p2s\" (PBES2 Salt) missing or invalid`);\n            let p2s;\n            try {\n                p2s = base64url(joseHeader.p2s);\n            }\n            catch {\n                throw new JWEInvalid('Failed to base64url decode the p2s');\n            }\n            return pbes2Kw(alg, key, encryptedKey, joseHeader.p2c, p2s);\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return aesKw(alg, key, encryptedKey);\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.iv !== 'string')\n                throw new JWEInvalid(`JOSE Header \"iv\" (Initialization Vector) missing or invalid`);\n            if (typeof joseHeader.tag !== 'string')\n                throw new JWEInvalid(`JOSE Header \"tag\" (Authentication Tag) missing or invalid`);\n            let iv;\n            try {\n                iv = base64url(joseHeader.iv);\n            }\n            catch {\n                throw new JWEInvalid('Failed to base64url decode the iv');\n            }\n            let tag;\n            try {\n                tag = base64url(joseHeader.tag);\n            }\n            catch {\n                throw new JWEInvalid('Failed to base64url decode the tag');\n            }\n            return aesGcmKw(alg, key, encryptedKey, iv, tag);\n        }\n        default: {\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n}\nexport default decryptKeyManagement;\n", "import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n", "const validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexport default validateAlgorithms;\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport decrypt from '../../runtime/decrypt.js';\nimport { JOSEAlgNotAllowed, JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport decryptKeyManagement from '../../lib/decrypt_key_management.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport generateCek from '../../lib/cek.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nexport async function flattenedDecrypt(jwe, key, options) {\n    if (!isObject(jwe)) {\n        throw new JWEInvalid('Flattened JWE must be an object');\n    }\n    if (jwe.protected === undefined && jwe.header === undefined && jwe.unprotected === undefined) {\n        throw new JWEInvalid('JOSE Header missing');\n    }\n    if (jwe.iv !== undefined && typeof jwe.iv !== 'string') {\n        throw new JWEInvalid('JWE Initialization Vector incorrect type');\n    }\n    if (typeof jwe.ciphertext !== 'string') {\n        throw new JWEInvalid('JWE Ciphertext missing or incorrect type');\n    }\n    if (jwe.tag !== undefined && typeof jwe.tag !== 'string') {\n        throw new JWEInvalid('JWE Authentication Tag incorrect type');\n    }\n    if (jwe.protected !== undefined && typeof jwe.protected !== 'string') {\n        throw new JWEInvalid('JWE Protected Header incorrect type');\n    }\n    if (jwe.encrypted_key !== undefined && typeof jwe.encrypted_key !== 'string') {\n        throw new JWEInvalid('JWE Encrypted Key incorrect type');\n    }\n    if (jwe.aad !== undefined && typeof jwe.aad !== 'string') {\n        throw new JWEInvalid('JWE AAD incorrect type');\n    }\n    if (jwe.header !== undefined && !isObject(jwe.header)) {\n        throw new JWEInvalid('JWE Shared Unprotected Header incorrect type');\n    }\n    if (jwe.unprotected !== undefined && !isObject(jwe.unprotected)) {\n        throw new JWEInvalid('JWE Per-Recipient Unprotected Header incorrect type');\n    }\n    let parsedProt;\n    if (jwe.protected) {\n        try {\n            const protectedHeader = base64url(jwe.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWEInvalid('JWE Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jwe.header, jwe.unprotected)) {\n        throw new JWEInvalid('JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jwe.header,\n        ...jwe.unprotected,\n    };\n    validateCrit(JWEInvalid, new Map(), options?.crit, parsedProt, joseHeader);\n    if (joseHeader.zip !== undefined) {\n        throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported.');\n    }\n    const { alg, enc } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWEInvalid('missing JWE Algorithm (alg) in JWE Header');\n    }\n    if (typeof enc !== 'string' || !enc) {\n        throw new JWEInvalid('missing JWE Encryption Algorithm (enc) in JWE Header');\n    }\n    const keyManagementAlgorithms = options && validateAlgorithms('keyManagementAlgorithms', options.keyManagementAlgorithms);\n    const contentEncryptionAlgorithms = options &&\n        validateAlgorithms('contentEncryptionAlgorithms', options.contentEncryptionAlgorithms);\n    if ((keyManagementAlgorithms && !keyManagementAlgorithms.has(alg)) ||\n        (!keyManagementAlgorithms && alg.startsWith('PBES2'))) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (contentEncryptionAlgorithms && !contentEncryptionAlgorithms.has(enc)) {\n        throw new JOSEAlgNotAllowed('\"enc\" (Encryption Algorithm) Header Parameter value not allowed');\n    }\n    let encryptedKey;\n    if (jwe.encrypted_key !== undefined) {\n        try {\n            encryptedKey = base64url(jwe.encrypted_key);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the encrypted_key');\n        }\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jwe);\n        resolvedKey = true;\n    }\n    let cek;\n    try {\n        cek = await decryptKeyManagement(alg, key, encryptedKey, joseHeader, options);\n    }\n    catch (err) {\n        if (err instanceof TypeError || err instanceof JWEInvalid || err instanceof JOSENotSupported) {\n            throw err;\n        }\n        cek = generateCek(enc);\n    }\n    let iv;\n    let tag;\n    if (jwe.iv !== undefined) {\n        try {\n            iv = base64url(jwe.iv);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the iv');\n        }\n    }\n    if (jwe.tag !== undefined) {\n        try {\n            tag = base64url(jwe.tag);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the tag');\n        }\n    }\n    const protectedHeader = encoder.encode(jwe.protected ?? '');\n    let additionalData;\n    if (jwe.aad !== undefined) {\n        additionalData = concat(protectedHeader, encoder.encode('.'), encoder.encode(jwe.aad));\n    }\n    else {\n        additionalData = protectedHeader;\n    }\n    let ciphertext;\n    try {\n        ciphertext = base64url(jwe.ciphertext);\n    }\n    catch {\n        throw new JWEInvalid('Failed to base64url decode the ciphertext');\n    }\n    const plaintext = await decrypt(enc, cek, ciphertext, iv, tag, additionalData);\n    const result = { plaintext };\n    if (jwe.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jwe.aad !== undefined) {\n        try {\n            result.additionalAuthenticatedData = base64url(jwe.aad);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the aad');\n        }\n    }\n    if (jwe.unprotected !== undefined) {\n        result.sharedUnprotectedHeader = jwe.unprotected;\n    }\n    if (jwe.header !== undefined) {\n        result.unprotectedHeader = jwe.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactDecrypt(jwe, key, options) {\n    if (jwe instanceof Uint8Array) {\n        jwe = decoder.decode(jwe);\n    }\n    if (typeof jwe !== 'string') {\n        throw new JWEInvalid('Compact JWE must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: encryptedKey, 2: iv, 3: ciphertext, 4: tag, length, } = jwe.split('.');\n    if (length !== 5) {\n        throw new JWEInvalid('Invalid Compact JWE');\n    }\n    const decrypted = await flattenedDecrypt({\n        ciphertext,\n        iv: iv || undefined,\n        protected: protectedHeader,\n        tag: tag || undefined,\n        encrypted_key: encryptedKey || undefined,\n    }, key, options);\n    const result = { plaintext: decrypted.plaintext, protectedHeader: decrypted.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n", "export const unprotected = Symbol();\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { encode as base64url } from './base64url.js';\nimport { types } from './is_key_like.js';\nconst keyToJWK = async (key) => {\n    if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: base64url(key),\n        };\n    }\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('non-extractable CryptoKey cannot be exported as a JWK');\n    }\n    const { ext, key_ops, alg, use, ...jwk } = await crypto.subtle.exportKey('jwk', key);\n    return jwk;\n};\nexport default keyToJWK;\n", "import { toSPKI as exportPublic } from '../runtime/asn1.js';\nimport { toPKCS8 as exportPrivate } from '../runtime/asn1.js';\nimport keyToJWK from '../runtime/key_to_jwk.js';\nexport async function exportSPKI(key) {\n    return exportPublic(key);\n}\nexport async function exportPKCS8(key) {\n    return exportPrivate(key);\n}\nexport async function exportJWK(key) {\n    return keyToJWK(key);\n}\n", "import { wrap as aesKw } from '../runtime/aeskw.js';\nimport * as ECDH from '../runtime/ecdhes.js';\nimport { encrypt as pbes2Kw } from '../runtime/pbes2kw.js';\nimport { encrypt as rsaEs } from '../runtime/rsaes.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nimport normalize from '../runtime/normalize_key.js';\nimport generateCek, { bitLength as cekLength } from '../lib/cek.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { exportJWK } from '../key/export.js';\nimport checkKeyType from './check_key_type.js';\nimport { wrap as aesGcmKw } from './aesgcmkw.js';\nasync function encryptKeyManagement(alg, enc, key, providedCek, providedParameters = {}) {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    checkKeyType(alg, key, 'encrypt');\n    key = (await normalize.normalizePublicKey?.(key, alg)) || key;\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!ECDH.ecdhAllowed(key)) {\n                throw new JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let { epk: ephemeralKey } = providedParameters;\n            ephemeralKey || (ephemeralKey = (await ECDH.generateEpk(key)).privateKey);\n            const { x, y, crv, kty } = await exportJWK(ephemeralKey);\n            const sharedSecret = await ECDH.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? cekLength(enc) : parseInt(alg.slice(-5, -2), 10), apu, apv);\n            parameters = { epk: { x, crv, kty } };\n            if (kty === 'EC')\n                parameters.epk.y = y;\n            if (apu)\n                parameters.apu = base64url(apu);\n            if (apv)\n                parameters.apv = base64url(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || generateCek(enc);\n            const kwAlg = alg.slice(-6);\n            encryptedKey = await aesKw(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await rsaEs(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || generateCek(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await pbes2Kw(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await aesKw(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || generateCek(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await aesGcmKw(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n}\nexport default encryptKeyManagement;\n", "import { encode as base64url } from '../../runtime/base64url.js';\nimport { unprotected } from '../../lib/private_symbols.js';\nimport encrypt from '../../runtime/encrypt.js';\nimport encryptKeyManagement from '../../lib/encrypt_key_management.js';\nimport { JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport class FlattenedEncrypt {\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this._plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader && !this._sharedUnprotectedHeader) {\n            throw new JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader, this._sharedUnprotectedHeader)) {\n            throw new JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n            ...this._sharedUnprotectedHeader,\n        };\n        validateCrit(JWEInvalid, new Map(), options?.crit, this._protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported.');\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (this._cek && (alg === 'dir' || alg === 'ECDH-ES')) {\n            throw new TypeError(`setContentEncryptionKey cannot be called with JWE \"alg\" (Algorithm) Header ${alg}`);\n        }\n        let cek;\n        {\n            let parameters;\n            ({ cek, encryptedKey, parameters } = await encryptKeyManagement(alg, enc, key, this._cek, this._keyManagementParameters));\n            if (parameters) {\n                if (options && unprotected in options) {\n                    if (!this._unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this._unprotectedHeader = { ...this._unprotectedHeader, ...parameters };\n                    }\n                }\n                else if (!this._protectedHeader) {\n                    this.setProtectedHeader(parameters);\n                }\n                else {\n                    this._protectedHeader = { ...this._protectedHeader, ...parameters };\n                }\n            }\n        }\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        if (this._aad) {\n            aadMember = base64url(this._aad);\n            additionalData = concat(protectedHeader, encoder.encode('.'), encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        const { ciphertext, tag, iv } = await encrypt(enc, this._plaintext, cek, this._iv, additionalData);\n        const jwe = {\n            ciphertext: base64url(ciphertext),\n        };\n        if (iv) {\n            jwe.iv = base64url(iv);\n        }\n        if (tag) {\n            jwe.tag = base64url(tag);\n        }\n        if (encryptedKey) {\n            jwe.encrypted_key = base64url(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this._protectedHeader) {\n            jwe.protected = decoder.decode(protectedHeader);\n        }\n        if (this._sharedUnprotectedHeader) {\n            jwe.unprotected = this._sharedUnprotectedHeader;\n        }\n        if (this._unprotectedHeader) {\n            jwe.header = this._unprotectedHeader;\n        }\n        return jwe;\n    }\n}\n", "export default (date) => Math.floor(date.getTime() / 1000);\n", "const minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport default (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n};\n", "import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { decoder } from './buffer_utils.js';\nimport epoch from './epoch.js';\nimport secs from './secs.js';\nimport isObject from './is_object.js';\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport default (protectedHeader, encodedPayload, options = {}) => {\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n", "import { compactDecrypt } from '../jwe/compact/decrypt.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTClaimValidationFailed } from '../util/errors.js';\nexport async function jwtDecrypt(jwt, key, options) {\n    const decrypted = await compactDecrypt(jwt, key, options);\n    const payload = jwtPayload(decrypted.protectedHeader, decrypted.plaintext, options);\n    const { protectedHeader } = decrypted;\n    if (protectedHeader.iss !== undefined && protectedHeader.iss !== payload.iss) {\n        throw new JWTClaimValidationFailed('replicated \"iss\" claim header parameter mismatch', payload, 'iss', 'mismatch');\n    }\n    if (protectedHeader.sub !== undefined && protectedHeader.sub !== payload.sub) {\n        throw new JWTClaimValidationFailed('replicated \"sub\" claim header parameter mismatch', payload, 'sub', 'mismatch');\n    }\n    if (protectedHeader.aud !== undefined &&\n        JSON.stringify(protectedHeader.aud) !== JSON.stringify(payload.aud)) {\n        throw new JWTClaimValidationFailed('replicated \"aud\" claim header parameter mismatch', payload, 'aud', 'mismatch');\n    }\n    const result = { payload, protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n", "import { FlattenedEncrypt } from '../flattened/encrypt.js';\nexport class CompactEncrypt {\n    constructor(plaintext) {\n        this._flattened = new FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this._flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this._flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this._flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this._flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\n", "import epoch from '../lib/epoch.js';\nimport isObject from '../lib/is_object.js';\nimport secs from '../lib/secs.js';\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nexport class ProduceJWT {\n    constructor(payload = {}) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, exp: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: epoch(new Date()) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', epoch(input)) };\n        }\n        else if (typeof input === 'string') {\n            this._payload = {\n                ...this._payload,\n                iat: validateInput('setIssuedAt', epoch(new Date()) + secs(input)),\n            };\n        }\n        else {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', input) };\n        }\n        return this;\n    }\n}\n", "import { CompactEncrypt } from '../jwe/compact/encrypt.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class EncryptJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    replicateIssuerAsHeader() {\n        this._replicateIssuerAsHeader = true;\n        return this;\n    }\n    replicateSubjectAsHeader() {\n        this._replicateSubjectAsHeader = true;\n        return this;\n    }\n    replicateAudienceAsHeader() {\n        this._replicateAudienceAsHeader = true;\n        return this;\n    }\n    async encrypt(key, options) {\n        const enc = new CompactEncrypt(encoder.encode(JSON.stringify(this._payload)));\n        if (this._replicateIssuerAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, iss: this._payload.iss };\n        }\n        if (this._replicateSubjectAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, sub: this._payload.sub };\n        }\n        if (this._replicateAudienceAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, aud: this._payload.aud };\n        }\n        enc.setProtectedHeader(this._protectedHeader);\n        if (this._iv) {\n            enc.setInitializationVector(this._iv);\n        }\n        if (this._cek) {\n            enc.setContentEncryptionKey(this._cek);\n        }\n        if (this._keyManagementParameters) {\n            enc.setKeyManagementParameters(this._keyManagementParameters);\n        }\n        return enc.encrypt(key, options);\n    }\n}\n", "import digest from '../runtime/digest.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nimport { JOSENotSupported, JWKInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nconst check = (value, description) => {\n    if (typeof value !== 'string' || !value) {\n        throw new JWKInvalid(`${description} missing or invalid`);\n    }\n};\nexport async function calculateJwkThumbprint(jwk, digestAlgorithm) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    digestAlgorithm ?? (digestAlgorithm = 'sha256');\n    if (digestAlgorithm !== 'sha256' &&\n        digestAlgorithm !== 'sha384' &&\n        digestAlgorithm !== 'sha512') {\n        throw new TypeError('digestAlgorithm must one of \"sha256\", \"sha384\", or \"sha512\"');\n    }\n    let components;\n    switch (jwk.kty) {\n        case 'EC':\n            check(jwk.crv, '\"crv\" (Curve) Parameter');\n            check(jwk.x, '\"x\" (X Coordinate) Parameter');\n            check(jwk.y, '\"y\" (Y Coordinate) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x, y: jwk.y };\n            break;\n        case 'OKP':\n            check(jwk.crv, '\"crv\" (Subtype of Key Pair) Parameter');\n            check(jwk.x, '\"x\" (Public Key) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x };\n            break;\n        case 'RSA':\n            check(jwk.e, '\"e\" (Exponent) Parameter');\n            check(jwk.n, '\"n\" (Modulus) Parameter');\n            components = { e: jwk.e, kty: jwk.kty, n: jwk.n };\n            break;\n        case 'oct':\n            check(jwk.k, '\"k\" (Key Value) Parameter');\n            components = { k: jwk.k, kty: jwk.kty };\n            break;\n        default:\n            throw new JOSENotSupported('\"kty\" (Key Type) Parameter missing or unsupported');\n    }\n    const data = encoder.encode(JSON.stringify(components));\n    return base64url(await digest(digestAlgorithm, data));\n}\nexport async function calculateJwkThumbprintUri(jwk, digestAlgorithm) {\n    digestAlgorithm ?? (digestAlgorithm = 'sha256');\n    const thumbprint = await calculateJwkThumbprint(jwk, digestAlgorithm);\n    return `urn:ietf:params:oauth:jwk-thumbprint:sha-${digestAlgorithm.slice(-3)}:${thumbprint}`;\n}\n", "import * as base64url from '../runtime/base64url.js';\nexport const encode = base64url.encode;\nexport const decode = base64url.decode;\n", "import { decode as base64url } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nimport { JWTInvalid } from './errors.js';\nexport function decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = base64url(payload);\n    }\n    catch {\n        throw new JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(decoder.decode(decoded));\n    }\n    catch {\n        throw new JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!isObject(result))\n        throw new JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\n", "export { compactDecrypt } from './jwe/compact/decrypt.js';\nexport { flattenedDecrypt } from './jwe/flattened/decrypt.js';\nexport { generalDecrypt } from './jwe/general/decrypt.js';\nexport { GeneralEncrypt } from './jwe/general/encrypt.js';\nexport { compactVerify } from './jws/compact/verify.js';\nexport { flattenedVerify } from './jws/flattened/verify.js';\nexport { generalVerify } from './jws/general/verify.js';\nexport { jwtVerify } from './jwt/verify.js';\nexport { jwtDecrypt } from './jwt/decrypt.js';\nexport { CompactEncrypt } from './jwe/compact/encrypt.js';\nexport { FlattenedEncrypt } from './jwe/flattened/encrypt.js';\nexport { CompactSign } from './jws/compact/sign.js';\nexport { FlattenedSign } from './jws/flattened/sign.js';\nexport { GeneralSign } from './jws/general/sign.js';\nexport { SignJWT } from './jwt/sign.js';\nexport { EncryptJWT } from './jwt/encrypt.js';\nexport { calculateJwkThumbprint, calculateJwkThumbprintUri } from './jwk/thumbprint.js';\nexport { EmbeddedJWK } from './jwk/embedded.js';\nexport { createLocalJWKSet } from './jwks/local.js';\nexport { createRemoteJWKSet, jwksCache, experimental_jwksCache } from './jwks/remote.js';\nexport { UnsecuredJWT } from './jwt/unsecured.js';\nexport { exportPKCS8, exportSPKI, exportJWK } from './key/export.js';\nexport { importSPKI, importPKCS8, importX509, importJWK } from './key/import.js';\nexport { decodeProtectedHeader } from './util/decode_protected_header.js';\nexport { decodeJwt } from './util/decode_jwt.js';\nexport * as errors from './util/errors.js';\nexport { generateKeyPair } from './key/generate_key_pair.js';\nexport { generateSecret } from './key/generate_secret.js';\nexport * as base64url from './util/base64url.js';\nexport { default as cryptoRuntime } from './util/runtime.js';\n", "/**\n * @source https://github.com/jshttp/cookie\n * @author blakeembrey\n * @license MIT\n */\n/**\n * This is a workaround to support ESM-only environments, until `cookie` ships ESM builds.\n * @see https://github.com/jshttp/cookie/issues/211\n */\n/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n */\nconst cookieNameRegExp = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n */\nconst cookieValueRegExp = /^(\"?)[\\u0021\\u0023-\\u002B\\u002D-\\u003A\\u003C-\\u005B\\u005D-\\u007E]*\\1$/;\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\nconst __toString = Object.prototype.toString;\nconst NullObject = /* @__PURE__ */ (() => {\n    const C = function () { };\n    C.prototype = Object.create(null);\n    return C;\n})();\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nexport function parse(str, options) {\n    const obj = new NullObject();\n    const len = str.length;\n    // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n    if (len < 2)\n        return obj;\n    const dec = options?.decode || decode;\n    let index = 0;\n    do {\n        const eqIdx = str.indexOf(\"=\", index);\n        if (eqIdx === -1)\n            break; // No more cookie pairs.\n        const colonIdx = str.indexOf(\";\", index);\n        const endIdx = colonIdx === -1 ? len : colonIdx;\n        if (eqIdx > endIdx) {\n            // backtrack on prior semicolon\n            index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n            continue;\n        }\n        const keyStartIdx = startIndex(str, index, eqIdx);\n        const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n        const key = str.slice(keyStartIdx, keyEndIdx);\n        // only assign once\n        if (obj[key] === undefined) {\n            let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n            let valEndIdx = endIndex(str, endIdx, valStartIdx);\n            const value = dec(str.slice(valStartIdx, valEndIdx));\n            obj[key] = value;\n        }\n        index = endIdx + 1;\n    } while (index < len);\n    return obj;\n}\nfunction startIndex(str, index, max) {\n    do {\n        const code = str.charCodeAt(index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index;\n    } while (++index < max);\n    return max;\n}\nfunction endIndex(str, index, min) {\n    while (index > min) {\n        const code = str.charCodeAt(--index);\n        if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */)\n            return index + 1;\n    }\n    return min;\n}\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nexport function serialize(name, val, options) {\n    const enc = options?.encode || encodeURIComponent;\n    if (!cookieNameRegExp.test(name)) {\n        throw new TypeError(`argument name is invalid: ${name}`);\n    }\n    const value = enc(val);\n    if (!cookieValueRegExp.test(value)) {\n        throw new TypeError(`argument val is invalid: ${val}`);\n    }\n    let str = name + \"=\" + value;\n    if (!options)\n        return str;\n    if (options.maxAge !== undefined) {\n        if (!Number.isInteger(options.maxAge)) {\n            throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n        }\n        str += \"; Max-Age=\" + options.maxAge;\n    }\n    if (options.domain) {\n        if (!domainValueRegExp.test(options.domain)) {\n            throw new TypeError(`option domain is invalid: ${options.domain}`);\n        }\n        str += \"; Domain=\" + options.domain;\n    }\n    if (options.path) {\n        if (!pathValueRegExp.test(options.path)) {\n            throw new TypeError(`option path is invalid: ${options.path}`);\n        }\n        str += \"; Path=\" + options.path;\n    }\n    if (options.expires) {\n        if (!isDate(options.expires) ||\n            !Number.isFinite(options.expires.valueOf())) {\n            throw new TypeError(`option expires is invalid: ${options.expires}`);\n        }\n        str += \"; Expires=\" + options.expires.toUTCString();\n    }\n    if (options.httpOnly) {\n        str += \"; HttpOnly\";\n    }\n    if (options.secure) {\n        str += \"; Secure\";\n    }\n    if (options.partitioned) {\n        str += \"; Partitioned\";\n    }\n    if (options.priority) {\n        const priority = typeof options.priority === \"string\"\n            ? options.priority.toLowerCase()\n            : undefined;\n        switch (priority) {\n            case \"low\":\n                str += \"; Priority=Low\";\n                break;\n            case \"medium\":\n                str += \"; Priority=Medium\";\n                break;\n            case \"high\":\n                str += \"; Priority=High\";\n                break;\n            default:\n                throw new TypeError(`option priority is invalid: ${options.priority}`);\n        }\n    }\n    if (options.sameSite) {\n        const sameSite = typeof options.sameSite === \"string\"\n            ? options.sameSite.toLowerCase()\n            : options.sameSite;\n        switch (sameSite) {\n            case true:\n            case \"strict\":\n                str += \"; SameSite=Strict\";\n                break;\n            case \"lax\":\n                str += \"; SameSite=Lax\";\n                break;\n            case \"none\":\n                str += \"; SameSite=None\";\n                break;\n            default:\n                throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n        }\n    }\n    return str;\n}\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str) {\n    if (str.indexOf(\"%\") === -1)\n        return str;\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (e) {\n        return str;\n    }\n}\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val) {\n    return __toString.call(val) === \"[object Date]\";\n}\n", "/**\n *\n *\n * This module contains functions and types\n * to encode and decode {@link https://authjs.dev/concepts/session-strategies#jwt-session JWT}s\n * issued and used by Auth.js.\n *\n * The JWT issued by Auth.js is _encrypted by default_, using the _A256CBC-HS512_ algorithm ({@link https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5 JWE}).\n * It uses the `AUTH_SECRET` environment variable or the passed `secret` property to derive a suitable encryption key.\n *\n * :::info Note\n * Auth.js JWTs are meant to be used by the same app that issued them.\n * If you need JWT authentication for your third-party API, you should rely on your Identity Provider instead.\n * :::\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * You can then import this submodule from `@auth/core/jwt`.\n *\n * ## Usage\n *\n * :::warning Warning\n * This module *will* be refactored/changed. We do not recommend relying on it right now.\n * :::\n *\n *\n * ## Resources\n *\n * - [What is a JWT session strategy](https://authjs.dev/concepts/session-strategies#jwt-session)\n * - [RFC7519 - JSON Web Token (JWT)](https://www.rfc-editor.org/rfc/rfc7519)\n *\n * @module jwt\n */\nimport { hkdf } from \"@panva/hkdf\";\nimport { EncryptJWT, base64url, calculateJwkThumbprint, jwtDecrypt } from \"jose\";\nimport { defaultCookies, SessionStore } from \"./lib/utils/cookie.js\";\nimport { MissingSecret } from \"./errors.js\";\nimport * as cookie from \"./lib/vendored/cookie.js\";\nconst { parse: parseCookie } = cookie;\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60; // 30 days\nconst now = () => (Date.now() / 1000) | 0;\nconst alg = \"dir\";\nconst enc = \"A256CBC-HS512\";\n/** Issues a JWT. By default, the JWT is encrypted using \"A256CBC-HS512\". */\nexport async function encode(params) {\n    const { token = {}, secret, maxAge = DEFAULT_MAX_AGE, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [secret];\n    const encryptionSecret = await getDerivedEncryptionKey(enc, secrets[0], salt);\n    const thumbprint = await calculateJwkThumbprint({ kty: \"oct\", k: base64url.encode(encryptionSecret) }, `sha${encryptionSecret.byteLength << 3}`);\n    // @ts-expect-error `jose` allows any object as payload.\n    return await new EncryptJWT(token)\n        .setProtectedHeader({ alg, enc, kid: thumbprint })\n        .setIssuedAt()\n        .setExpirationTime(now() + maxAge)\n        .setJti(crypto.randomUUID())\n        .encrypt(encryptionSecret);\n}\n/** Decodes an Auth.js issued JWT. */\nexport async function decode(params) {\n    const { token, secret, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [secret];\n    if (!token)\n        return null;\n    const { payload } = await jwtDecrypt(token, async ({ kid, enc }) => {\n        for (const secret of secrets) {\n            const encryptionSecret = await getDerivedEncryptionKey(enc, secret, salt);\n            if (kid === undefined)\n                return encryptionSecret;\n            const thumbprint = await calculateJwkThumbprint({ kty: \"oct\", k: base64url.encode(encryptionSecret) }, `sha${encryptionSecret.byteLength << 3}`);\n            if (kid === thumbprint)\n                return encryptionSecret;\n        }\n        throw new Error(\"no matching decryption secret\");\n    }, {\n        clockTolerance: 15,\n        keyManagementAlgorithms: [alg],\n        contentEncryptionAlgorithms: [enc, \"A256GCM\"],\n    });\n    return payload;\n}\nexport async function getToken(params) {\n    const { secureCookie, cookieName = defaultCookies(secureCookie ?? false).sessionToken.name, decode: _decode = decode, salt = cookieName, secret, logger = console, raw, req, } = params;\n    if (!req)\n        throw new Error(\"Must pass `req` to JWT getToken()\");\n    const headers = req.headers instanceof Headers ? req.headers : new Headers(req.headers);\n    const sessionStore = new SessionStore({ name: cookieName, options: { secure: secureCookie } }, parseCookie(headers.get(\"cookie\") ?? \"\"), logger);\n    let token = sessionStore.value;\n    const authorizationHeader = headers.get(\"authorization\");\n    if (!token && authorizationHeader?.split(\" \")[0] === \"Bearer\") {\n        const urlEncodedToken = authorizationHeader.split(\" \")[1];\n        token = decodeURIComponent(urlEncodedToken);\n    }\n    if (!token)\n        return null;\n    if (raw)\n        return token;\n    if (!secret)\n        throw new MissingSecret(\"Must pass `secret` if not set to JWT getToken()\");\n    try {\n        return await _decode({ token, secret, salt });\n    }\n    catch {\n        return null;\n    }\n}\nasync function getDerivedEncryptionKey(enc, keyMaterial, salt) {\n    let length;\n    switch (enc) {\n        case \"A256CBC-HS512\":\n            length = 64;\n            break;\n        case \"A256GCM\":\n            length = 32;\n            break;\n        default:\n            throw new Error(\"Unsupported JWT Content Encryption Algorithm\");\n    }\n    return await hkdf(\"sha256\", keyMaterial, salt, `Auth.js Generated Encryption Key (${salt})`, length);\n}\n", "/**\n * Get callback URL based on query param / cookie + validation,\n * and add it to `req.options.callbackUrl`.\n */\nexport async function createCallbackUrl({ options, paramValue, cookieValue, }) {\n    const { url, callbacks } = options;\n    let callbackUrl = url.origin;\n    if (paramValue) {\n        // If callbackUrl form field or query parameter is passed try to use it if allowed\n        callbackUrl = await callbacks.redirect({\n            url: paramValue,\n            baseUrl: url.origin,\n        });\n    }\n    else if (cookieValue) {\n        // If no callbackUrl specified, try using the value from the cookie if allowed\n        callbackUrl = await callbacks.redirect({\n            url: cookieValue,\n            baseUrl: url.origin,\n        });\n    }\n    return {\n        callbackUrl,\n        // Save callback URL in a cookie so that it can be used for subsequent requests in signin/signout/callback flow\n        callbackUrlCookie: callbackUrl !== cookieValue ? callbackUrl : undefined,\n    };\n}\n", "import { AuthError } from \"../../errors.js\";\nconst red = \"\\x1b[31m\";\nconst yellow = \"\\x1b[33m\";\nconst grey = \"\\x1b[90m\";\nconst reset = \"\\x1b[0m\";\nconst defaultLogger = {\n    error(error) {\n        const name = error instanceof AuthError ? error.type : error.name;\n        console.error(`${red}[auth][error]${reset} ${name}: ${error.message}`);\n        if (error.cause &&\n            typeof error.cause === \"object\" &&\n            \"err\" in error.cause &&\n            error.cause.err instanceof Error) {\n            const { err, ...data } = error.cause;\n            console.error(`${red}[auth][cause]${reset}:`, err.stack);\n            if (data)\n                console.error(`${red}[auth][details]${reset}:`, JSON.stringify(data, null, 2));\n        }\n        else if (error.stack) {\n            console.error(error.stack.replace(/.*/, \"\").substring(1));\n        }\n    },\n    warn(code) {\n        const url = `https://warnings.authjs.dev#${code}`;\n        console.warn(`${yellow}[auth][warn][${code}]${reset}`, `Read more: ${url}`);\n    },\n    debug(message, metadata) {\n        console.log(`${grey}[auth][debug]:${reset} ${message}`, JSON.stringify(metadata, null, 2));\n    },\n};\n/**\n * Override the built-in logger with user's implementation.\n * Any `undefined` level will use the default logger.\n */\nexport function setLogger(config) {\n    const newLogger = {\n        ...defaultLogger,\n    };\n    // Turn off debug logging if `debug` isn't set to `true`\n    if (!config.debug)\n        newLogger.debug = () => { };\n    if (config.logger?.error)\n        newLogger.error = config.logger.error;\n    if (config.logger?.warn)\n        newLogger.warn = config.logger.warn;\n    if (config.logger?.debug)\n        newLogger.debug = config.logger.debug;\n    config.logger ?? (config.logger = newLogger);\n    return newLogger;\n}\n", "const actions = [\n    \"providers\",\n    \"session\",\n    \"csrf\",\n    \"signin\",\n    \"signout\",\n    \"callback\",\n    \"verify-request\",\n    \"error\",\n    \"webauthn-options\",\n];\nexport function isAuthAction(action) {\n    return actions.includes(action);\n}\n", "import * as cookie from \"../vendored/cookie.js\";\nimport { UnknownAction } from \"../../errors.js\";\nimport { setLogger } from \"./logger.js\";\nimport { isAuthAction } from \"./actions.js\";\nconst { parse: parseCookie, serialize: serializeCookie } = cookie;\nasync function getBody(req) {\n    if (!(\"body\" in req) || !req.body || req.method !== \"POST\")\n        return;\n    const contentType = req.headers.get(\"content-type\");\n    if (contentType?.includes(\"application/json\")) {\n        return await req.json();\n    }\n    else if (contentType?.includes(\"application/x-www-form-urlencoded\")) {\n        const params = new URLSearchParams(await req.text());\n        return Object.fromEntries(params);\n    }\n}\nexport async function toInternalRequest(req, config) {\n    try {\n        if (req.method !== \"GET\" && req.method !== \"POST\")\n            throw new UnknownAction(\"Only GET and POST requests are supported\");\n        // Defaults are usually set in the `init` function, but this is needed below\n        config.basePath ?? (config.basePath = \"/auth\");\n        const url = new URL(req.url);\n        const { action, providerId } = parseActionAndProviderId(url.pathname, config.basePath);\n        return {\n            url,\n            action,\n            providerId,\n            method: req.method,\n            headers: Object.fromEntries(req.headers),\n            body: req.body ? await getBody(req) : undefined,\n            cookies: parseCookie(req.headers.get(\"cookie\") ?? \"\") ?? {},\n            error: url.searchParams.get(\"error\") ?? undefined,\n            query: Object.fromEntries(url.searchParams),\n        };\n    }\n    catch (e) {\n        const logger = setLogger(config);\n        logger.error(e);\n        logger.debug(\"request\", req);\n    }\n}\nexport function toRequest(request) {\n    return new Request(request.url, {\n        headers: request.headers,\n        method: request.method,\n        body: request.method === \"POST\"\n            ? JSON.stringify(request.body ?? {})\n            : undefined,\n    });\n}\nexport function toResponse(res) {\n    const headers = new Headers(res.headers);\n    res.cookies?.forEach((cookie) => {\n        const { name, value, options } = cookie;\n        const cookieHeader = serializeCookie(name, value, options);\n        if (headers.has(\"Set-Cookie\"))\n            headers.append(\"Set-Cookie\", cookieHeader);\n        else\n            headers.set(\"Set-Cookie\", cookieHeader);\n    });\n    let body = res.body;\n    if (headers.get(\"content-type\") === \"application/json\")\n        body = JSON.stringify(res.body);\n    else if (headers.get(\"content-type\") === \"application/x-www-form-urlencoded\")\n        body = new URLSearchParams(res.body).toString();\n    const status = res.redirect ? 302 : (res.status ?? 200);\n    const response = new Response(body, { headers, status });\n    if (res.redirect)\n        response.headers.set(\"Location\", res.redirect);\n    return response;\n}\n/** Web compatible method to create a hash, using SHA256 */\nexport async function createHash(message) {\n    const data = new TextEncoder().encode(message);\n    const hash = await crypto.subtle.digest(\"SHA-256\", data);\n    return Array.from(new Uint8Array(hash))\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\")\n        .toString();\n}\n/** Web compatible method to create a random string of a given length */\nexport function randomString(size) {\n    const i2hex = (i) => (\"0\" + i.toString(16)).slice(-2);\n    const r = (a, i) => a + i2hex(i);\n    const bytes = crypto.getRandomValues(new Uint8Array(size));\n    return Array.from(bytes).reduce(r, \"\");\n}\n/** @internal Parse the action and provider id from a URL pathname. */\nexport function parseActionAndProviderId(pathname, base) {\n    const a = pathname.match(new RegExp(`^${base}(.+)`));\n    if (a === null)\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    const actionAndProviderId = a.at(-1);\n    const b = actionAndProviderId.replace(/^\\//, \"\").split(\"/\").filter(Boolean);\n    if (b.length !== 1 && b.length !== 2)\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    const [action, providerId] = b;\n    if (!isAuthAction(action))\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    if (providerId &&\n        ![\"signin\", \"callback\", \"webauthn-options\"].includes(action))\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    return { action, providerId };\n}\n", "import { createHash, randomString } from \"../../../utils/web.js\";\nimport { MissingCSRF } from \"../../../../errors.js\";\n/**\n * Ensure CSRF Token cookie is set for any subsequent requests.\n * Used as part of the strategy for mitigation for CSRF tokens.\n *\n * Creates a cookie like 'next-auth.csrf-token' with the value 'token|hash',\n * where 'token' is the CSRF token and 'hash' is a hash made of the token and\n * the secret, and the two values are joined by a pipe '|'. By storing the\n * value and the hash of the value (with the secret used as a salt) we can\n * verify the cookie was set by the server and not by a malicious attacker.\n *\n * For more details, see the following OWASP links:\n * https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\n * https://owasp.org/www-chapter-london/assets/slides/David_Johansson-Double_Defeat_of_Double-Submit_Cookie.pdf\n */\nexport async function createCSRFToken({ options, cookieValue, isPost, bodyValue, }) {\n    if (cookieValue) {\n        const [csrfToken, csrfTokenHash] = cookieValue.split(\"|\");\n        const expectedCsrfTokenHash = await createHash(`${csrfToken}${options.secret}`);\n        if (csrfTokenHash === expectedCsrfTokenHash) {\n            // If hash matches then we trust the CSRF token value\n            // If this is a POST request and the CSRF Token in the POST request matches\n            // the cookie we have already verified is the one we have set, then the token is verified!\n            const csrfTokenVerified = isPost && csrfToken === bodyValue;\n            return { csrfTokenVerified, csrfToken };\n        }\n    }\n    // New CSRF token\n    const csrfToken = randomString(32);\n    const csrfTokenHash = await createHash(`${csrfToken}${options.secret}`);\n    const cookie = `${csrfToken}|${csrfTokenHash}`;\n    return { cookie, csrfToken };\n}\nexport function validateCSRF(action, verified) {\n    if (verified)\n        return;\n    throw new MissingCSRF(`CSRF token was missing during an action ${action}`);\n}\n", "function isObject(item) {\n    return item !== null && typeof item === \"object\";\n}\n/** Deep merge two or more objects */\nexport function merge(target, ...sources) {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!isObject(target[key]))\n                    target[key] = Array.isArray(source[key])\n                        ? []\n                        : {};\n                merge(target[key], source[key]);\n            }\n            else if (source[key] !== undefined)\n                target[key] = source[key];\n        }\n    }\n    return merge(target, ...sources);\n}\n", "/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js comes with built-in CSRF protection, but\n * if you are implementing a framework that is already protected against CSRF attacks, you can skip this check by\n * passing this value to {@link AuthConfig.skipCSRFCheck}.\n */\nexport const skipCSRFCheck = Symbol(\"skip-csrf-check\");\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js returns a web standard {@link Response} by default, but\n * if you are implementing a framework you might want to get access to the raw internal response\n * by passing this value to {@link AuthConfig.raw}.\n */\nexport const raw = Symbol(\"return-type-raw\");\n/**\n * :::danger\n * This option allows you to override the default `fetch` function used by the provider\n * to make requests to the provider's OAuth endpoints directly.\n * Used incorrectly, it can have security implications.\n * :::\n *\n * It can be used to support corporate proxies, custom fetch libraries, cache discovery endpoints,\n * add mocks for testing, logging, set custom headers/params for non-spec compliant providers, etc.\n *\n * @example\n * ```ts\n * import { Auth, customFetch } from \"@auth/core\"\n * import GitHub from \"@auth/core/providers/github\"\n *\n * const dispatcher = new ProxyAgent(\"my.proxy.server\")\n * function proxy(...args: Parameters<typeof fetch>): ReturnType<typeof fetch> {\n *   return undici(args[0], { ...(args[1] ?? {}), dispatcher })\n * }\n *\n * const response = await Auth(request, {\n *   providers: [GitHub({ [customFetch]: proxy })]\n * })\n * ```\n *\n * @see https://undici.nodejs.org/#/docs/api/ProxyAgent?id=example-basic-proxy-request-with-local-agent-dispatcher\n * @see https://authjs.dev/guides/corporate-proxy\n */\nexport const customFetch = Symbol(\"custom-fetch\");\n/**\n * @internal\n *\n * Used to mark some providers for processing within the core library.\n *\n * **Do not use or you will be fired.**\n */\nexport const conformInternal = Symbol(\"conform-internal\");\n", "import { merge } from \"./merge.js\";\nimport { customFetch } from \"../symbols.js\";\n/**\n * Adds `signinUrl` and `callbackUrl` to each provider\n * and deep merge user-defined options.\n */\nexport default function parseProviders(params) {\n    const { providerId, config } = params;\n    const url = new URL(config.basePath ?? \"/auth\", params.url.origin);\n    const providers = config.providers.map((p) => {\n        const provider = typeof p === \"function\" ? p() : p;\n        const { options: userOptions, ...defaults } = provider;\n        const id = (userOptions?.id ?? defaults.id);\n        // TODO: Support if properties have different types, e.g. authorization: string or object\n        const merged = merge(defaults, userOptions, {\n            signinUrl: `${url}/signin/${id}`,\n            callbackUrl: `${url}/callback/${id}`,\n        });\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            merged.redirectProxyUrl ?? (merged.redirectProxyUrl = userOptions?.redirectProxyUrl ?? config.redirectProxyUrl);\n            const normalized = normalizeOAuth(merged);\n            // We currently don't support redirect proxies for response_mode=form_post\n            if (normalized.authorization?.url.searchParams.get(\"response_mode\") ===\n                \"form_post\") {\n                delete normalized.redirectProxyUrl;\n            }\n            // @ts-expect-error Symbols don't get merged by the `merge` function\n            // so we need to do it manually.\n            normalized[customFetch] ?? (normalized[customFetch] = userOptions?.[customFetch]);\n            return normalized;\n        }\n        return merged;\n    });\n    return {\n        providers,\n        provider: providers.find(({ id }) => id === providerId),\n    };\n}\n// TODO: Also add discovery here, if some endpoints/config are missing.\n// We should return both a client and authorization server config.\nfunction normalizeOAuth(c) {\n    if (c.issuer)\n        c.wellKnown ?? (c.wellKnown = `${c.issuer}/.well-known/openid-configuration`);\n    const authorization = normalizeEndpoint(c.authorization, c.issuer);\n    if (authorization && !authorization.url?.searchParams.has(\"scope\")) {\n        authorization.url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    const token = normalizeEndpoint(c.token, c.issuer);\n    const userinfo = normalizeEndpoint(c.userinfo, c.issuer);\n    const checks = c.checks ?? [\"pkce\"];\n    if (c.redirectProxyUrl) {\n        if (!checks.includes(\"state\"))\n            checks.push(\"state\");\n        c.redirectProxyUrl = `${c.redirectProxyUrl}/callback/${c.id}`;\n    }\n    return {\n        ...c,\n        authorization,\n        token,\n        checks,\n        userinfo,\n        profile: c.profile ?? defaultProfile,\n        account: c.account ?? defaultAccount,\n    };\n}\n/**\n * Returns basic user profile from the userinfo response/`id_token` claims.\n * The returned `id` will become the `account.providerAccountId`. `user.id`\n * and `account.id` are auto-generated UUID's.\n *\n * The result if this function is used to create the `User` in the database.\n * @see https://authjs.dev/reference/core/adapters#user\n * @see https://openid.net/specs/openid-connect-core-1_0.html#IDToken\n * @see https://openid.net/specs/openid-connect-core-1_0.html#\n */\nconst defaultProfile = (profile) => {\n    return stripUndefined({\n        id: profile.sub ?? profile.id ?? crypto.randomUUID(),\n        name: profile.name ?? profile.nickname ?? profile.preferred_username,\n        email: profile.email,\n        image: profile.picture,\n    });\n};\n/**\n * Returns basic OAuth/OIDC values from the token response.\n * @see https://www.ietf.org/rfc/rfc6749.html#section-5.1\n * @see https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse\n * @see https://authjs.dev/reference/core/adapters#account\n */\nconst defaultAccount = (account) => {\n    return stripUndefined({\n        access_token: account.access_token,\n        id_token: account.id_token,\n        refresh_token: account.refresh_token,\n        expires_at: account.expires_at,\n        scope: account.scope,\n        token_type: account.token_type,\n        session_state: account.session_state,\n    });\n};\nfunction stripUndefined(o) {\n    const result = {};\n    for (const [k, v] of Object.entries(o)) {\n        if (v !== undefined)\n            result[k] = v;\n    }\n    return result;\n}\nfunction normalizeEndpoint(e, issuer) {\n    if (!e && issuer)\n        return;\n    if (typeof e === \"string\") {\n        return { url: new URL(e) };\n    }\n    // If e.url is undefined, it's because the provider config\n    // assumes that we will use the issuer endpoint.\n    // The existence of either e.url or provider.issuer is checked in\n    // assert.ts. We fallback to \"https://authjs.dev\" to be able to pass around\n    // a valid URL even if the user only provided params.\n    // NOTE: This need to be checked when constructing the URL\n    // for the authorization, token and userinfo endpoints.\n    const url = new URL(e?.url ?? \"https://authjs.dev\");\n    if (e?.params != null) {\n        for (let [key, value] of Object.entries(e.params)) {\n            if (key === \"claims\") {\n                value = JSON.stringify(value);\n            }\n            url.searchParams.set(key, String(value));\n        }\n    }\n    return {\n        url,\n        request: e?.request,\n        conform: e?.conform,\n        ...(e?.clientPrivateKey ? { clientPrivateKey: e?.clientPrivateKey } : null),\n    };\n}\nexport function isOIDCProvider(provider) {\n    return provider.type === \"oidc\";\n}\nexport function isOAuth2Provider(provider) {\n    return provider.type === \"oauth\";\n}\n/** Either OAuth 2 or OIDC */\nexport function isOAuthProvider(provider) {\n    return provider.type === \"oauth\" || provider.type === \"oidc\";\n}\n", "import * as jwt from \"../jwt.js\";\nimport { createCallbackUrl } from \"./utils/callback-url.js\";\nimport * as cookie from \"./utils/cookie.js\";\nimport { createCSRFToken } from \"./actions/callback/oauth/csrf-token.js\";\nimport { AdapterError, EventError } from \"../errors.js\";\nimport parseProviders from \"./utils/providers.js\";\nimport { setLogger } from \"./utils/logger.js\";\nimport { merge } from \"./utils/merge.js\";\nexport const defaultCallbacks = {\n    signIn() {\n        return true;\n    },\n    redirect({ url, baseUrl }) {\n        if (url.startsWith(\"/\"))\n            return `${baseUrl}${url}`;\n        else if (new URL(url).origin === baseUrl)\n            return url;\n        return baseUrl;\n    },\n    session({ session }) {\n        return {\n            user: {\n                name: session.user?.name,\n                email: session.user?.email,\n                image: session.user?.image,\n            },\n            expires: session.expires?.toISOString?.() ?? session.expires,\n        };\n    },\n    jwt({ token }) {\n        return token;\n    },\n};\n/** Initialize all internal options and cookies. */\nexport async function init({ authOptions: config, providerId, action, url, cookies: reqCookies, callbackUrl: reqCallbackUrl, csrfToken: reqCsrfToken, csrfDisabled, isPost, }) {\n    const logger = setLogger(config);\n    const { providers, provider } = parseProviders({ url, providerId, config });\n    const maxAge = 30 * 24 * 60 * 60; // Sessions expire after 30 days of being idle by default\n    let isOnRedirectProxy = false;\n    if ((provider?.type === \"oauth\" || provider?.type === \"oidc\") &&\n        provider.redirectProxyUrl) {\n        try {\n            isOnRedirectProxy =\n                new URL(provider.redirectProxyUrl).origin === url.origin;\n        }\n        catch {\n            throw new TypeError(`redirectProxyUrl must be a valid URL. Received: ${provider.redirectProxyUrl}`);\n        }\n    }\n    // User provided options are overridden by other options,\n    // except for the options with special handling above\n    const options = {\n        debug: false,\n        pages: {},\n        theme: {\n            colorScheme: \"auto\",\n            logo: \"\",\n            brandColor: \"\",\n            buttonText: \"\",\n        },\n        // Custom options override defaults\n        ...config,\n        // These computed settings can have values in userOptions but we override them\n        // and are request-specific.\n        url,\n        action,\n        // @ts-expect-errors\n        provider,\n        cookies: merge(cookie.defaultCookies(config.useSecureCookies ?? url.protocol === \"https:\"), config.cookies),\n        providers,\n        // Session options\n        session: {\n            // If no adapter specified, force use of JSON Web Tokens (stateless)\n            strategy: config.adapter ? \"database\" : \"jwt\",\n            maxAge,\n            updateAge: 24 * 60 * 60,\n            generateSessionToken: () => crypto.randomUUID(),\n            ...config.session,\n        },\n        // JWT options\n        jwt: {\n            secret: config.secret, // Asserted in assert.ts\n            maxAge: config.session?.maxAge ?? maxAge, // default to same as `session.maxAge`\n            encode: jwt.encode,\n            decode: jwt.decode,\n            ...config.jwt,\n        },\n        // Event messages\n        events: eventsErrorHandler(config.events ?? {}, logger),\n        adapter: adapterErrorHandler(config.adapter, logger),\n        // Callback functions\n        callbacks: { ...defaultCallbacks, ...config.callbacks },\n        logger,\n        callbackUrl: url.origin,\n        isOnRedirectProxy,\n        experimental: {\n            ...config.experimental,\n        },\n    };\n    // Init cookies\n    const cookies = [];\n    if (csrfDisabled) {\n        options.csrfTokenVerified = true;\n    }\n    else {\n        const { csrfToken, cookie: csrfCookie, csrfTokenVerified, } = await createCSRFToken({\n            options,\n            cookieValue: reqCookies?.[options.cookies.csrfToken.name],\n            isPost,\n            bodyValue: reqCsrfToken,\n        });\n        options.csrfToken = csrfToken;\n        options.csrfTokenVerified = csrfTokenVerified;\n        if (csrfCookie) {\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: csrfCookie,\n                options: options.cookies.csrfToken.options,\n            });\n        }\n    }\n    const { callbackUrl, callbackUrlCookie } = await createCallbackUrl({\n        options,\n        cookieValue: reqCookies?.[options.cookies.callbackUrl.name],\n        paramValue: reqCallbackUrl,\n    });\n    options.callbackUrl = callbackUrl;\n    if (callbackUrlCookie) {\n        cookies.push({\n            name: options.cookies.callbackUrl.name,\n            value: callbackUrlCookie,\n            options: options.cookies.callbackUrl.options,\n        });\n    }\n    return { options, cookies };\n}\n/** Wraps an object of methods and adds error handling. */\nfunction eventsErrorHandler(methods, logger) {\n    return Object.keys(methods).reduce((acc, name) => {\n        acc[name] = async (...args) => {\n            try {\n                const method = methods[name];\n                return await method(...args);\n            }\n            catch (e) {\n                logger.error(new EventError(e));\n            }\n        };\n        return acc;\n    }, {});\n}\n/** Handles adapter induced errors. */\nfunction adapterErrorHandler(adapter, logger) {\n    if (!adapter)\n        return;\n    return Object.keys(adapter).reduce((acc, name) => {\n        acc[name] = async (...args) => {\n            try {\n                logger.debug(`adapter_${name}`, { args });\n                const method = adapter[name];\n                return await method(...args);\n            }\n            catch (e) {\n                const error = new AdapterError(e);\n                logger.error(error);\n                throw error;\n            }\n        };\n        return acc;\n    }, {});\n}\n", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 16;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 17;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {preact.ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor == undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {Component} a\n * @param {Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture =\n\t\t\tname !== (name = name.replace(/(PointerCapture)$|Capture$/i, '$1'));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (\n\t\t\tname.toLowerCase() in dom ||\n\t\t\tname === 'onFocusOut' ||\n\t\t\tname === 'onFocusIn'\n\t\t)\n\t\t\tname = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == 'http://www.w3.org/2000/svg') {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == null) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {Set<Component> | null} */\n\t\t\t\tlet subs = new Set();\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.componentWillUnmount = () => {\n\t\t\t\t\tsubs = null;\n\t\t\t\t};\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\tsubs.forEach(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.add(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tif (subs) {\n\t\t\t\t\t\t\tsubs.delete(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR, INSERT_VNODE, MATCHED } from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\tnewParentVNode._nextDom = oldDom;\n\tconstructNewChildrenArray(newParentVNode, renderResult, oldChildren);\n\toldDom = newParentVNode._nextDom;\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == null) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index === -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, null, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == null && newDom != null) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tif (\n\t\t\tchildVNode._flags & INSERT_VNODE ||\n\t\t\toldVNode._children === childVNode._children\n\t\t) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom);\n\t\t} else if (\n\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\tchildVNode._nextDom !== undefined\n\t\t) {\n\t\t\t// Since Fragments or components that return Fragment like VNodes can\n\t\t\t// contain multiple DOM nodes as the same level, continue the diff from\n\t\t\t// the sibling of last DOM child of this child VNode\n\t\t\toldDom = childVNode._nextDom;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because it\n\t\t// is only used by `diffChildren` to determine where to resume the diff\n\t\t// after diffing Components and Fragments. Once we store it the nextDOM\n\t\t// local var, we can clean up the property. Also prevents us hanging on to\n\t\t// DOM nodes that may have been unmounted.\n\t\tchildVNode._nextDom = undefined;\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\t// TODO: With new child diffing algo, consider alt ways to diff Fragments.\n\t// Such as dropping oldDom and moving fragments in place\n\t//\n\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t// _nextDom property to the nextSibling of its last child DOM node.\n\t//\n\t// `oldDom` contains the correct value here because if the last child\n\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t// node's nextSibling.\n\tnewParentVNode._nextDom = oldDom;\n\tnewParentVNode._dom = firstChildDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(newParentVNode, renderResult, oldChildren) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tconst newChildrenLength = renderResult.length;\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode.constructor === undefined && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = null;\n\t\tif (matchingIndex !== -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original === null\n\t\tconst isMounting = oldVNode == null || oldVNode._original === null;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\tskew--;\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex !== skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != null && (oldVNode._flags & MATCHED) === 0) {\n\t\t\t\tif (oldVNode._dom == newParentVNode._nextDom) {\n\t\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (oldDom && parentVNode.type && !parentDom.contains(oldDom)) {\n\t\t\toldDom = getDomSibling(parentVNode);\n\t\t}\n\t\tparentDom.insertBefore(parentVNode._dom, oldDom || null);\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != null && oldDom.nodeType === 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet x = skewedIndex - 1;\n\tlet y = skewedIndex + 1;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\tlet shouldSearch =\n\t\tremainingOldChildren >\n\t\t(oldVNode != null && (oldVNode._flags & MATCHED) === 0 ? 1 : 0);\n\n\tif (\n\t\toldVNode === null ||\n\t\t(oldVNode &&\n\t\t\tkey == oldVNode.key &&\n\t\t\ttype === oldVNode.type &&\n\t\t\t(oldVNode._flags & MATCHED) === 0)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) === 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) === 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n", "import {\n\tEMPTY_OBJ,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tRESET_MODE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\t((c.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t\tnewVNode._original === oldVNode._original)\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = null;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\twhile (oldDom && oldDom.nodeType === 8 && oldDom.nextSibling) {\n\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t}\n\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == null &&\n\t\tnewVNode._original === oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\tnewVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\troot._nextDom = undefined;\n\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType === 'svg') namespace = 'http://www.w3.org/2000/svg';\n\telse if (nodeType === 'math')\n\t\tnamespace = 'http://www.w3.org/1998/Math/MathML';\n\telse if (!namespace) namespace = 'http://www.w3.org/1999/xhtml';\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value === !!nodeType &&\n\t\t\t\t(nodeType ? value.localName === nodeType : value.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != null) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (!(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, null, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html !== oldHtml.__html &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType === 'foreignObject'\n\t\t\t\t\t? 'http://www.w3.org/1999/xhtml'\n\t\t\t\t\t: namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType === 'progress' && inputValue == null) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType === 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && inputValue !== oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked !== undefined && checked !== dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != null) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._component = vnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {ComponentChild} vnode The virtual node to render\n * @param {PreactElement} parentDom The DOM element to render into\n * @param {PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? null\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {ComponentChild} vnode The virtual node to render\n * @param {PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === undefined && defaultProps !== undefined) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {VNode} [oldVNode]\n * @param {ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {Component} */\n\tlet component,\n\t\t/** @type {ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "export const VOID_ELEMENTS = /^(?:area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;\nexport const UNSAFE_NAME = /[\\s\\n\\\\/='\"\\0<>]/;\nexport const NAMESPACE_REPLACE_REGEX = /^(xlink|xmlns|xml)([A-Z])/;\nexport const HTML_LOWER_CASE = /^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/;\nexport const SVG_CAMEL_CASE = /^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/;\n\n// Boolean DOM properties that translate to enumerated ('true'/'false') attributes\nexport const HTML_ENUMERATED = new Set(['draggable', 'spellcheck']);\n\n// DOM properties that should NOT have \"px\" added when numeric\nconst ENCODED_ENTITIES = /[\"&<]/;\n\n/** @param {string} str */\nexport function encodeEntities(str) {\n\t// Skip all work for strings with no entities needing encoding:\n\tif (str.length === 0 || ENCODED_ENTITIES.test(str) === false) return str;\n\n\tlet last = 0,\n\t\ti = 0,\n\t\tout = '',\n\t\tch = '';\n\n\t// Seek forward in str until the next entity char:\n\tfor (; i < str.length; i++) {\n\t\tswitch (str.charCodeAt(i)) {\n\t\t\tcase 34:\n\t\t\t\tch = '&quot;';\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\tch = '&amp;';\n\t\t\t\tbreak;\n\t\t\tcase 60:\n\t\t\t\tch = '&lt;';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontinue;\n\t\t}\n\t\t// Append skipped/buffered characters and the encoded entity:\n\t\tif (i !== last) out = out + str.slice(last, i);\n\t\tout = out + ch;\n\t\t// Start the next seek/buffer after the entity's offset:\n\t\tlast = i + 1;\n\t}\n\tif (i !== last) out = out + str.slice(last, i);\n\treturn out;\n}\n\nexport let indent = (s, char) =>\n\tString(s).replace(/(\\n+)/g, '$1' + (char || '\\t'));\n\nexport let isLargeString = (s, length, ignoreLines) =>\n\tString(s).length > (length || 40) ||\n\t(!ignoreLines && String(s).indexOf('\\n') !== -1) ||\n\tString(s).indexOf('<') !== -1;\n\nconst JS_TO_CSS = {};\n\nconst IS_NON_DIMENSIONAL = new Set([\n\t'animation-iteration-count',\n\t'border-image-outset',\n\t'border-image-slice',\n\t'border-image-width',\n\t'box-flex',\n\t'box-flex-group',\n\t'box-ordinal-group',\n\t'column-count',\n\t'fill-opacity',\n\t'flex',\n\t'flex-grow',\n\t'flex-negative',\n\t'flex-order',\n\t'flex-positive',\n\t'flex-shrink',\n\t'flood-opacity',\n\t'font-weight',\n\t'grid-column',\n\t'grid-row',\n\t'line-clamp',\n\t'line-height',\n\t'opacity',\n\t'order',\n\t'orphans',\n\t'stop-opacity',\n\t'stroke-dasharray',\n\t'stroke-dashoffset',\n\t'stroke-miterlimit',\n\t'stroke-opacity',\n\t'stroke-width',\n\t'tab-size',\n\t'widows',\n\t'z-index',\n\t'zoom'\n]);\n\nconst CSS_REGEX = /[A-Z]/g;\n// Convert an Object style to a CSSText string\nexport function styleObjToCss(s) {\n\tlet str = '';\n\tfor (let prop in s) {\n\t\tlet val = s[prop];\n\t\tif (val != null && val !== '') {\n\t\t\tconst name =\n\t\t\t\tprop[0] == '-'\n\t\t\t\t\t? prop\n\t\t\t\t\t: JS_TO_CSS[prop] ||\n\t\t\t\t\t  (JS_TO_CSS[prop] = prop.replace(CSS_REGEX, '-$&').toLowerCase());\n\n\t\t\tlet suffix = ';';\n\t\t\tif (\n\t\t\t\ttypeof val === 'number' &&\n\t\t\t\t// Exclude custom-attributes\n\t\t\t\t!name.startsWith('--') &&\n\t\t\t\t!IS_NON_DIMENSIONAL.has(name)\n\t\t\t) {\n\t\t\t\tsuffix = 'px;';\n\t\t\t}\n\t\t\tstr = str + name + ':' + val + suffix;\n\t\t}\n\t}\n\treturn str || undefined;\n}\n\n/**\n * Get flattened children from the children prop\n * @param {Array} accumulator\n * @param {any} children A `props.children` opaque object.\n * @returns {Array} accumulator\n * @private\n */\nexport function getChildren(accumulator, children) {\n\tif (Array.isArray(children)) {\n\t\tchildren.reduce(getChildren, accumulator);\n\t} else if (children != null && children !== false) {\n\t\taccumulator.push(children);\n\t}\n\treturn accumulator;\n}\n\nfunction markAsDirty() {\n\tthis.__d = true;\n}\n\nexport function createComponent(vnode, context) {\n\treturn {\n\t\t__v: vnode,\n\t\tcontext,\n\t\tprops: vnode.props,\n\t\t// silently drop state updates\n\t\tsetState: markAsDirty,\n\t\tforceUpdate: markAsDirty,\n\t\t__d: true,\n\t\t// hooks\n\t\t__h: new Array(0)\n\t};\n}\n\n// Necessary for createContext api. Setting this property will pass\n// the context value as `this.context` just for this component.\nexport function getContext(nodeName, context) {\n\tlet cxType = nodeName.contextType;\n\tlet provider = cxType && context[cxType.__c];\n\treturn cxType != null\n\t\t? provider\n\t\t\t? provider.props.value\n\t\t\t: cxType.__\n\t\t: context;\n}\n\n/**\n * @template T\n */\nexport class Deferred {\n\tconstructor() {\n\t\t// eslint-disable-next-line lines-around-comment\n\t\t/** @type {Promise<T>} */\n\t\tthis.promise = new Promise((resolve, reject) => {\n\t\t\tthis.resolve = resolve;\n\t\t\tthis.reject = reject;\n\t\t});\n\t}\n}\n", "import {\n\tencodeEntities,\n\tstyleObjToCss,\n\tUNSAFE_NAME,\n\tNAMESPACE_REPLACE_REGEX,\n\tHTML_LOWER_CASE,\n\tHTML_ENUMERATED,\n\tSVG_CAMEL_CASE,\n\tcreateComponent\n} from './lib/util.js';\nimport { options, h, Fragment } from 'preact';\nimport {\n\tCHILDREN,\n\tCOMMIT,\n\tCOMPONENT,\n\tDIFF,\n\tDIFFED,\n\tDIRTY,\n\tNEXT_STATE,\n\tPARENT,\n\tRENDER,\n\tSKIP_EFFECTS,\n\tVNODE,\n\tCATCH_ERROR\n} from './lib/constants.js';\n\nconst EMPTY_OBJ = {};\nconst EMPTY_ARR = [];\nconst isArray = Array.isArray;\nconst assign = Object.assign;\nconst EMPTY_STR = '';\n\n// Global state for the current render pass\nlet beforeDiff, afterDiff, renderHook, ummountHook;\n\n/**\n * Render Preact JSX + Components to an HTML string.\n * @param {VNode} vnode\tJSX Element / VNode to render\n * @param {Object} [context={}] Initial root context object\n * @param {RendererState} [_rendererState] for internal use\n * @returns {string} serialized HTML\n */\nexport function renderToString(vnode, context, _rendererState) {\n\t// Performance optimization: `renderToString` is synchronous and we\n\t// therefore don't execute any effects. To do that we pass an empty\n\t// array to `options._commit` (`__c`). But we can go one step further\n\t// and avoid a lot of dirty checks and allocations by setting\n\t// `options._skipEffects` (`__s`) too.\n\tconst previousSkipEffects = options[SKIP_EFFECTS];\n\toptions[SKIP_EFFECTS] = true;\n\n\t// store options hooks once before each synchronous render call\n\tbeforeDiff = options[DIFF];\n\tafterDiff = options[DIFFED];\n\trenderHook = options[RENDER];\n\tummountHook = options.unmount;\n\n\tconst parent = h(Fragment, null);\n\tparent[CHILDREN] = [vnode];\n\n\ttry {\n\t\tconst rendered = _renderToString(\n\t\t\tvnode,\n\t\t\tcontext || EMPTY_OBJ,\n\t\t\tfalse,\n\t\t\tundefined,\n\t\t\tparent,\n\t\t\tfalse,\n\t\t\t_rendererState\n\t\t);\n\n\t\tif (isArray(rendered)) {\n\t\t\treturn rendered.join(EMPTY_STR);\n\t\t}\n\t\treturn rendered;\n\t} catch (e) {\n\t\tif (e.then) {\n\t\t\tthrow new Error('Use \"renderToStringAsync\" for suspenseful rendering.');\n\t\t}\n\n\t\tthrow e;\n\t} finally {\n\t\t// options._commit, we don't schedule any effects in this library right now,\n\t\t// so we can pass an empty queue to this hook.\n\t\tif (options[COMMIT]) options[COMMIT](vnode, EMPTY_ARR);\n\t\toptions[SKIP_EFFECTS] = previousSkipEffects;\n\t\tEMPTY_ARR.length = 0;\n\t}\n}\n\n/**\n * Render Preact JSX + Components to an HTML string.\n * @param {VNode} vnode\tJSX Element / VNode to render\n * @param {Object} [context={}] Initial root context object\n * @returns {string} serialized HTML\n */\nexport async function renderToStringAsync(vnode, context) {\n\t// Performance optimization: `renderToString` is synchronous and we\n\t// therefore don't execute any effects. To do that we pass an empty\n\t// array to `options._commit` (`__c`). But we can go one step further\n\t// and avoid a lot of dirty checks and allocations by setting\n\t// `options._skipEffects` (`__s`) too.\n\tconst previousSkipEffects = options[SKIP_EFFECTS];\n\toptions[SKIP_EFFECTS] = true;\n\n\t// store options hooks once before each synchronous render call\n\tbeforeDiff = options[DIFF];\n\tafterDiff = options[DIFFED];\n\trenderHook = options[RENDER];\n\tummountHook = options.unmount;\n\n\tconst parent = h(Fragment, null);\n\tparent[CHILDREN] = [vnode];\n\n\ttry {\n\t\tconst rendered = await _renderToString(\n\t\t\tvnode,\n\t\t\tcontext || EMPTY_OBJ,\n\t\t\tfalse,\n\t\t\tundefined,\n\t\t\tparent,\n\t\t\ttrue,\n\t\t\tundefined\n\t\t);\n\n\t\tif (isArray(rendered)) {\n\t\t\tlet count = 0;\n\t\t\tlet resolved = rendered;\n\n\t\t\t// Resolving nested Promises with a maximum depth of 25\n\t\t\twhile (\n\t\t\t\tresolved.some(\n\t\t\t\t\t(element) => element && typeof element.then === 'function'\n\t\t\t\t) &&\n\t\t\t\tcount++ < 25\n\t\t\t) {\n\t\t\t\tresolved = (await Promise.all(resolved)).flat();\n\t\t\t}\n\n\t\t\treturn resolved.join(EMPTY_STR);\n\t\t}\n\n\t\treturn rendered;\n\t} finally {\n\t\t// options._commit, we don't schedule any effects in this library right now,\n\t\t// so we can pass an empty queue to this hook.\n\t\tif (options[COMMIT]) options[COMMIT](vnode, EMPTY_ARR);\n\t\toptions[SKIP_EFFECTS] = previousSkipEffects;\n\t\tEMPTY_ARR.length = 0;\n\t}\n}\n\n/**\n * @param {VNode} vnode\n * @param {Record<string, unknown>} context\n */\nfunction renderClassComponent(vnode, context) {\n\tlet type = /** @type {import(\"preact\").ComponentClass<typeof vnode.props>} */ (vnode.type);\n\n\tlet isMounting = true;\n\tlet c;\n\tif (vnode[COMPONENT]) {\n\t\tisMounting = false;\n\t\tc = vnode[COMPONENT];\n\t\tc.state = c[NEXT_STATE];\n\t} else {\n\t\tc = new type(vnode.props, context);\n\t}\n\n\tvnode[COMPONENT] = c;\n\tc[VNODE] = vnode;\n\n\tc.props = vnode.props;\n\tc.context = context;\n\t// turn off stateful re-rendering:\n\tc[DIRTY] = true;\n\n\tif (c.state == null) c.state = EMPTY_OBJ;\n\n\tif (c[NEXT_STATE] == null) {\n\t\tc[NEXT_STATE] = c.state;\n\t}\n\n\tif (type.getDerivedStateFromProps) {\n\t\tc.state = assign(\n\t\t\t{},\n\t\t\tc.state,\n\t\t\ttype.getDerivedStateFromProps(c.props, c.state)\n\t\t);\n\t} else if (isMounting && c.componentWillMount) {\n\t\tc.componentWillMount();\n\n\t\t// If the user called setState in cWM we need to flush pending,\n\t\t// state updates. This is the same behaviour in React.\n\t\tc.state = c[NEXT_STATE] !== c.state ? c[NEXT_STATE] : c.state;\n\t} else if (!isMounting && c.componentWillUpdate) {\n\t\tc.componentWillUpdate();\n\t}\n\n\tif (renderHook) renderHook(vnode);\n\n\treturn c.render(c.props, c.state, context);\n}\n\n/**\n * Recursively render VNodes to HTML.\n * @param {VNode|any} vnode\n * @param {any} context\n * @param {boolean} isSvgMode\n * @param {any} selectValue\n * @param {VNode} parent\n * @param {boolean} asyncMode\n * @param {RendererState | undefined} [renderer]\n * @returns {string | Promise<string> | (string | Promise<string>)[]}\n */\nfunction _renderToString(\n\tvnode,\n\tcontext,\n\tisSvgMode,\n\tselectValue,\n\tparent,\n\tasyncMode,\n\trenderer\n) {\n\t// Ignore non-rendered VNodes/values\n\tif (\n\t\tvnode == null ||\n\t\tvnode === true ||\n\t\tvnode === false ||\n\t\tvnode === EMPTY_STR\n\t) {\n\t\treturn EMPTY_STR;\n\t}\n\n\tlet vnodeType = typeof vnode;\n\t// Text VNodes: escape as HTML\n\tif (vnodeType != 'object') {\n\t\tif (vnodeType == 'function') return EMPTY_STR;\n\t\treturn vnodeType == 'string' ? encodeEntities(vnode) : vnode + EMPTY_STR;\n\t}\n\n\t// Recurse into children / Arrays\n\tif (isArray(vnode)) {\n\t\tlet rendered = EMPTY_STR,\n\t\t\trenderArray;\n\t\tparent[CHILDREN] = vnode;\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\tlet child = vnode[i];\n\t\t\tif (child == null || typeof child == 'boolean') continue;\n\n\t\t\tconst childRender = _renderToString(\n\t\t\t\tchild,\n\t\t\t\tcontext,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue,\n\t\t\t\tparent,\n\t\t\t\tasyncMode,\n\t\t\t\trenderer\n\t\t\t);\n\n\t\t\tif (typeof childRender == 'string') {\n\t\t\t\trendered = rendered + childRender;\n\t\t\t} else {\n\t\t\t\tif (!renderArray) {\n\t\t\t\t\trenderArray = [];\n\t\t\t\t}\n\n\t\t\t\tif (rendered) renderArray.push(rendered);\n\n\t\t\t\trendered = EMPTY_STR;\n\n\t\t\t\tif (isArray(childRender)) {\n\t\t\t\t\trenderArray.push(...childRender);\n\t\t\t\t} else {\n\t\t\t\t\trenderArray.push(childRender);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (renderArray) {\n\t\t\tif (rendered) renderArray.push(rendered);\n\t\t\treturn renderArray;\n\t\t}\n\n\t\treturn rendered;\n\t}\n\n\t// VNodes have {constructor:undefined} to prevent JSON injection:\n\tif (vnode.constructor !== undefined) return EMPTY_STR;\n\n\tvnode[PARENT] = parent;\n\tif (beforeDiff) beforeDiff(vnode);\n\n\tlet type = vnode.type,\n\t\tprops = vnode.props;\n\n\t// Invoke rendering on Components\n\tif (typeof type == 'function') {\n\t\tlet cctx = context,\n\t\t\tcontextType,\n\t\t\trendered,\n\t\t\tcomponent;\n\t\tif (type === Fragment) {\n\t\t\t// Serialized precompiled JSX.\n\t\t\tif ('tpl' in props) {\n\t\t\t\tlet out = EMPTY_STR;\n\t\t\t\tfor (let i = 0; i < props.tpl.length; i++) {\n\t\t\t\t\tout = out + props.tpl[i];\n\n\t\t\t\t\tif (props.exprs && i < props.exprs.length) {\n\t\t\t\t\t\tconst value = props.exprs[i];\n\t\t\t\t\t\tif (value == null) continue;\n\n\t\t\t\t\t\t// Check if we're dealing with a vnode or an array of nodes\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof value == 'object' &&\n\t\t\t\t\t\t\t(value.constructor === undefined || isArray(value))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tout =\n\t\t\t\t\t\t\t\tout +\n\t\t\t\t\t\t\t\t_renderToString(\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t\tisSvgMode,\n\t\t\t\t\t\t\t\t\tselectValue,\n\t\t\t\t\t\t\t\t\tvnode,\n\t\t\t\t\t\t\t\t\tasyncMode,\n\t\t\t\t\t\t\t\t\trenderer\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Values are pre-escaped by the JSX transform\n\t\t\t\t\t\t\tout = out + value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn out;\n\t\t\t} else if ('UNSTABLE_comment' in props) {\n\t\t\t\t// Fragments are the least used components of core that's why\n\t\t\t\t// branching here for comments has the least effect on perf.\n\t\t\t\treturn '<!--' + encodeEntities(props.UNSTABLE_comment) + '-->';\n\t\t\t}\n\n\t\t\trendered = props.children;\n\t\t} else {\n\t\t\tcontextType = type.contextType;\n\t\t\tif (contextType != null) {\n\t\t\t\tlet provider = context[contextType.__c];\n\t\t\t\tcctx = provider ? provider.props.value : contextType.__;\n\t\t\t}\n\n\t\t\tlet isClassComponent =\n\t\t\t\ttype.prototype && typeof type.prototype.render == 'function';\n\t\t\tif (isClassComponent) {\n\t\t\t\trendered = /**#__NOINLINE__**/ renderClassComponent(vnode, cctx);\n\t\t\t\tcomponent = vnode[COMPONENT];\n\t\t\t} else {\n\t\t\t\tvnode[COMPONENT] = component = /**#__NOINLINE__**/ createComponent(\n\t\t\t\t\tvnode,\n\t\t\t\t\tcctx\n\t\t\t\t);\n\n\t\t\t\t// If a hook invokes setState() to invalidate the component during rendering,\n\t\t\t\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t\t\t\t// Note:\n\t\t\t\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t\t\t\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\t\t\t\tlet count = 0;\n\t\t\t\twhile (component[DIRTY] && count++ < 25) {\n\t\t\t\t\tcomponent[DIRTY] = false;\n\n\t\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\t\trendered = type.call(component, props, cctx);\n\t\t\t\t}\n\t\t\t\tcomponent[DIRTY] = true;\n\t\t\t}\n\n\t\t\tif (component.getChildContext != null) {\n\t\t\t\tcontext = assign({}, context, component.getChildContext());\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tisClassComponent &&\n\t\t\t\toptions.errorBoundaries &&\n\t\t\t\t(type.getDerivedStateFromError || component.componentDidCatch)\n\t\t\t) {\n\t\t\t\t// When a component returns a Fragment node we flatten it in core, so we\n\t\t\t\t// need to mirror that logic here too\n\t\t\t\tlet isTopLevelFragment =\n\t\t\t\t\trendered != null &&\n\t\t\t\t\trendered.type === Fragment &&\n\t\t\t\t\trendered.key == null &&\n\t\t\t\t\trendered.props.tpl == null;\n\t\t\t\trendered = isTopLevelFragment ? rendered.props.children : rendered;\n\n\t\t\t\ttry {\n\t\t\t\t\treturn _renderToString(\n\t\t\t\t\t\trendered,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\tisSvgMode,\n\t\t\t\t\t\tselectValue,\n\t\t\t\t\t\tvnode,\n\t\t\t\t\t\tasyncMode,\n\t\t\t\t\t\trenderer\n\t\t\t\t\t);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (type.getDerivedStateFromError) {\n\t\t\t\t\t\tcomponent[NEXT_STATE] = type.getDerivedStateFromError(err);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (component.componentDidCatch) {\n\t\t\t\t\t\tcomponent.componentDidCatch(err, EMPTY_OBJ);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (component[DIRTY]) {\n\t\t\t\t\t\trendered = renderClassComponent(vnode, context);\n\t\t\t\t\t\tcomponent = vnode[COMPONENT];\n\n\t\t\t\t\t\tif (component.getChildContext != null) {\n\t\t\t\t\t\t\tcontext = assign({}, context, component.getChildContext());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet isTopLevelFragment =\n\t\t\t\t\t\t\trendered != null &&\n\t\t\t\t\t\t\trendered.type === Fragment &&\n\t\t\t\t\t\t\trendered.key == null &&\n\t\t\t\t\t\t\trendered.props.tpl == null;\n\t\t\t\t\t\trendered = isTopLevelFragment ? rendered.props.children : rendered;\n\n\t\t\t\t\t\treturn _renderToString(\n\t\t\t\t\t\t\trendered,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tisSvgMode,\n\t\t\t\t\t\t\tselectValue,\n\t\t\t\t\t\t\tvnode,\n\t\t\t\t\t\t\tasyncMode,\n\t\t\t\t\t\t\trenderer\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn EMPTY_STR;\n\t\t\t\t} finally {\n\t\t\t\t\tif (afterDiff) afterDiff(vnode);\n\t\t\t\t\tvnode[PARENT] = null;\n\n\t\t\t\t\tif (ummountHook) ummountHook(vnode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// When a component returns a Fragment node we flatten it in core, so we\n\t\t// need to mirror that logic here too\n\t\tlet isTopLevelFragment =\n\t\t\trendered != null &&\n\t\t\trendered.type === Fragment &&\n\t\t\trendered.key == null &&\n\t\t\trendered.props.tpl == null;\n\t\trendered = isTopLevelFragment ? rendered.props.children : rendered;\n\n\t\ttry {\n\t\t\t// Recurse into children before invoking the after-diff hook\n\t\t\tconst str = _renderToString(\n\t\t\t\trendered,\n\t\t\t\tcontext,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue,\n\t\t\t\tvnode,\n\t\t\t\tasyncMode,\n\t\t\t\trenderer\n\t\t\t);\n\n\t\t\tif (afterDiff) afterDiff(vnode);\n\t\t\t// when we are dealing with suspense we can't do this...\n\t\t\tvnode[PARENT] = null;\n\n\t\t\tif (options.unmount) options.unmount(vnode);\n\n\t\t\treturn str;\n\t\t} catch (error) {\n\t\t\tif (!asyncMode && renderer && renderer.onError) {\n\t\t\t\tlet res = renderer.onError(error, vnode, (child) =>\n\t\t\t\t\t_renderToString(\n\t\t\t\t\t\tchild,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\tisSvgMode,\n\t\t\t\t\t\tselectValue,\n\t\t\t\t\t\tvnode,\n\t\t\t\t\t\tasyncMode,\n\t\t\t\t\t\trenderer\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\tif (res !== undefined) return res;\n\n\t\t\t\tlet errorHook = options[CATCH_ERROR];\n\t\t\t\tif (errorHook) errorHook(error, vnode);\n\t\t\t\treturn EMPTY_STR;\n\t\t\t}\n\n\t\t\tif (!asyncMode) throw error;\n\n\t\t\tif (!error || typeof error.then != 'function') throw error;\n\n\t\t\tconst renderNestedChildren = () => {\n\t\t\t\ttry {\n\t\t\t\t\treturn _renderToString(\n\t\t\t\t\t\trendered,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\tisSvgMode,\n\t\t\t\t\t\tselectValue,\n\t\t\t\t\t\tvnode,\n\t\t\t\t\t\tasyncMode,\n\t\t\t\t\t\trenderer\n\t\t\t\t\t);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (!e || typeof e.then != 'function') throw e;\n\n\t\t\t\t\treturn e.then(\n\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t_renderToString(\n\t\t\t\t\t\t\t\trendered,\n\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\tisSvgMode,\n\t\t\t\t\t\t\t\tselectValue,\n\t\t\t\t\t\t\t\tvnode,\n\t\t\t\t\t\t\t\tasyncMode,\n\t\t\t\t\t\t\t\trenderer\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\trenderNestedChildren\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn error.then(renderNestedChildren);\n\t\t}\n\t}\n\n\t// Serialize Element VNodes to HTML\n\tlet s = '<' + type,\n\t\thtml = EMPTY_STR,\n\t\tchildren;\n\n\tfor (let name in props) {\n\t\tlet v = props[name];\n\n\t\tif (typeof v == 'function' && name !== 'class' && name !== 'className') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tswitch (name) {\n\t\t\tcase 'children':\n\t\t\t\tchildren = v;\n\t\t\t\tcontinue;\n\n\t\t\t// VDOM-specific props\n\t\t\tcase 'key':\n\t\t\tcase 'ref':\n\t\t\tcase '__self':\n\t\t\tcase '__source':\n\t\t\t\tcontinue;\n\n\t\t\t// prefer for/class over htmlFor/className\n\t\t\tcase 'htmlFor':\n\t\t\t\tif ('for' in props) continue;\n\t\t\t\tname = 'for';\n\t\t\t\tbreak;\n\t\t\tcase 'className':\n\t\t\t\tif ('class' in props) continue;\n\t\t\t\tname = 'class';\n\t\t\t\tbreak;\n\n\t\t\t// Form element reflected properties\n\t\t\tcase 'defaultChecked':\n\t\t\t\tname = 'checked';\n\t\t\t\tbreak;\n\t\t\tcase 'defaultSelected':\n\t\t\t\tname = 'selected';\n\t\t\t\tbreak;\n\n\t\t\t// Special value attribute handling\n\t\t\tcase 'defaultValue':\n\t\t\tcase 'value':\n\t\t\t\tname = 'value';\n\t\t\t\tswitch (type) {\n\t\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tchildren = v;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t// <select value> is serialized as a selected attribute on the matching option child\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t// Add a selected attribute to <option> if its value matches the parent <select> value\n\t\t\t\t\tcase 'option':\n\t\t\t\t\t\tif (selectValue == v && !('selected' in props)) {\n\t\t\t\t\t\t\ts = s + ' selected';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'dangerouslySetInnerHTML':\n\t\t\t\thtml = v && v.__html;\n\t\t\t\tcontinue;\n\n\t\t\t// serialize object styles to a CSS string\n\t\t\tcase 'style':\n\t\t\t\tif (typeof v === 'object') {\n\t\t\t\t\tv = styleObjToCss(v);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'acceptCharset':\n\t\t\t\tname = 'accept-charset';\n\t\t\t\tbreak;\n\t\t\tcase 'httpEquiv':\n\t\t\t\tname = 'http-equiv';\n\t\t\t\tbreak;\n\n\t\t\tdefault: {\n\t\t\t\tif (NAMESPACE_REPLACE_REGEX.test(name)) {\n\t\t\t\t\tname = name.replace(NAMESPACE_REPLACE_REGEX, '$1:$2').toLowerCase();\n\t\t\t\t} else if (UNSAFE_NAME.test(name)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (\n\t\t\t\t\t(name[4] === '-' || HTML_ENUMERATED.has(name)) &&\n\t\t\t\t\tv != null\n\t\t\t\t) {\n\t\t\t\t\t// serialize boolean aria-xyz or enumerated attribute values as strings\n\t\t\t\t\tv = v + EMPTY_STR;\n\t\t\t\t} else if (isSvgMode) {\n\t\t\t\t\tif (SVG_CAMEL_CASE.test(name)) {\n\t\t\t\t\t\tname =\n\t\t\t\t\t\t\tname === 'panose1'\n\t\t\t\t\t\t\t\t? 'panose-1'\n\t\t\t\t\t\t\t\t: name.replace(/([A-Z])/g, '-$1').toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t} else if (HTML_LOWER_CASE.test(name)) {\n\t\t\t\t\tname = name.toLowerCase();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// write this attribute to the buffer\n\t\tif (v != null && v !== false) {\n\t\t\tif (v === true || v === EMPTY_STR) {\n\t\t\t\ts = s + ' ' + name;\n\t\t\t} else {\n\t\t\t\ts =\n\t\t\t\t\ts +\n\t\t\t\t\t' ' +\n\t\t\t\t\tname +\n\t\t\t\t\t'=\"' +\n\t\t\t\t\t(typeof v == 'string' ? encodeEntities(v) : v + EMPTY_STR) +\n\t\t\t\t\t'\"';\n\t\t\t}\n\t\t}\n\t}\n\n\tif (UNSAFE_NAME.test(type)) {\n\t\t// this seems to performs a lot better than throwing\n\t\t// return '<!-- -->';\n\t\tthrow new Error(`${type} is not a valid HTML tag name in ${s}>`);\n\t}\n\n\tif (html) {\n\t\t// dangerouslySetInnerHTML defined this node's contents\n\t} else if (typeof children === 'string') {\n\t\t// single text child\n\t\thtml = encodeEntities(children);\n\t} else if (children != null && children !== false && children !== true) {\n\t\t// recurse into this element VNode's children\n\t\tlet childSvgMode =\n\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\thtml = _renderToString(\n\t\t\tchildren,\n\t\t\tcontext,\n\t\t\tchildSvgMode,\n\t\t\tselectValue,\n\t\t\tvnode,\n\t\t\tasyncMode,\n\t\t\trenderer\n\t\t);\n\t}\n\n\tif (afterDiff) afterDiff(vnode);\n\n\t// TODO: this was commented before\n\tvnode[PARENT] = null;\n\n\tif (ummountHook) ummountHook(vnode);\n\n\t// Emit self-closing tag for empty void elements:\n\tif (!html && SELF_CLOSING.has(type)) {\n\t\treturn s + '/>';\n\t}\n\n\tconst endTag = '</' + type + '>';\n\tconst startTag = s + '>';\n\n\tif (isArray(html)) return [startTag, ...html, endTag];\n\telse if (typeof html != 'string') return [startTag, html, endTag];\n\treturn startTag + html + endTag;\n}\n\nconst SELF_CLOSING = new Set([\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'command',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'keygen',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr'\n]);\n\nexport default renderToString;\nexport const render = renderToString;\nexport const renderToStaticMarkup = renderToString;\n", "const ENCODED_ENTITIES = /[\"&<]/;\n\n/** @param {string} str */\nexport function encodeEntities(str) {\n\t// Skip all work for strings with no entities needing encoding:\n\tif (str.length === 0 || ENCODED_ENTITIES.test(str) === false) return str;\n\n\tlet last = 0,\n\t\ti = 0,\n\t\tout = '',\n\t\tch = '';\n\n\t// Seek forward in str until the next entity char:\n\tfor (; i < str.length; i++) {\n\t\tswitch (str.charCodeAt(i)) {\n\t\t\tcase 34:\n\t\t\t\tch = '&quot;';\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\tch = '&amp;';\n\t\t\t\tbreak;\n\t\t\tcase 60:\n\t\t\t\tch = '&lt;';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontinue;\n\t\t}\n\t\t// Append skipped/buffered characters and the encoded entity:\n\t\tif (i !== last) out += str.slice(last, i);\n\t\tout += ch;\n\t\t// Start the next seek/buffer after the entity's offset:\n\t\tlast = i + 1;\n\t}\n\tif (i !== last) out += str.slice(last, i);\n\treturn out;\n}\n", "/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 16;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 17;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { options, Fragment } from 'preact';\nimport { encodeEntities } from './utils';\nimport { IS_NON_DIMENSIONAL } from '../../src/constants';\n\nlet vnodeId = 0;\n\nconst isArray = Array.isArray;\n\n/**\n * @fileoverview\n * This file exports various methods that implement Babel's \"automatic\" JSX runtime API:\n * - jsx(type, props, key)\n * - jsxs(type, props, key)\n * - jsxDEV(type, props, key, __source, __self)\n *\n * The implementation of createVNode here is optimized for performance.\n * Benchmarks: https://esbench.com/bench/5f6b54a0b4632100a7dcd2b3\n */\n\n/**\n * JSX.Element factory used by Babel's {runtime:\"automatic\"} JSX transform\n * @param {VNode['type']} type\n * @param {VNode['props']} props\n * @param {VNode['key']} [key]\n * @param {unknown} [isStaticChildren]\n * @param {unknown} [__source]\n * @param {unknown} [__self]\n */\nfunction createVNode(type, props, key, isStaticChildren, __source, __self) {\n\tif (!props) props = {};\n\t// We'll want to preserve `ref` in props to get rid of the need for\n\t// forwardRef components in the future, but that should happen via\n\t// a separate PR.\n\tlet normalizedProps = props,\n\t\tref,\n\t\ti;\n\n\tif ('ref' in props) {\n\t\tref = props.ref;\n\t\tdelete props.ref;\n\t}\n\n\t/** @type {VNode & { __source: any; __self: any }} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops: normalizedProps,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: --vnodeId,\n\t\t_index: -1,\n\t\t_flags: 0,\n\t\t__source,\n\t\t__self\n\t};\n\n\t// If a Component VNode, check for and apply defaultProps.\n\t// Note: `type` is often a String, and can be `undefined` in development.\n\tif (typeof type === 'function' && (ref = type.defaultProps)) {\n\t\tfor (i in ref)\n\t\t\tif (typeof normalizedProps[i] === 'undefined') {\n\t\t\t\tnormalizedProps[i] = ref[i];\n\t\t\t}\n\t}\n\n\tif (options.vnode) options.vnode(vnode);\n\treturn vnode;\n}\n\n/**\n * Create a template vnode. This function is not expected to be\n * used directly, but rather through a precompile JSX transform\n * @param {string[]} templates\n * @param  {Array<string | null | VNode>} exprs\n * @returns {VNode}\n */\nfunction jsxTemplate(templates, ...exprs) {\n\tconst vnode = createVNode(Fragment, { tpl: templates, exprs });\n\t// Bypass render to string top level Fragment optimization\n\tvnode.key = vnode._vnode;\n\treturn vnode;\n}\n\nconst JS_TO_CSS = {};\nconst CSS_REGEX = /[A-Z]/g;\n\n/**\n * Serialize an HTML attribute to a string. This function is not\n * expected to be used directly, but rather through a precompile\n * JSX transform\n * @param {string} name The attribute name\n * @param {*} value The attribute value\n * @returns {string}\n */\nfunction jsxAttr(name, value) {\n\tif (options.attr) {\n\t\tconst result = options.attr(name, value);\n\t\tif (typeof result === 'string') return result;\n\t}\n\n\tif (name === 'ref' || name === 'key') return '';\n\tif (name === 'style' && typeof value === 'object') {\n\t\tlet str = '';\n\t\tfor (let prop in value) {\n\t\t\tlet val = value[prop];\n\t\t\tif (val != null && val !== '') {\n\t\t\t\tconst name =\n\t\t\t\t\tprop[0] == '-'\n\t\t\t\t\t\t? prop\n\t\t\t\t\t\t: JS_TO_CSS[prop] ||\n\t\t\t\t\t\t\t(JS_TO_CSS[prop] = prop.replace(CSS_REGEX, '-$&').toLowerCase());\n\n\t\t\t\tlet suffix = ';';\n\t\t\t\tif (\n\t\t\t\t\ttypeof val === 'number' &&\n\t\t\t\t\t// Exclude custom-attributes\n\t\t\t\t\t!name.startsWith('--') &&\n\t\t\t\t\t!IS_NON_DIMENSIONAL.test(name)\n\t\t\t\t) {\n\t\t\t\t\tsuffix = 'px;';\n\t\t\t\t}\n\t\t\t\tstr = str + name + ':' + val + suffix;\n\t\t\t}\n\t\t}\n\t\treturn name + '=\"' + str + '\"';\n\t}\n\n\tif (\n\t\tvalue == null ||\n\t\tvalue === false ||\n\t\ttypeof value === 'function' ||\n\t\ttypeof value === 'object'\n\t) {\n\t\treturn '';\n\t} else if (value === true) return name;\n\n\treturn name + '=\"' + encodeEntities(value) + '\"';\n}\n\n/**\n * Escape a dynamic child passed to `jsxTemplate`. This function\n * is not expected to be used directly, but rather through a\n * precompile JSX transform\n * @param {*} value\n * @returns {string | null | VNode | Array<string | null | VNode>}\n */\nfunction jsxEscape(value) {\n\tif (\n\t\tvalue == null ||\n\t\ttypeof value === 'boolean' ||\n\t\ttypeof value === 'function'\n\t) {\n\t\treturn null;\n\t}\n\n\tif (typeof value === 'object') {\n\t\t// Check for VNode\n\t\tif (value.constructor === undefined) return value;\n\n\t\tif (isArray(value)) {\n\t\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\t\tvalue[i] = jsxEscape(value[i]);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t}\n\n\treturn encodeEntities('' + value);\n}\n\nexport {\n\tcreateVNode as jsx,\n\tcreateVNode as jsxs,\n\tcreateVNode as jsxDEV,\n\tFragment,\n\t// precompiled JSX transform\n\tjsxTemplate,\n\tjsxAttr,\n\tjsxEscape\n};\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\n/** Renders an error page. */\nexport default function ErrorPage(props) {\n    const { url, error = \"default\", theme } = props;\n    const signinPageUrl = `${url}/signin`;\n    const errors = {\n        default: {\n            status: 200,\n            heading: \"Error\",\n            message: (_jsx(\"p\", { children: _jsx(\"a\", { className: \"site\", href: url?.origin, children: url?.host }) })),\n        },\n        Configuration: {\n            status: 500,\n            heading: \"Server error\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"There is a problem with the server configuration.\" }), _jsx(\"p\", { children: \"Check the server logs for more information.\" })] })),\n        },\n        AccessDenied: {\n            status: 403,\n            heading: \"Access Denied\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"You do not have permission to sign in.\" }), _jsx(\"p\", { children: _jsx(\"a\", { className: \"button\", href: signinPageUrl, children: \"Sign in\" }) })] })),\n        },\n        Verification: {\n            status: 403,\n            heading: \"Unable to sign in\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"The sign in link is no longer valid.\" }), _jsx(\"p\", { children: \"It may have been used already or it may have expired.\" })] })),\n            signin: (_jsx(\"a\", { className: \"button\", href: signinPageUrl, children: \"Sign in\" })),\n        },\n    };\n    const { status, heading, message, signin } = errors[error] ?? errors.default;\n    return {\n        status,\n        html: (_jsxs(\"div\", { className: \"error\", children: [theme?.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                        __html: `\n        :root {\n          --brand-color: ${theme?.brandColor}\n        }\n      `,\n                    } })), _jsxs(\"div\", { className: \"card\", children: [theme?.logo && _jsx(\"img\", { src: theme?.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: heading }), _jsx(\"div\", { className: \"message\", children: message }), signin] })] })),\n    };\n}\n", "//@ts-check\n// Declare a SimpleWebAuthnBrowser variable as part of \"window\"\n/** @typedef {\"authenticate\"} WebAuthnAuthenticate */\n/** @typedef {\"register\"} WebAuthnRegister */\n/** @typedef {WebAuthnRegister | WebAuthnAuthenticate} WebAuthnOptionsAction */\n/**\n * @template {WebAuthnOptionsAction} T\n * @typedef {T extends WebAuthnAuthenticate ?\n *  { options: import(\"@simplewebauthn/types\").PublicKeyCredentialRequestOptionsJSON; action: \"authenticate\" } :\n *  T extends WebAuthnRegister ?\n *  { options: import(\"@simplewebauthn/types\").PublicKeyCredentialCreationOptionsJSON; action: \"register\" } :\n * never\n * } WebAuthnOptionsReturn\n */\n/**\n * webauthnScript is the client-side script that handles the webauthn form\n *\n * @param {string} authURL is the URL of the auth API\n * @param {string} providerID is the ID of the webauthn provider\n */\nexport async function webauthnScript(authURL, providerID) {\n    /** @type {typeof import(\"@simplewebauthn/browser\")} */\n    // @ts-ignore\n    const WebAuthnBrowser = window.SimpleWebAuthnBrowser;\n    /**\n     * Fetch webauthn options from the server\n     *\n     * @template {WebAuthnOptionsAction} T\n     * @param {T | undefined} action action to fetch options for\n     * @returns {Promise<WebAuthnOptionsReturn<T> | undefined>}\n     */\n    async function fetchOptions(action) {\n        // Create the options URL with the action and query parameters\n        const url = new URL(`${authURL}/webauthn-options/${providerID}`);\n        if (action)\n            url.searchParams.append(\"action\", action);\n        const formFields = getFormFields();\n        formFields.forEach((field) => {\n            url.searchParams.append(field.name, field.value);\n        });\n        const res = await fetch(url);\n        if (!res.ok) {\n            console.error(\"Failed to fetch options\", res);\n            return;\n        }\n        return res.json();\n    }\n    /**\n     * Get the webauthn form from the page\n     *\n     * @returns {HTMLFormElement}\n     */\n    function getForm() {\n        const formID = `#${providerID}-form`;\n        /** @type {HTMLFormElement | null} */\n        const form = document.querySelector(formID);\n        if (!form)\n            throw new Error(`Form '${formID}' not found`);\n        return form;\n    }\n    /**\n     * Get formFields from the form\n     *\n     * @returns {HTMLInputElement[]}\n     */\n    function getFormFields() {\n        const form = getForm();\n        /** @type {HTMLInputElement[]} */\n        const formFields = Array.from(form.querySelectorAll(\"input[data-form-field]\"));\n        return formFields;\n    }\n    /**\n     * Passkey form submission handler.\n     * Takes the input from the form and a few other parameters and submits it to the server.\n     *\n     * @param {WebAuthnOptionsAction} action action to submit\n     * @param {unknown | undefined} data optional data to submit\n     * @returns {Promise<void>}\n     */\n    async function submitForm(action, data) {\n        const form = getForm();\n        // If a POST request, create hidden fields in the form\n        // and submit it so the browser redirects on login\n        if (action) {\n            const actionInput = document.createElement(\"input\");\n            actionInput.type = \"hidden\";\n            actionInput.name = \"action\";\n            actionInput.value = action;\n            form.appendChild(actionInput);\n        }\n        if (data) {\n            const dataInput = document.createElement(\"input\");\n            dataInput.type = \"hidden\";\n            dataInput.name = \"data\";\n            dataInput.value = JSON.stringify(data);\n            form.appendChild(dataInput);\n        }\n        return form.submit();\n    }\n    /**\n     * Executes the authentication flow by fetching options from the server,\n     * starting the authentication, and submitting the response to the server.\n     *\n     * @param {WebAuthnOptionsReturn<WebAuthnAuthenticate>['options']} options\n     * @param {boolean} autofill Whether or not to use the browser's autofill\n     * @returns {Promise<void>}\n     */\n    async function authenticationFlow(options, autofill) {\n        // Start authentication\n        const authResp = await WebAuthnBrowser.startAuthentication(options, autofill);\n        // Submit authentication response to server\n        return await submitForm(\"authenticate\", authResp);\n    }\n    /**\n     * @param {WebAuthnOptionsReturn<WebAuthnRegister>['options']} options\n     */\n    async function registrationFlow(options) {\n        // Check if all required formFields are set\n        const formFields = getFormFields();\n        formFields.forEach((field) => {\n            if (field.required && !field.value) {\n                throw new Error(`Missing required field: ${field.name}`);\n            }\n        });\n        // Start registration\n        const regResp = await WebAuthnBrowser.startRegistration(options);\n        // Submit registration response to server\n        return await submitForm(\"register\", regResp);\n    }\n    /**\n     * Attempts to authenticate the user when the page loads\n     * using the browser's autofill popup.\n     *\n     * @returns {Promise<void>}\n     */\n    async function autofillAuthentication() {\n        // if the browser can't handle autofill, don't try\n        if (!WebAuthnBrowser.browserSupportsWebAuthnAutofill())\n            return;\n        const res = await fetchOptions(\"authenticate\");\n        if (!res) {\n            console.error(\"Failed to fetch option for autofill authentication\");\n            return;\n        }\n        try {\n            await authenticationFlow(res.options, true);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    /**\n     * Sets up the passkey form by overriding the form submission handler\n     * so that it attempts to authenticate the user when the form is submitted.\n     * If the user is not registered, it will attempt to register them instead.\n     */\n    async function setupForm() {\n        const form = getForm();\n        // If the browser can't do WebAuthn, hide the form\n        if (!WebAuthnBrowser.browserSupportsWebAuthn()) {\n            form.style.display = \"none\";\n            return;\n        }\n        if (form) {\n            form.addEventListener(\"submit\", async (e) => {\n                e.preventDefault();\n                // Fetch options from the server without assuming that\n                // the user is registered\n                const res = await fetchOptions(undefined);\n                if (!res) {\n                    console.error(\"Failed to fetch options for form submission\");\n                    return;\n                }\n                // Then execute the appropriate flow\n                if (res.action === \"authenticate\") {\n                    try {\n                        await authenticationFlow(res.options, false);\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                }\n                else if (res.action === \"register\") {\n                    try {\n                        await registrationFlow(res.options);\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                }\n            });\n        }\n    }\n    // On page load, setup the form and attempt to authenticate the user.\n    setupForm();\n    autofillAuthentication();\n}\n", "import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { webauthnScript } from \"../utils/webauthn-client.js\";\nconst signinErrors = {\n    default: \"Unable to sign in.\",\n    Signin: \"Try signing in with a different account.\",\n    OAuthSignin: \"Try signing in with a different account.\",\n    OAuthCallbackError: \"Try signing in with a different account.\",\n    OAuthCreateAccount: \"Try signing in with a different account.\",\n    EmailCreateAccount: \"Try signing in with a different account.\",\n    Callback: \"Try signing in with a different account.\",\n    OAuthAccountNotLinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    EmailSignin: \"The e-mail could not be sent.\",\n    CredentialsSignin: \"Sign in failed. Check the details you provided are correct.\",\n    SessionRequired: \"Please sign in to access this page.\",\n};\nfunction ConditionalUIScript(providerID) {\n    const startConditionalUIScript = `\nconst currentURL = window.location.href;\nconst authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));\n(${webauthnScript})(authURL, \"${providerID}\");\n`;\n    return (_jsx(_Fragment, { children: _jsx(\"script\", { dangerouslySetInnerHTML: { __html: startConditionalUIScript } }) }));\n}\nexport default function SigninPage(props) {\n    const { csrfToken, providers = [], callbackUrl, theme, email, error: errorType, } = props;\n    if (typeof document !== \"undefined\" && theme?.brandColor) {\n        document.documentElement.style.setProperty(\"--brand-color\", theme.brandColor);\n    }\n    if (typeof document !== \"undefined\" && theme?.buttonText) {\n        document.documentElement.style.setProperty(\"--button-text-color\", theme.buttonText);\n    }\n    const error = errorType && (signinErrors[errorType] ?? signinErrors.default);\n    const providerLogoPath = \"https://authjs.dev/img/providers\";\n    const conditionalUIProviderID = providers.find((provider) => provider.type === \"webauthn\" && provider.enableConditionalUI)?.id;\n    return (_jsxs(\"div\", { className: \"signin\", children: [theme?.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `:root {--brand-color: ${theme.brandColor}}`,\n                } })), theme?.buttonText && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [error && (_jsx(\"div\", { className: \"error\", children: _jsx(\"p\", { children: error }) })), theme?.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), providers.map((provider, i) => {\n                        let bg, brandColor, logo;\n                        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n                            ;\n                            ({\n                                bg = \"#fff\",\n                                brandColor,\n                                logo = `${providerLogoPath}/${provider.id}.svg`,\n                            } = provider.style ?? {});\n                        }\n                        const color = brandColor ?? bg ?? \"#fff\";\n                        return (_jsxs(\"div\", { className: \"provider\", children: [provider.type === \"oauth\" || provider.type === \"oidc\" ? (_jsxs(\"form\", { action: provider.signinUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), callbackUrl && (_jsx(\"input\", { type: \"hidden\", name: \"callbackUrl\", value: callbackUrl })), _jsxs(\"button\", { type: \"submit\", className: \"button\", style: {\n                                                \"--provider-bg\": \"#fff\",\n                                                \"--provider-bg-hover\": `color-mix(in srgb, ${color} 30%, #fff)`,\n                                                \"--provider-dark-bg\": \"#161b22\",\n                                                \"--provider-dark-bg-hover\": `color-mix(in srgb, ${color} 30%, #000)`,\n                                            }, tabIndex: 0, children: [_jsxs(\"span\", { style: {\n                                                        filter: \"invert(1) grayscale(1) brightness(1.3) contrast(9000)\",\n                                                        \"mix-blend-mode\": \"luminosity\",\n                                                        opacity: 0.95,\n                                                    }, children: [\"Sign in with \", provider.name] }), logo && _jsx(\"img\", { loading: \"lazy\", height: 24, src: logo })] })] })) : null, (provider.type === \"email\" ||\n                                    provider.type === \"credentials\" ||\n                                    provider.type === \"webauthn\") &&\n                                    i > 0 &&\n                                    providers[i - 1].type !== \"email\" &&\n                                    providers[i - 1].type !== \"credentials\" &&\n                                    providers[i - 1].type !== \"webauthn\" && _jsx(\"hr\", {}), provider.type === \"email\" && (_jsxs(\"form\", { action: provider.signinUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), _jsx(\"label\", { className: \"section-header\", htmlFor: `input-email-for-${provider.id}-provider`, children: \"Email\" }), _jsx(\"input\", { id: `input-email-for-${provider.id}-provider`, autoFocus: true, type: \"email\", name: \"email\", value: email, placeholder: \"email@example.com\", required: true }), _jsxs(\"button\", { id: \"submitButton\", type: \"submit\", tabIndex: 0, children: [\"Sign in with \", provider.name] })] })), provider.type === \"credentials\" && (_jsxs(\"form\", { action: provider.callbackUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), Object.keys(provider.credentials).map((credential) => {\n                                            return (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"section-header\", htmlFor: `input-${credential}-for-${provider.id}-provider`, children: provider.credentials[credential].label ?? credential }), _jsx(\"input\", { name: credential, id: `input-${credential}-for-${provider.id}-provider`, type: provider.credentials[credential].type ?? \"text\", placeholder: provider.credentials[credential].placeholder ?? \"\", ...provider.credentials[credential] })] }, `input-group-${provider.id}`));\n                                        }), _jsxs(\"button\", { id: \"submitButton\", type: \"submit\", tabIndex: 0, children: [\"Sign in with \", provider.name] })] })), provider.type === \"webauthn\" && (_jsxs(\"form\", { action: provider.callbackUrl, method: \"POST\", id: `${provider.id}-form`, children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), Object.keys(provider.formFields).map((field) => {\n                                            return (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"section-header\", htmlFor: `input-${field}-for-${provider.id}-provider`, children: provider.formFields[field].label ?? field }), _jsx(\"input\", { name: field, \"data-form-field\": true, id: `input-${field}-for-${provider.id}-provider`, type: provider.formFields[field].type ?? \"text\", placeholder: provider.formFields[field].placeholder ?? \"\", ...provider.formFields[field] })] }, `input-group-${provider.id}`));\n                                        }), _jsxs(\"button\", { id: `submitButton-${provider.id}`, type: \"submit\", tabIndex: 0, children: [\"Sign in with \", provider.name] })] })), (provider.type === \"email\" ||\n                                    provider.type === \"credentials\" ||\n                                    provider.type === \"webauthn\") &&\n                                    i + 1 < providers.length && _jsx(\"hr\", {})] }, provider.id));\n                    })] }), conditionalUIProviderID && ConditionalUIScript(conditionalUIProviderID)] }));\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nexport default function SignoutPage(props) {\n    const { url, csrfToken, theme } = props;\n    return (_jsxs(\"div\", { className: \"signout\", children: [theme?.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `,\n                } })), theme?.buttonText && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [theme?.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: \"Signout\" }), _jsx(\"p\", { children: \"Are you sure you want to sign out?\" }), _jsxs(\"form\", { action: url?.toString(), method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), _jsx(\"button\", { id: \"submitButton\", type: \"submit\", children: \"Sign out\" })] })] })] }));\n}\n", "// Generated by `pnpm css`\nexport default `:root {\n  --border-width: 1px;\n  --border-radius: 0.5rem;\n  --color-error: #c94b4b;\n  --color-info: #157efb;\n  --color-info-hover: #0f6ddb;\n  --color-info-text: #fff;\n}\n\n.__next-auth-theme-auto,\n.__next-auth-theme-light {\n  --color-background: #ececec;\n  --color-background-hover: rgba(236, 236, 236, 0.8);\n  --color-background-card: #fff;\n  --color-text: #000;\n  --color-primary: #444;\n  --color-control-border: #bbb;\n  --color-button-active-background: #f9f9f9;\n  --color-button-active-border: #aaa;\n  --color-separator: #ccc;\n}\n\n.__next-auth-theme-dark {\n  --color-background: #161b22;\n  --color-background-hover: rgba(22, 27, 34, 0.8);\n  --color-background-card: #0d1117;\n  --color-text: #fff;\n  --color-primary: #ccc;\n  --color-control-border: #555;\n  --color-button-active-background: #060606;\n  --color-button-active-border: #666;\n  --color-separator: #444;\n}\n\n@media (prefers-color-scheme: dark) {\n  .__next-auth-theme-auto {\n    --color-background: #161b22;\n    --color-background-hover: rgba(22, 27, 34, 0.8);\n    --color-background-card: #0d1117;\n    --color-text: #fff;\n    --color-primary: #ccc;\n    --color-control-border: #555;\n    --color-button-active-background: #060606;\n    --color-button-active-border: #666;\n    --color-separator: #444;\n  }\n\n  button,\n  a.button {\n    color: var(--provider-dark-color, var(--color-primary)) !important;\n    background-color: var(\n      --provider-dark-bg,\n      var(--color-background)\n    ) !important;\n  }\n\n    :is(button,a.button):hover {\n      background-color: var(\n        --provider-dark-bg-hover,\n        var(--color-background-hover)\n      ) !important;\n    }\n\n    :is(button,a.button) span {\n      color: var(--provider-dark-bg) !important;\n    }\n}\n\nhtml {\n  box-sizing: border-box;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background-color: var(--color-background);\n  margin: 0;\n  padding: 0;\n  font-family:\n    ui-sans-serif,\n    system-ui,\n    -apple-system,\n    BlinkMacSystemFont,\n    \"Segoe UI\",\n    Roboto,\n    \"Helvetica Neue\",\n    Arial,\n    \"Noto Sans\",\n    sans-serif,\n    \"Apple Color Emoji\",\n    \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\",\n    \"Noto Color Emoji\";\n}\n\nh1 {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  font-weight: 400;\n  color: var(--color-text);\n}\n\np {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  color: var(--color-text);\n}\n\nform {\n  margin: 0;\n  padding: 0;\n}\n\nlabel {\n  font-weight: 500;\n  text-align: left;\n  margin-bottom: 0.25rem;\n  display: block;\n  color: var(--color-text);\n}\n\ninput[type] {\n  box-sizing: border-box;\n  display: block;\n  width: 100%;\n  padding: 0.5rem 1rem;\n  border: var(--border-width) solid var(--color-control-border);\n  background: var(--color-background-card);\n  font-size: 1rem;\n  border-radius: var(--border-radius);\n  color: var(--color-text);\n}\n\np {\n  font-size: 1.1rem;\n  line-height: 2rem;\n}\n\na.button {\n  text-decoration: none;\n  line-height: 1rem;\n}\n\na.button:link,\n  a.button:visited {\n    background-color: var(--color-background);\n    color: var(--color-primary);\n  }\n\nbutton,\na.button {\n  padding: 0.75rem 1rem;\n  color: var(--provider-color, var(--color-primary));\n  background-color: var(--provider-bg, var(--color-background));\n  border: 1px solid #00000031;\n  font-size: 0.9rem;\n  height: 50px;\n  border-radius: var(--border-radius);\n  transition: background-color 250ms ease-in-out;\n  font-weight: 300;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n:is(button,a.button):hover {\n    background-color: var(--provider-bg-hover, var(--color-background-hover));\n    cursor: pointer;\n  }\n\n:is(button,a.button):active {\n    cursor: pointer;\n  }\n\n:is(button,a.button) span {\n    color: #fff;\n  }\n\n#submitButton {\n  color: var(--button-text-color, var(--color-info-text));\n  background-color: var(--brand-color, var(--color-info));\n  width: 100%;\n}\n\n#submitButton:hover {\n    background-color: var(\n      --button-hover-bg,\n      var(--color-info-hover)\n    ) !important;\n  }\n\na.site {\n  color: var(--color-primary);\n  text-decoration: none;\n  font-size: 1rem;\n  line-height: 2rem;\n}\n\na.site:hover {\n    text-decoration: underline;\n  }\n\n.page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.page > div {\n    text-align: center;\n  }\n\n.error a.button {\n    padding-left: 2rem;\n    padding-right: 2rem;\n    margin-top: 0.5rem;\n  }\n\n.error .message {\n    margin-bottom: 1.5rem;\n  }\n\n.signin input[type=\"text\"] {\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n  }\n\n.signin hr {\n    display: block;\n    border: 0;\n    border-top: 1px solid var(--color-separator);\n    margin: 2rem auto 1rem auto;\n    overflow: visible;\n  }\n\n.signin hr::before {\n      content: \"or\";\n      background: var(--color-background-card);\n      color: #888;\n      padding: 0 0.4rem;\n      position: relative;\n      top: -0.7rem;\n    }\n\n.signin .error {\n    background: #f5f5f5;\n    font-weight: 500;\n    border-radius: 0.3rem;\n    background: var(--color-error);\n  }\n\n.signin .error p {\n      text-align: left;\n      padding: 0.5rem 1rem;\n      font-size: 0.9rem;\n      line-height: 1.2rem;\n      color: var(--color-info-text);\n    }\n\n.signin > div,\n  .signin form {\n    display: block;\n  }\n\n.signin > div input[type], .signin form input[type] {\n      margin-bottom: 0.5rem;\n    }\n\n.signin > div button, .signin form button {\n      width: 100%;\n    }\n\n.signin .provider + .provider {\n    margin-top: 1rem;\n  }\n\n.logo {\n  display: inline-block;\n  max-width: 150px;\n  margin: 1.25rem 0;\n  max-height: 70px;\n}\n\n.card {\n  background-color: var(--color-background-card);\n  border-radius: 1rem;\n  padding: 1.25rem 2rem;\n}\n\n.card .header {\n    color: var(--color-primary);\n  }\n\n.card input[type]::-moz-placeholder {\n    color: color-mix(\n      in srgb,\n      var(--color-text) 20%,\n      var(--color-button-active-background)\n    );\n  }\n\n.card input[type]::placeholder {\n    color: color-mix(\n      in srgb,\n      var(--color-text) 20%,\n      var(--color-button-active-background)\n    );\n  }\n\n.card input[type] {\n    background: color-mix(in srgb, var(--color-background-card) 95%, black);\n  }\n\n.section-header {\n  color: var(--color-text);\n}\n\n@media screen and (min-width: 450px) {\n  .card {\n    margin: 2rem 0;\n    width: 368px;\n  }\n}\n\n@media screen and (max-width: 450px) {\n  .card {\n    margin: 1rem 0;\n    width: 343px;\n  }\n}\n`;\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nexport default function VerifyRequestPage(props) {\n    const { url, theme } = props;\n    return (_jsxs(\"div\", { className: \"verify-request\", children: [theme.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [theme.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: \"Check your email\" }), _jsx(\"p\", { children: \"A sign in link has been sent to your email address.\" }), _jsx(\"p\", { children: _jsx(\"a\", { className: \"site\", href: url.origin, children: url.host }) })] })] }));\n}\n", "import { renderToString } from \"preact-render-to-string\";\nimport ErrorPage from \"./error.js\";\nimport SigninPage from \"./signin.js\";\nimport SignoutPage from \"./signout.js\";\nimport css from \"./styles.js\";\nimport VerifyRequestPage from \"./verify-request.js\";\nimport { UnknownAction } from \"../../errors.js\";\nfunction send({ html, title, status, cookies, theme, headTags, }) {\n    return {\n        cookies,\n        status,\n        headers: { \"Content-Type\": \"text/html\" },\n        body: `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${css}</style><title>${title}</title>${headTags ?? \"\"}</head><body class=\"__next-auth-theme-${theme?.colorScheme ?? \"auto\"}\"><div class=\"page\">${renderToString(html)}</div></body></html>`,\n    };\n}\n/**\n * Unless the user defines their [own pages](https://authjs.dev/reference/core#pages),\n * we render a set of default ones, using Preact SSR.\n */\nexport default function renderPage(params) {\n    const { url, theme, query, cookies, pages, providers } = params;\n    return {\n        csrf(skip, options, cookies) {\n            if (!skip) {\n                return {\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: { csrfToken: options.csrfToken },\n                    cookies,\n                };\n            }\n            options.logger.warn(\"csrf-disabled\");\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: \"\",\n                options: { ...options.cookies.csrfToken.options, maxAge: 0 },\n            });\n            return { status: 404, cookies };\n        },\n        providers(providers) {\n            return {\n                headers: { \"Content-Type\": \"application/json\" },\n                body: providers.reduce((acc, { id, name, type, signinUrl, callbackUrl }) => {\n                    acc[id] = { id, name, type, signinUrl, callbackUrl };\n                    return acc;\n                }, {}),\n            };\n        },\n        signin(providerId, error) {\n            if (providerId)\n                throw new UnknownAction(\"Unsupported action\");\n            if (pages?.signIn) {\n                let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl: params.callbackUrl ?? \"/\" })}`;\n                if (error)\n                    signinUrl = `${signinUrl}&${new URLSearchParams({ error })}`;\n                return { redirect: signinUrl, cookies };\n            }\n            // If we have a webauthn provider with conditional UI and\n            // a simpleWebAuthnBrowserScript is defined, we need to\n            // render the script in the page.\n            const webauthnProvider = providers?.find((p) => p.type === \"webauthn\" &&\n                p.enableConditionalUI &&\n                !!p.simpleWebAuthnBrowserVersion);\n            let simpleWebAuthnBrowserScript = \"\";\n            if (webauthnProvider) {\n                const { simpleWebAuthnBrowserVersion } = webauthnProvider;\n                simpleWebAuthnBrowserScript = `<script src=\"https://unpkg.com/@simplewebauthn/browser@${simpleWebAuthnBrowserVersion}/dist/bundle/index.umd.min.js\" crossorigin=\"anonymous\"></script>`;\n            }\n            return send({\n                cookies,\n                theme,\n                html: SigninPage({\n                    csrfToken: params.csrfToken,\n                    // We only want to render providers\n                    providers: params.providers?.filter((provider) => \n                    // Always render oauth and email type providers\n                    [\"email\", \"oauth\", \"oidc\"].includes(provider.type) ||\n                        // Only render credentials type provider if credentials are defined\n                        (provider.type === \"credentials\" && provider.credentials) ||\n                        // Only render webauthn type provider if formFields are defined\n                        (provider.type === \"webauthn\" && provider.formFields) ||\n                        // Don't render other provider types\n                        false),\n                    callbackUrl: params.callbackUrl,\n                    theme: params.theme,\n                    error,\n                    ...query,\n                }),\n                title: \"Sign In\",\n                headTags: simpleWebAuthnBrowserScript,\n            });\n        },\n        signout() {\n            if (pages?.signOut)\n                return { redirect: pages.signOut, cookies };\n            return send({\n                cookies,\n                theme,\n                html: SignoutPage({ csrfToken: params.csrfToken, url, theme }),\n                title: \"Sign Out\",\n            });\n        },\n        verifyRequest(props) {\n            if (pages?.verifyRequest)\n                return {\n                    redirect: `${pages.verifyRequest}${url?.search ?? \"\"}`,\n                    cookies,\n                };\n            return send({\n                cookies,\n                theme,\n                html: VerifyRequestPage({ url, theme, ...props }),\n                title: \"Verify Request\",\n            });\n        },\n        error(error) {\n            if (pages?.error) {\n                return {\n                    redirect: `${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`,\n                    cookies,\n                };\n            }\n            return send({\n                cookies,\n                theme,\n                // @ts-expect-error fix error type\n                ...ErrorPage({ url, theme, error }),\n                title: \"Error\",\n            });\n        },\n    };\n}\n", "/**\n * Takes a number in seconds and returns the date in the future.\n * Optionally takes a second date parameter. In that case\n * the date in the future will be calculated from that date instead of now.\n */\nexport function fromDate(time, date = Date.now()) {\n    return new Date(date + time * 1000);\n}\n", "import { AccountNotLinked, OAuthAccountNotLinked } from \"../../../errors.js\";\nimport { fromDate } from \"../../utils/date.js\";\n/**\n * This function handles the complex flow of signing users in, and either creating,\n * linking (or not linking) accounts depending on if the user is currently logged\n * in, if they have account already and the authentication mechanism they are using.\n *\n * It prevents insecure behaviour, such as linking OAuth accounts unless a user is\n * signed in and authenticated with an existing valid account.\n *\n * All verification (e.g. OAuth flows or email address verification flows) are\n * done prior to this handler being called to avoid additional complexity in this\n * handler.\n */\nexport async function handleLoginOrRegister(sessionToken, _profile, _account, options) {\n    // Input validation\n    if (!_account?.providerAccountId || !_account.type)\n        throw new Error(\"Missing or invalid provider account\");\n    if (![\"email\", \"oauth\", \"oidc\", \"webauthn\"].includes(_account.type))\n        throw new Error(\"Provider not supported\");\n    const { adapter, jwt, events, session: { strategy: sessionStrategy, generateSessionToken }, } = options;\n    // If no adapter is configured then we don't have a database and cannot\n    // persist data; in this mode we just return a dummy session object.\n    if (!adapter) {\n        return { user: _profile, account: _account };\n    }\n    const profile = _profile;\n    let account = _account;\n    const { createUser, updateUser, getUser, getUserByAccount, getUserByEmail, linkAccount, createSession, getSessionAndUser, deleteSession, } = adapter;\n    let session = null;\n    let user = null;\n    let isNewUser = false;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    if (sessionToken) {\n        if (useJwtSession) {\n            try {\n                const salt = options.cookies.sessionToken.name;\n                session = await jwt.decode({ ...jwt, token: sessionToken, salt });\n                if (session && \"sub\" in session && session.sub) {\n                    user = await getUser(session.sub);\n                }\n            }\n            catch {\n                // If session can't be verified, treat as no session\n            }\n        }\n        else {\n            const userAndSession = await getSessionAndUser(sessionToken);\n            if (userAndSession) {\n                session = userAndSession.session;\n                user = userAndSession.user;\n            }\n        }\n    }\n    if (account.type === \"email\") {\n        // If signing in with an email, check if an account with the same email address exists already\n        const userByEmail = await getUserByEmail(profile.email);\n        if (userByEmail) {\n            // If they are not already signed in as the same user, this flow will\n            // sign them out of the current session and sign them in as the new user\n            if (user?.id !== userByEmail.id && !useJwtSession && sessionToken) {\n                // Delete existing session if they are currently signed in as another user.\n                // This will switch user accounts for the session in cases where the user was\n                // already logged in with a different account.\n                await deleteSession(sessionToken);\n            }\n            // Update emailVerified property on the user object\n            user = await updateUser({\n                id: userByEmail.id,\n                emailVerified: new Date(),\n            });\n            await events.updateUser?.({ user });\n        }\n        else {\n            // Create user account if there isn't one for the email address already\n            user = await createUser({ ...profile, emailVerified: new Date() });\n            await events.createUser?.({ user });\n            isNewUser = true;\n        }\n        // Create new session\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user, isNewUser };\n    }\n    else if (account.type === \"webauthn\") {\n        // Check if the account exists\n        const userByAccount = await getUserByAccount({\n            providerAccountId: account.providerAccountId,\n            provider: account.provider,\n        });\n        if (userByAccount) {\n            if (user) {\n                // If the user is already signed in with this account, we don't need to do anything\n                if (userByAccount.id === user.id) {\n                    const currentAccount = { ...account, userId: user.id };\n                    return { session, user, isNewUser, account: currentAccount };\n                }\n                // If the user is currently signed in, but the new account they are signing in\n                // with is already associated with another user, then we cannot link them\n                // and need to return an error.\n                throw new AccountNotLinked(\"The account is already associated with another user\", { provider: account.provider });\n            }\n            // If there is no active session, but the account being signed in with is already\n            // associated with a valid user then create session to sign the user in.\n            session = useJwtSession\n                ? {}\n                : await createSession({\n                    sessionToken: generateSessionToken(),\n                    userId: userByAccount.id,\n                    expires: fromDate(options.session.maxAge),\n                });\n            const currentAccount = {\n                ...account,\n                userId: userByAccount.id,\n            };\n            return {\n                session,\n                user: userByAccount,\n                isNewUser,\n                account: currentAccount,\n            };\n        }\n        else {\n            // If the account doesn't exist, we'll create it\n            if (user) {\n                // If the user is already signed in and the account isn't already associated\n                // with another user account then we can go ahead and link the accounts safely.\n                await linkAccount({ ...account, userId: user.id });\n                await events.linkAccount?.({ user, account, profile });\n                // As they are already signed in, we don't need to do anything after linking them\n                const currentAccount = { ...account, userId: user.id };\n                return { session, user, isNewUser, account: currentAccount };\n            }\n            // If the user is not signed in and it looks like a new account then we\n            // check there also isn't an user account already associated with the same\n            // email address as the one in the request.\n            const userByEmail = profile.email\n                ? await getUserByEmail(profile.email)\n                : null;\n            if (userByEmail) {\n                // We don't trust user-provided email addresses, so we don't want to link accounts\n                // if the email address associated with the new account is already associated with\n                // an existing account.\n                throw new AccountNotLinked(\"Another account already exists with the same e-mail address\", { provider: account.provider });\n            }\n            else {\n                // If the current user is not logged in and the profile isn't linked to any user\n                // accounts (by email or provider account id)...\n                //\n                // If no account matching the same [provider].id or .email exists, we can\n                // create a new account for the user, link it to the OAuth account and\n                // create a new session for them so they are signed in with it.\n                user = await createUser({ ...profile });\n            }\n            await events.createUser?.({ user });\n            await linkAccount({ ...account, userId: user.id });\n            await events.linkAccount?.({ user, account, profile });\n            session = useJwtSession\n                ? {}\n                : await createSession({\n                    sessionToken: generateSessionToken(),\n                    userId: user.id,\n                    expires: fromDate(options.session.maxAge),\n                });\n            const currentAccount = { ...account, userId: user.id };\n            return { session, user, isNewUser: true, account: currentAccount };\n        }\n    }\n    // If signing in with OAuth account, check to see if the account exists already\n    const userByAccount = await getUserByAccount({\n        providerAccountId: account.providerAccountId,\n        provider: account.provider,\n    });\n    if (userByAccount) {\n        if (user) {\n            // If the user is already signed in with this account, we don't need to do anything\n            if (userByAccount.id === user.id) {\n                return { session, user, isNewUser };\n            }\n            // If the user is currently signed in, but the new account they are signing in\n            // with is already associated with another user, then we cannot link them\n            // and need to return an error.\n            throw new OAuthAccountNotLinked(\"The account is already associated with another user\", { provider: account.provider });\n        }\n        // If there is no active session, but the account being signed in with is already\n        // associated with a valid user then create session to sign the user in.\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: userByAccount.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user: userByAccount, isNewUser };\n    }\n    else {\n        const { provider: p } = options;\n        const { type, provider, providerAccountId, userId, ...tokenSet } = account;\n        const defaults = { providerAccountId, provider, type, userId };\n        account = Object.assign(p.account(tokenSet) ?? {}, defaults);\n        if (user) {\n            // If the user is already signed in and the OAuth account isn't already associated\n            // with another user account then we can go ahead and link the accounts safely.\n            await linkAccount({ ...account, userId: user.id });\n            await events.linkAccount?.({ user, account, profile });\n            // As they are already signed in, we don't need to do anything after linking them\n            return { session, user, isNewUser };\n        }\n        // If the user is not signed in and it looks like a new OAuth account then we\n        // check there also isn't an user account already associated with the same\n        // email address as the one in the OAuth profile.\n        //\n        // This step is often overlooked in OAuth implementations, but covers the following cases:\n        //\n        // 1. It makes it harder for someone to accidentally create two accounts.\n        //    e.g. by signin in with email, then again with an oauth account connected to the same email.\n        // 2. It makes it harder to hijack a user account using a 3rd party OAuth account.\n        //    e.g. by creating an oauth account then changing the email address associated with it.\n        //\n        // It's quite common for services to automatically link accounts in this case, but it's\n        // better practice to require the user to sign in *then* link accounts to be sure\n        // someone is not exploiting a problem with a third party OAuth service.\n        //\n        // OAuth providers should require email address verification to prevent this, but in\n        // practice that is not always the case; this helps protect against that.\n        const userByEmail = profile.email\n            ? await getUserByEmail(profile.email)\n            : null;\n        if (userByEmail) {\n            const provider = options.provider;\n            if (provider?.allowDangerousEmailAccountLinking) {\n                // If you trust the oauth provider to correctly verify email addresses, you can opt-in to\n                // account linking even when the user is not signed-in.\n                user = userByEmail;\n                isNewUser = false;\n            }\n            else {\n                // We end up here when we don't have an account with the same [provider].id *BUT*\n                // we do already have an account with the same email address as the one in the\n                // OAuth profile the user has just tried to sign in with.\n                //\n                // We don't want to have two accounts with the same email address, and we don't\n                // want to link them in case it's not safe to do so, so instead we prompt the user\n                // to sign in via email to verify their identity and then link the accounts.\n                throw new OAuthAccountNotLinked(\"Another account already exists with the same e-mail address\", { provider: account.provider });\n            }\n        }\n        else {\n            // If the current user is not logged in and the profile isn't linked to any user\n            // accounts (by email or provider account id)...\n            //\n            // If no account matching the same [provider].id or .email exists, we can\n            // create a new account for the user, link it to the OAuth account and\n            // create a new session for them so they are signed in with it.\n            user = await createUser({ ...profile, emailVerified: null });\n            isNewUser = true;\n        }\n        await events.createUser?.({ user });\n        await linkAccount({ ...account, userId: user.id });\n        await events.linkAccount?.({ user, account, profile });\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user, isNewUser };\n    }\n}\n", null, "import * as o from \"oauth4webapi\";\nimport { InvalidCheck } from \"../../../../errors.js\";\n// NOTE: We use the default JWT methods here because they encrypt/decrypt the payload, not just sign it.\nimport { decode, encode } from \"../../../../jwt.js\";\nconst COOKIE_TTL = 60 * 15; // 15 minutes\n/** Returns a cookie with a JWT encrypted payload. */\nasync function sealCookie(name, payload, options) {\n    const { cookies, logger } = options;\n    const cookie = cookies[name];\n    const expires = new Date();\n    expires.setTime(expires.getTime() + COOKIE_TTL * 1000);\n    logger.debug(`CREATE_${name.toUpperCase()}`, {\n        name: cookie.name,\n        payload,\n        COOKIE_TTL,\n        expires,\n    });\n    const encoded = await encode({\n        ...options.jwt,\n        maxAge: COOKIE_TTL,\n        token: { value: payload },\n        salt: cookie.name,\n    });\n    const cookieOptions = { ...cookie.options, expires };\n    return { name: cookie.name, value: encoded, options: cookieOptions };\n}\nasync function parseCookie(name, value, options) {\n    try {\n        const { logger, cookies, jwt } = options;\n        logger.debug(`PARSE_${name.toUpperCase()}`, { cookie: value });\n        if (!value)\n            throw new InvalidCheck(`${name} cookie was missing`);\n        const parsed = await decode({\n            ...jwt,\n            token: value,\n            salt: cookies[name].name,\n        });\n        if (parsed?.value)\n            return parsed.value;\n        throw new Error(\"Invalid cookie\");\n    }\n    catch (error) {\n        throw new InvalidCheck(`${name} value could not be parsed`, {\n            cause: error,\n        });\n    }\n}\nfunction clearCookie(name, options, resCookies) {\n    const { logger, cookies } = options;\n    const cookie = cookies[name];\n    logger.debug(`CLEAR_${name.toUpperCase()}`, { cookie });\n    resCookies.push({\n        name: cookie.name,\n        value: \"\",\n        options: { ...cookies[name].options, maxAge: 0 },\n    });\n}\nfunction useCookie(check, name) {\n    return async function (cookies, resCookies, options) {\n        const { provider, logger } = options;\n        if (!provider?.checks?.includes(check))\n            return;\n        const cookieValue = cookies?.[options.cookies[name].name];\n        logger.debug(`USE_${name.toUpperCase()}`, { value: cookieValue });\n        const parsed = await parseCookie(name, cookieValue, options);\n        clearCookie(name, options, resCookies);\n        return parsed;\n    };\n}\n/**\n * @see https://www.rfc-editor.org/rfc/rfc7636\n * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#pkce\n */\nexport const pkce = {\n    /** Creates a PKCE code challenge and verifier pair. The verifier in stored in the cookie. */\n    async create(options) {\n        const code_verifier = o.generateRandomCodeVerifier();\n        const value = await o.calculatePKCECodeChallenge(code_verifier);\n        const cookie = await sealCookie(\"pkceCodeVerifier\", code_verifier, options);\n        return { cookie, value };\n    },\n    /**\n     * Returns code_verifier if the provider is configured to use PKCE,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the code_verifier is missing or invalid.\n     */\n    use: useCookie(\"pkce\", \"pkceCodeVerifier\"),\n};\nconst STATE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst encodedStateSalt = \"encodedState\";\n/**\n * @see https://www.rfc-editor.org/rfc/rfc6749#section-10.12\n * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n */\nexport const state = {\n    /** Creates a state cookie with an optionally encoded body. */\n    async create(options, origin) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\")) {\n            if (origin) {\n                throw new InvalidCheck(\"State data was provided but the provider is not configured to use state\");\n            }\n            return;\n        }\n        // IDEA: Allow the user to pass data to be stored in the state\n        const payload = {\n            origin,\n            random: o.generateRandomState(),\n        };\n        const value = await encode({\n            secret: options.jwt.secret,\n            token: payload,\n            salt: encodedStateSalt,\n            maxAge: STATE_MAX_AGE,\n        });\n        const cookie = await sealCookie(\"state\", value, options);\n        return { cookie, value };\n    },\n    /**\n     * Returns state if the provider is configured to use state,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the state is missing or invalid.\n     */\n    use: useCookie(\"state\", \"state\"),\n    /** Decodes the state. If it could not be decoded, it throws an error. */\n    async decode(state, options) {\n        try {\n            options.logger.debug(\"DECODE_STATE\", { state });\n            const payload = await decode({\n                secret: options.jwt.secret,\n                token: state,\n                salt: encodedStateSalt,\n            });\n            if (payload)\n                return payload;\n            throw new Error(\"Invalid state\");\n        }\n        catch (error) {\n            throw new InvalidCheck(\"State could not be decoded\", { cause: error });\n        }\n    },\n};\nexport const nonce = {\n    async create(options) {\n        if (!options.provider.checks.includes(\"nonce\"))\n            return;\n        const value = o.generateRandomNonce();\n        const cookie = await sealCookie(\"nonce\", value, options);\n        return { cookie, value };\n    },\n    /**\n     * Returns nonce if the provider is configured to use nonce,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the nonce is missing or invalid.\n     * @see https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#nonce\n     */\n    use: useCookie(\"nonce\", \"nonce\"),\n};\nconst WEBAUTHN_CHALLENGE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst webauthnChallengeSalt = \"encodedWebauthnChallenge\";\nexport const webauthnChallenge = {\n    async create(options, challenge, registerData) {\n        return {\n            cookie: await sealCookie(\"webauthnChallenge\", await encode({\n                secret: options.jwt.secret,\n                token: { challenge, registerData },\n                salt: webauthnChallengeSalt,\n                maxAge: WEBAUTHN_CHALLENGE_MAX_AGE,\n            }), options),\n        };\n    },\n    /** Returns WebAuthn challenge if present. */\n    async use(options, cookies, resCookies) {\n        const cookieValue = cookies?.[options.cookies.webauthnChallenge.name];\n        const parsed = await parseCookie(\"webauthnChallenge\", cookieValue, options);\n        const payload = await decode({\n            secret: options.jwt.secret,\n            token: parsed,\n            salt: webauthnChallengeSalt,\n        });\n        // Clear the WebAuthn challenge cookie after use\n        clearCookie(\"webauthnChallenge\", options, resCookies);\n        if (!payload)\n            throw new InvalidCheck(\"WebAuthn challenge was missing\");\n        return payload;\n    },\n};\n", "import * as checks from \"./checks.js\";\nimport * as o from \"oauth4webapi\";\nimport { OAuthCallbackError, OAuthProfileParseError, } from \"../../../../errors.js\";\nimport { isOIDCProvider } from \"../../../utils/providers.js\";\nimport { conformInternal, customFetch } from \"../../../symbols.js\";\nimport { decodeJwt } from \"jose\";\nfunction formUrlEncode(token) {\n    return encodeURIComponent(token).replace(/%20/g, \"+\");\n}\n/**\n * Formats client_id and client_secret as an HTTP Basic Authentication header as per the OAuth 2.0\n * specified in RFC6749.\n */\nfunction clientSecretBasic(clientId, clientSecret) {\n    const username = formUrlEncode(clientId);\n    const password = formUrlEncode(clientSecret);\n    const credentials = btoa(`${username}:${password}`);\n    return `Basic ${credentials}`;\n}\n/**\n * Handles the following OAuth steps.\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n * https://openid.net/specs/openid-connect-core-1_0.html#UserInfoRequest\n *\n * @note Although requesting userinfo is not required by the OAuth2.0 spec,\n * we fetch it anyway. This is because we always want a user profile.\n */\nexport async function handleOAuth(params, cookies, options) {\n    const { logger, provider } = options;\n    let as;\n    const { token, userinfo } = provider;\n    // Falls back to authjs.dev if the user only passed params\n    if ((!token?.url || token.url.host === \"authjs.dev\") &&\n        (!userinfo?.url || userinfo.url.host === \"authjs.dev\")) {\n        // We assume that issuer is always defined as this has been asserted earlier\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await o.discoveryRequest(issuer, {\n            [o.allowInsecureRequests]: true,\n            [o.customFetch]: provider[customFetch],\n        });\n        as = await o.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!as.token_endpoint)\n            throw new TypeError(\"TODO: Authorization server did not provide a token endpoint.\");\n        if (!as.userinfo_endpoint)\n            throw new TypeError(\"TODO: Authorization server did not provide a userinfo endpoint.\");\n    }\n    else {\n        as = {\n            issuer: provider.issuer ?? \"https://authjs.dev\", // TODO: review fallback issuer\n            token_endpoint: token?.url.toString(),\n            userinfo_endpoint: userinfo?.url.toString(),\n        };\n    }\n    const client = {\n        client_id: provider.clientId,\n        ...provider.client,\n    };\n    let clientAuth;\n    switch (client.token_endpoint_auth_method) {\n        // TODO: in the next breaking major version have undefined be `client_secret_post`\n        case undefined:\n        case \"client_secret_basic\":\n            // TODO: in the next breaking major version use o.ClientSecretBasic() here\n            clientAuth = (_as, _client, _body, headers) => {\n                headers.set(\"authorization\", clientSecretBasic(provider.clientId, provider.clientSecret));\n            };\n            break;\n        case \"client_secret_post\":\n            clientAuth = o.ClientSecretPost(provider.clientSecret);\n            break;\n        case \"client_secret_jwt\":\n            clientAuth = o.ClientSecretJwt(provider.clientSecret);\n            break;\n        case \"private_key_jwt\":\n            clientAuth = o.PrivateKeyJwt(provider.token.clientPrivateKey, {\n                // TODO: review in the next breaking change\n                [o.modifyAssertion](_header, payload) {\n                    payload.aud = [as.issuer, as.token_endpoint];\n                },\n            });\n            break;\n        case \"none\":\n            clientAuth = o.None();\n            break;\n        default:\n            throw new Error(\"unsupported client authentication method\");\n    }\n    const resCookies = [];\n    const state = await checks.state.use(cookies, resCookies, options);\n    let codeGrantParams;\n    try {\n        codeGrantParams = o.validateAuthResponse(as, client, new URLSearchParams(params), provider.checks.includes(\"state\") ? state : o.skipStateCheck);\n    }\n    catch (err) {\n        if (err instanceof o.AuthorizationResponseError) {\n            const cause = {\n                providerId: provider.id,\n                ...Object.fromEntries(err.cause.entries()),\n            };\n            logger.debug(\"OAuthCallbackError\", cause);\n            throw new OAuthCallbackError(\"OAuth Provider returned an error\", cause);\n        }\n        throw err;\n    }\n    const codeVerifier = await checks.pkce.use(cookies, resCookies, options);\n    let redirect_uri = provider.callbackUrl;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n    }\n    let codeGrantResponse = await o.authorizationCodeGrantRequest(as, client, clientAuth, codeGrantParams, redirect_uri, codeVerifier ?? \"decoy\", {\n        // TODO: move away from allowing insecure HTTP requests\n        [o.allowInsecureRequests]: true,\n        [o.customFetch]: (...args) => {\n            if (!provider.checks.includes(\"pkce\")) {\n                args[1].body.delete(\"code_verifier\");\n            }\n            return (provider[customFetch] ?? fetch)(...args);\n        },\n    });\n    if (provider.token?.conform) {\n        codeGrantResponse =\n            (await provider.token.conform(codeGrantResponse.clone())) ??\n                codeGrantResponse;\n    }\n    let profile = {};\n    const requireIdToken = isOIDCProvider(provider);\n    if (provider[conformInternal]) {\n        switch (provider.id) {\n            case \"microsoft-entra-id\":\n            case \"azure-ad\": {\n                /**\n                 * These providers need the authorization server metadata to be re-processed\n                 * based on the `id_token`'s `tid` claim\n                 * @see https://github.com/MicrosoftDocs/azure-docs/issues/113944\n                 */\n                const { tid } = decodeJwt((await codeGrantResponse.clone().json()).id_token);\n                if (typeof tid === \"string\") {\n                    const tenantRe = /microsoftonline\\.com\\/(\\w+)\\/v2\\.0/;\n                    const tenantId = as.issuer?.match(tenantRe)?.[1] ?? \"common\";\n                    const issuer = new URL(as.issuer.replace(tenantId, tid));\n                    const discoveryResponse = await o.discoveryRequest(issuer, {\n                        [o.customFetch]: provider[customFetch],\n                    });\n                    as = await o.processDiscoveryResponse(issuer, discoveryResponse);\n                }\n                break;\n            }\n            default:\n                break;\n        }\n    }\n    const processedCodeResponse = await o.processAuthorizationCodeResponse(as, client, codeGrantResponse, {\n        expectedNonce: await checks.nonce.use(cookies, resCookies, options),\n        requireIdToken,\n    });\n    const tokens = processedCodeResponse;\n    if (requireIdToken) {\n        const idTokenClaims = o.getValidatedIdTokenClaims(processedCodeResponse);\n        profile = idTokenClaims;\n        // Apple sends some of the user information in a `user` parameter as a stringified JSON.\n        // It also only does so the first time the user consents to share their information.\n        if (provider[conformInternal] && provider.id === \"apple\") {\n            try {\n                profile.user = JSON.parse(params?.user);\n            }\n            catch { }\n        }\n        if (provider.idToken === false) {\n            const userinfoResponse = await o.userInfoRequest(as, client, processedCodeResponse.access_token, {\n                [o.customFetch]: provider[customFetch],\n                // TODO: move away from allowing insecure HTTP requests\n                [o.allowInsecureRequests]: true,\n            });\n            profile = await o.processUserInfoResponse(as, client, idTokenClaims.sub, userinfoResponse);\n        }\n    }\n    else {\n        if (userinfo?.request) {\n            const _profile = await userinfo.request({ tokens, provider });\n            if (_profile instanceof Object)\n                profile = _profile;\n        }\n        else if (userinfo?.url) {\n            const userinfoResponse = await o.userInfoRequest(as, client, processedCodeResponse.access_token, { [o.customFetch]: provider[customFetch] });\n            profile = await userinfoResponse.json();\n        }\n        else {\n            throw new TypeError(\"No userinfo endpoint configured\");\n        }\n    }\n    if (tokens.expires_in) {\n        tokens.expires_at =\n            Math.floor(Date.now() / 1000) + Number(tokens.expires_in);\n    }\n    const profileResult = await getUserAndAccount(profile, provider, tokens, logger);\n    return { ...profileResult, profile, cookies: resCookies };\n}\n/**\n * Returns the user and account that is going to be created in the database.\n * @internal\n */\nexport async function getUserAndAccount(OAuthProfile, provider, tokens, logger) {\n    try {\n        const userFromProfile = await provider.profile(OAuthProfile, tokens);\n        const user = {\n            ...userFromProfile,\n            // The user's id is intentionally not set based on the profile id, as\n            // the user should remain independent of the provider and the profile id\n            // is saved on the Account already, as `providerAccountId`.\n            id: crypto.randomUUID(),\n            email: userFromProfile.email?.toLowerCase(),\n        };\n        return {\n            user,\n            account: {\n                ...tokens,\n                provider: provider.id,\n                type: provider.type,\n                providerAccountId: userFromProfile.id ?? crypto.randomUUID(),\n            },\n        };\n    }\n    catch (e) {\n        // If we didn't get a response either there was a problem with the provider\n        // response *or* the user cancelled the action with the provider.\n        //\n        // Unfortunately, we can't tell which - at least not in a way that works for\n        // all providers, so we return an empty object; the user should then be\n        // redirected back to the sign up page. We log the error to help developers\n        // who might be trying to debug this when configuring a new provider.\n        logger.debug(\"getProfile error details\", OAuthProfile);\n        logger.error(new OAuthProfileParseError(e, { provider: provider.id }));\n    }\n}\n", "import { AdapterError, AuthError, InvalidProvider, MissingAdapter, WebAuthnVerificationError, } from \"../../errors.js\";\nimport { webauthnChallenge } from \"../actions/callback/oauth/checks.js\";\nimport { randomString } from \"./web.js\";\n/**\n * Infers the WebAuthn options based on the provided parameters.\n *\n * @param action - The WebAuthn action to perform (optional).\n * @param loggedInUser - The logged-in user (optional).\n * @param userInfoResponse - The response containing user information (optional).\n *\n * @returns The WebAuthn action to perform, or null if no inference could be made.\n */\nexport function inferWebAuthnOptions(action, loggedIn, userInfoResponse) {\n    const { user, exists = false } = userInfoResponse ?? {};\n    switch (action) {\n        case \"authenticate\": {\n            /**\n             * Always allow explicit authentication requests.\n             */\n            return \"authenticate\";\n        }\n        case \"register\": {\n            /**\n             * Registration is only allowed if:\n             * - The user is logged in, meaning the user wants to register a new authenticator.\n             * - The user is not logged in and provided user info that does NOT exist, meaning the user wants to register a new account.\n             */\n            if (user && loggedIn === exists)\n                return \"register\";\n            break;\n        }\n        case undefined: {\n            /**\n             * When no explicit action is provided, we try to infer it based on the user info provided. These are the possible cases:\n             * - Logged in users must always send an explit action, so we bail out in this case.\n             * - Otherwise, if no user info is provided, the desired action is authentication without pre-defined authenticators.\n             * - Otherwise, if the user info provided is of an existing user, the desired action is authentication with their pre-defined authenticators.\n             * - Finally, if the user info provided is of a non-existing user, the desired action is registration.\n             */\n            if (!loggedIn) {\n                if (user) {\n                    if (exists) {\n                        return \"authenticate\";\n                    }\n                    else {\n                        return \"register\";\n                    }\n                }\n                else {\n                    return \"authenticate\";\n                }\n            }\n            break;\n        }\n    }\n    // No decision could be made\n    return null;\n}\n/**\n * Retrieves the registration response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @param resCookies - Optional cookies to be included in the response.\n * @returns A promise that resolves to the WebAuthnOptionsResponse.\n */\nexport async function getRegistrationResponse(options, request, user, resCookies) {\n    // Get registration options\n    const regOptions = await getRegistrationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await webauthnChallenge.create(options, regOptions.challenge, user);\n    return {\n        status: 200,\n        cookies: [...(resCookies ?? []), cookie],\n        body: {\n            action: \"register\",\n            options: regOptions,\n        },\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    };\n}\n/**\n * Retrieves the authentication response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @param resCookies - Optional array of cookies to be included in the response.\n * @returns A promise that resolves to a WebAuthnOptionsResponse object.\n */\nexport async function getAuthenticationResponse(options, request, user, resCookies) {\n    // Get authentication options\n    const authOptions = await getAuthenticationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await webauthnChallenge.create(options, authOptions.challenge);\n    return {\n        status: 200,\n        cookies: [...(resCookies ?? []), cookie],\n        body: {\n            action: \"authenticate\",\n            options: authOptions,\n        },\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    };\n}\nexport async function verifyAuthenticate(options, request, resCookies) {\n    const { adapter, provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\"\n        ? JSON.parse(request.body.data)\n        : undefined;\n    if (!data ||\n        typeof data !== \"object\" ||\n        !(\"id\" in data) ||\n        typeof data.id !== \"string\") {\n        throw new AuthError(\"Invalid WebAuthn Authentication response\");\n    }\n    // Reset the ID so we smooth out implementation differences\n    const credentialID = toBase64(fromBase64(data.id));\n    // Get authenticator from database\n    const authenticator = await adapter.getAuthenticator(credentialID);\n    if (!authenticator) {\n        throw new AuthError(`WebAuthn authenticator not found in database: ${JSON.stringify({\n            credentialID,\n        })}`);\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge } = await webauthnChallenge.use(options, request.cookies, resCookies);\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyAuthenticationResponse({\n            ...provider.verifyAuthenticationOptions,\n            expectedChallenge,\n            response: data,\n            authenticator: fromAdapterAuthenticator(authenticator),\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id,\n        });\n    }\n    catch (e) {\n        throw new WebAuthnVerificationError(e);\n    }\n    const { verified, authenticationInfo } = verification;\n    // Make sure the response was verified\n    if (!verified) {\n        throw new WebAuthnVerificationError(\"WebAuthn authentication response could not be verified\");\n    }\n    // Update authenticator counter\n    try {\n        const { newCounter } = authenticationInfo;\n        await adapter.updateAuthenticatorCounter(authenticator.credentialID, newCounter);\n    }\n    catch (e) {\n        throw new AdapterError(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({\n            credentialID,\n            oldCounter: authenticator.counter,\n            newCounter: authenticationInfo.newCounter,\n        })}`, e);\n    }\n    // Get the account and user\n    const account = await adapter.getAccount(authenticator.providerAccountId, provider.id);\n    if (!account) {\n        throw new AuthError(`WebAuthn account not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId,\n        })}`);\n    }\n    const user = await adapter.getUser(account.userId);\n    if (!user) {\n        throw new AuthError(`WebAuthn user not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId,\n            userID: account.userId,\n        })}`);\n    }\n    return {\n        account,\n        user,\n    };\n}\nexport async function verifyRegister(options, request, resCookies) {\n    const { provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\"\n        ? JSON.parse(request.body.data)\n        : undefined;\n    if (!data ||\n        typeof data !== \"object\" ||\n        !(\"id\" in data) ||\n        typeof data.id !== \"string\") {\n        throw new AuthError(\"Invalid WebAuthn Registration response\");\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge, registerData: user } = await webauthnChallenge.use(options, request.cookies, resCookies);\n    if (!user) {\n        throw new AuthError(\"Missing user registration data in WebAuthn challenge cookie\");\n    }\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyRegistrationResponse({\n            ...provider.verifyRegistrationOptions,\n            expectedChallenge,\n            response: data,\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id,\n        });\n    }\n    catch (e) {\n        throw new WebAuthnVerificationError(e);\n    }\n    // Make sure the response was verified\n    if (!verification.verified || !verification.registrationInfo) {\n        throw new WebAuthnVerificationError(\"WebAuthn registration response could not be verified\");\n    }\n    // Build a new account\n    const account = {\n        providerAccountId: toBase64(verification.registrationInfo.credentialID),\n        provider: options.provider.id,\n        type: provider.type,\n    };\n    // Build a new authenticator\n    const authenticator = {\n        providerAccountId: account.providerAccountId,\n        counter: verification.registrationInfo.counter,\n        credentialID: toBase64(verification.registrationInfo.credentialID),\n        credentialPublicKey: toBase64(verification.registrationInfo.credentialPublicKey),\n        credentialBackedUp: verification.registrationInfo.credentialBackedUp,\n        credentialDeviceType: verification.registrationInfo.credentialDeviceType,\n        transports: transportsToString(data.response\n            .transports),\n    };\n    // Return created stuff\n    return {\n        user,\n        account,\n        authenticator,\n    };\n}\n/**\n * Generates WebAuthn authentication options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @returns The authentication options.\n */\nasync function getAuthenticationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user && user[\"id\"]\n        ? await adapter.listAuthenticatorsByUserId(user.id)\n        : null;\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the authentication options.\n    return await provider.simpleWebAuthn.generateAuthenticationOptions({\n        ...provider.authenticationOptions,\n        rpID: relayingParty.id,\n        allowCredentials: authenticators?.map((a) => ({\n            id: fromBase64(a.credentialID),\n            type: \"public-key\",\n            transports: stringToTransports(a.transports),\n        })),\n    });\n}\n/**\n * Generates WebAuthn registration options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @returns The registration options.\n */\nasync function getRegistrationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user[\"id\"]\n        ? await adapter.listAuthenticatorsByUserId(user.id)\n        : null;\n    // Generate a random user ID for the credential.\n    // We can do this because we don't use this user ID to link the\n    // credential to the user. Instead, we store actual userID in the\n    // Authenticator object and fetch it via it's credential ID.\n    const userID = randomString(32);\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the registration options.\n    return await provider.simpleWebAuthn.generateRegistrationOptions({\n        ...provider.registrationOptions,\n        userID,\n        userName: user.email,\n        userDisplayName: user.name ?? undefined,\n        rpID: relayingParty.id,\n        rpName: relayingParty.name,\n        excludeCredentials: authenticators?.map((a) => ({\n            id: fromBase64(a.credentialID),\n            type: \"public-key\",\n            transports: stringToTransports(a.transports),\n        })),\n    });\n}\nexport function assertInternalOptionsWebAuthn(options) {\n    const { provider, adapter } = options;\n    // Adapter is required for WebAuthn\n    if (!adapter)\n        throw new MissingAdapter(\"An adapter is required for the WebAuthn provider\");\n    // Provider must be WebAuthn\n    if (!provider || provider.type !== \"webauthn\") {\n        throw new InvalidProvider(\"Provider must be WebAuthn\");\n    }\n    // Narrow the options type for typed usage later\n    return { ...options, provider, adapter };\n}\nfunction fromAdapterAuthenticator(authenticator) {\n    return {\n        ...authenticator,\n        credentialDeviceType: authenticator.credentialDeviceType,\n        transports: stringToTransports(authenticator.transports),\n        credentialID: fromBase64(authenticator.credentialID),\n        credentialPublicKey: fromBase64(authenticator.credentialPublicKey),\n    };\n}\nexport function fromBase64(base64) {\n    return new Uint8Array(Buffer.from(base64, \"base64\"));\n}\nexport function toBase64(bytes) {\n    return Buffer.from(bytes).toString(\"base64\");\n}\nexport function transportsToString(transports) {\n    return transports?.join(\",\");\n}\nexport function stringToTransports(tstring) {\n    return tstring\n        ? tstring.split(\",\")\n        : undefined;\n}\n", "// TODO: Make this file smaller\nimport { AuthError, AccessDenied, CallbackRouteError, CredentialsSignin, InvalidProvider, Verification, } from \"../../../errors.js\";\nimport { handleLoginOrRegister } from \"./handle-login.js\";\nimport { handleOAuth } from \"./oauth/callback.js\";\nimport { state } from \"./oauth/checks.js\";\nimport { createHash } from \"../../utils/web.js\";\nimport { assertInternalOptionsWebAuthn, verifyAuthenticate, verifyRegister, } from \"../../utils/webauthn-utils.js\";\n/** Handle callbacks from login services */\nexport async function callback(request, options, sessionStore, cookies) {\n    if (!options.provider)\n        throw new InvalidProvider(\"Callback route called without provider\");\n    const { query, body, method, headers } = request;\n    const { provider, adapter, url, callbackUrl, pages, jwt, events, callbacks, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, logger, } = options;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    try {\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            // Use body if the response mode is set to form_post. For all other cases, use query\n            const params = provider.authorization?.url.searchParams.get(\"response_mode\") ===\n                \"form_post\"\n                ? body\n                : query;\n            // If we have a state and we are on a redirect proxy, we try to parse it\n            // and see if it contains a valid origin to redirect to. If it does, we\n            // redirect the user to that origin with the original state.\n            if (options.isOnRedirectProxy && params?.state) {\n                // NOTE: We rely on the state being encrypted using a shared secret\n                // between the proxy and the original server.\n                const parsedState = await state.decode(params.state, options);\n                const shouldRedirect = parsedState?.origin &&\n                    new URL(parsedState.origin).origin !== options.url.origin;\n                if (shouldRedirect) {\n                    const proxyRedirect = `${parsedState.origin}?${new URLSearchParams(params)}`;\n                    logger.debug(\"Proxy redirecting to\", proxyRedirect);\n                    return { redirect: proxyRedirect, cookies };\n                }\n            }\n            const authorizationResult = await handleOAuth(params, request.cookies, options);\n            if (authorizationResult.cookies.length) {\n                cookies.push(...authorizationResult.cookies);\n            }\n            logger.debug(\"authorization result\", authorizationResult);\n            const { user: userFromProvider, account, profile: OAuthProfile, } = authorizationResult;\n            // If we don't have a profile object then either something went wrong\n            // or the user cancelled signing in. We don't know which, so we just\n            // direct the user to the signin page for now. We could do something\n            // else in future.\n            // TODO: Handle user cancelling signin\n            if (!userFromProvider || !account || !OAuthProfile) {\n                return { redirect: `${url}/signin`, cookies };\n            }\n            // Check if user is allowed to sign in\n            // Attempt to get Profile from OAuth provider details before invoking\n            // signIn callback - but if no user object is returned, that is fine\n            // (that just means it's a new user signing in for the first time).\n            let userByAccount;\n            if (adapter) {\n                const { getUserByAccount } = adapter;\n                userByAccount = await getUserByAccount({\n                    providerAccountId: account.providerAccountId,\n                    provider: provider.id,\n                });\n            }\n            const redirect = await handleAuthorized({\n                user: userByAccount ?? userFromProvider,\n                account,\n                profile: OAuthProfile,\n            }, options);\n            if (redirect)\n                return { redirect, cookies };\n            const { user, session, isNewUser } = await handleLoginOrRegister(sessionStore.value, userFromProvider, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: user.name,\n                    email: user.email,\n                    picture: user.image,\n                    sub: user.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user,\n                    account,\n                    profile: OAuthProfile,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token, salt });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({\n                user,\n                account,\n                profile: OAuthProfile,\n                isNewUser,\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"email\") {\n            const paramToken = query?.token;\n            const paramIdentifier = query?.email;\n            if (!paramToken) {\n                const e = new TypeError(\"Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.\", { cause: { hasToken: !!paramToken } });\n                e.name = \"Configuration\";\n                throw e;\n            }\n            const secret = provider.secret ?? options.secret;\n            // @ts-expect-error -- Verified in `assertConfig`.\n            const invite = await adapter.useVerificationToken({\n                // @ts-expect-error User-land adapters might decide to omit the identifier during lookup\n                identifier: paramIdentifier, // TODO: Drop this requirement for lookup in official adapters too\n                token: await createHash(`${paramToken}${secret}`),\n            });\n            const hasInvite = !!invite;\n            const expired = hasInvite && invite.expires.valueOf() < Date.now();\n            const invalidInvite = !hasInvite ||\n                expired ||\n                // The user might have configured the link to not contain the identifier\n                // so we only compare if it exists\n                (paramIdentifier && invite.identifier !== paramIdentifier);\n            if (invalidInvite)\n                throw new Verification({ hasInvite, expired });\n            const { identifier } = invite;\n            const user = (await adapter.getUserByEmail(identifier)) ?? {\n                id: crypto.randomUUID(),\n                email: identifier,\n                emailVerified: null,\n            };\n            const account = {\n                providerAccountId: user.email,\n                userId: user.id,\n                type: \"email\",\n                provider: provider.id,\n            };\n            const redirect = await handleAuthorized({ user, account }, options);\n            if (redirect)\n                return { redirect, cookies };\n            // Sign user in\n            const { user: loggedInUser, session, isNewUser, } = await handleLoginOrRegister(sessionStore.value, user, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token, salt });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({ user: loggedInUser, account, isNewUser });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"credentials\" && method === \"POST\") {\n            const credentials = body ?? {};\n            // TODO: Forward the original request as is, instead of reconstructing it\n            Object.entries(query ?? {}).forEach(([k, v]) => url.searchParams.set(k, v));\n            const userFromAuthorize = await provider.authorize(credentials, \n            // prettier-ignore\n            new Request(url, { headers, method, body: JSON.stringify(body) }));\n            const user = userFromAuthorize;\n            if (!user)\n                throw new CredentialsSignin();\n            else\n                user.id = user.id?.toString() ?? crypto.randomUUID();\n            const account = {\n                providerAccountId: user.id,\n                type: \"credentials\",\n                provider: provider.id,\n            };\n            const redirect = await handleAuthorized({ user, account, credentials }, options);\n            if (redirect)\n                return { redirect, cookies };\n            const defaultToken = {\n                name: user.name,\n                email: user.email,\n                picture: user.image,\n                sub: user.id,\n            };\n            const token = await callbacks.jwt({\n                token: defaultToken,\n                user,\n                account,\n                isNewUser: false,\n                trigger: \"signIn\",\n            });\n            // Clear cookies if token is null\n            if (token === null) {\n                cookies.push(...sessionStore.clean());\n            }\n            else {\n                const salt = options.cookies.sessionToken.name;\n                // Encode token\n                const newToken = await jwt.encode({ ...jwt, token, salt });\n                // Set cookie expiry date\n                const cookieExpires = new Date();\n                cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: cookieExpires,\n                });\n                cookies.push(...sessionCookies);\n            }\n            await events.signIn?.({ user, account });\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"webauthn\" && method === \"POST\") {\n            // Get callback action from request. It should be either \"authenticate\" or \"register\"\n            const action = request.body?.action;\n            if (typeof action !== \"string\" ||\n                (action !== \"authenticate\" && action !== \"register\")) {\n                throw new AuthError(\"Invalid action parameter\");\n            }\n            // Return an error if the adapter is missing or if the provider\n            // is not a webauthn provider.\n            const localOptions = assertInternalOptionsWebAuthn(options);\n            // Verify request to get user, account and authenticator\n            let user;\n            let account;\n            let authenticator;\n            switch (action) {\n                case \"authenticate\": {\n                    const verified = await verifyAuthenticate(localOptions, request, cookies);\n                    user = verified.user;\n                    account = verified.account;\n                    break;\n                }\n                case \"register\": {\n                    const verified = await verifyRegister(options, request, cookies);\n                    user = verified.user;\n                    account = verified.account;\n                    authenticator = verified.authenticator;\n                    break;\n                }\n            }\n            // Check if user is allowed to sign in\n            await handleAuthorized({ user, account }, options);\n            // Sign user in, creating them and their account if needed\n            const { user: loggedInUser, isNewUser, session, account: currentAccount, } = await handleLoginOrRegister(sessionStore.value, user, account, options);\n            if (!currentAccount) {\n                // This is mostly for type checking. It should never actually happen.\n                throw new AuthError(\"Error creating or finding account\");\n            }\n            // Create new authenticator if needed\n            if (authenticator && loggedInUser.id) {\n                await localOptions.adapter.createAuthenticator({\n                    ...authenticator,\n                    userId: loggedInUser.id,\n                });\n            }\n            // Do the session registering dance\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account: currentAccount,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token, salt });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({\n                user: loggedInUser,\n                account: currentAccount,\n                isNewUser,\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return { redirect: callbackUrl, cookies };\n        }\n        throw new InvalidProvider(`Callback for provider type (${provider.type}) is not supported`);\n    }\n    catch (e) {\n        if (e instanceof AuthError)\n            throw e;\n        const error = new CallbackRouteError(e, { provider: provider.id });\n        logger.debug(\"callback route error details\", { method, query, body });\n        throw error;\n    }\n}\nasync function handleAuthorized(params, config) {\n    let authorized;\n    const { signIn, redirect } = config.callbacks;\n    try {\n        authorized = await signIn(params);\n    }\n    catch (e) {\n        if (e instanceof AuthError)\n            throw e;\n        throw new AccessDenied(e);\n    }\n    if (!authorized)\n        throw new AccessDenied(\"AccessDenied\");\n    if (typeof authorized !== \"string\")\n        return;\n    return await redirect({ url: authorized, baseUrl: config.url.origin });\n}\n", "import { JWTSessionError, SessionTokenError } from \"../../errors.js\";\nimport { fromDate } from \"../utils/date.js\";\n/** Return a session object filtered via `callbacks.session` */\nexport async function session(options, sessionStore, cookies, isUpdate, newSession) {\n    const { adapter, jwt, events, callbacks, logger, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, } = options;\n    const response = {\n        body: null,\n        headers: { \"Content-Type\": \"application/json\" },\n        cookies,\n    };\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return response;\n    if (sessionStrategy === \"jwt\") {\n        try {\n            const salt = options.cookies.sessionToken.name;\n            const payload = await jwt.decode({ ...jwt, token: sessionToken, salt });\n            if (!payload)\n                throw new Error(\"Invalid JWT\");\n            // @ts-expect-error\n            const token = await callbacks.jwt({\n                token: payload,\n                ...(isUpdate && { trigger: \"update\" }),\n                session: newSession,\n            });\n            const newExpires = fromDate(sessionMaxAge);\n            if (token !== null) {\n                // By default, only exposes a limited subset of information to the client\n                // as needed for presentation purposes (e.g. \"you are logged in as...\").\n                const session = {\n                    user: { name: token.name, email: token.email, image: token.picture },\n                    expires: newExpires.toISOString(),\n                };\n                // @ts-expect-error\n                const newSession = await callbacks.session({ session, token });\n                // Return session payload as response\n                response.body = newSession;\n                // Refresh JWT expiry by re-signing it, with an updated expiry date\n                const newToken = await jwt.encode({ ...jwt, token, salt });\n                // Set cookie, to also update expiry date on cookie\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: newExpires,\n                });\n                response.cookies?.push(...sessionCookies);\n                await events.session?.({ session: newSession, token });\n            }\n            else {\n                response.cookies?.push(...sessionStore.clean());\n            }\n        }\n        catch (e) {\n            logger.error(new JWTSessionError(e));\n            // If the JWT is not verifiable remove the broken session cookie(s).\n            response.cookies?.push(...sessionStore.clean());\n        }\n        return response;\n    }\n    // Retrieve session from database\n    try {\n        const { getSessionAndUser, deleteSession, updateSession } = adapter;\n        let userAndSession = await getSessionAndUser(sessionToken);\n        // If session has expired, clean up the database\n        if (userAndSession &&\n            userAndSession.session.expires.valueOf() < Date.now()) {\n            await deleteSession(sessionToken);\n            userAndSession = null;\n        }\n        if (userAndSession) {\n            const { user, session } = userAndSession;\n            const sessionUpdateAge = options.session.updateAge;\n            // Calculate last updated date to throttle write updates to database\n            // Formula: ({expiry date} - sessionMaxAge) + sessionUpdateAge\n            //     e.g. ({expiry date} - 30 days) + 1 hour\n            const sessionIsDueToBeUpdatedDate = session.expires.valueOf() -\n                sessionMaxAge * 1000 +\n                sessionUpdateAge * 1000;\n            const newExpires = fromDate(sessionMaxAge);\n            // Trigger update of session expiry date and write to database, only\n            // if the session was last updated more than {sessionUpdateAge} ago\n            if (sessionIsDueToBeUpdatedDate <= Date.now()) {\n                await updateSession({\n                    sessionToken: sessionToken,\n                    expires: newExpires,\n                });\n            }\n            // Pass Session through to the session callback\n            const sessionPayload = await callbacks.session({\n                // TODO: user already passed below,\n                // remove from session object in https://github.com/nextauthjs/next-auth/pull/9702\n                // @ts-expect-error\n                session: { ...session, user },\n                user,\n                newSession,\n                ...(isUpdate ? { trigger: \"update\" } : {}),\n            });\n            // Return session payload as response\n            response.body = sessionPayload;\n            // Set cookie again to update expiry\n            response.cookies?.push({\n                name: options.cookies.sessionToken.name,\n                value: sessionToken,\n                options: {\n                    ...options.cookies.sessionToken.options,\n                    expires: newExpires,\n                },\n            });\n            // @ts-expect-error\n            await events.session?.({ session: sessionPayload });\n        }\n        else if (sessionToken) {\n            // If `sessionToken` was found set but it's not valid for a session then\n            // remove the sessionToken cookie from browser.\n            response.cookies?.push(...sessionStore.clean());\n        }\n    }\n    catch (e) {\n        logger.error(new SessionTokenError(e));\n    }\n    return response;\n}\n", "import * as checks from \"../callback/oauth/checks.js\";\nimport * as o from \"oauth4webapi\";\nimport { customFetch } from \"../../symbols.js\";\n/**\n * Generates an authorization/request token URL.\n *\n * [OAuth 2](https://www.oauth.com/oauth2-servers/authorization/the-authorization-request/)\n */\nexport async function getAuthorizationUrl(query, options) {\n    const { logger, provider } = options;\n    let url = provider.authorization?.url;\n    let as;\n    // Falls back to authjs.dev if the user only passed params\n    if (!url || url.host === \"authjs.dev\") {\n        // If url is undefined, we assume that issuer is always defined\n        // We check this in assert.ts\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await o.discoveryRequest(issuer, {\n            [o.customFetch]: provider[customFetch],\n            // TODO: move away from allowing insecure HTTP requests\n            [o.allowInsecureRequests]: true,\n        });\n        const as = await o.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!as.authorization_endpoint) {\n            throw new TypeError(\"Authorization server did not provide an authorization endpoint.\");\n        }\n        url = new URL(as.authorization_endpoint);\n    }\n    const authParams = url.searchParams;\n    let redirect_uri = provider.callbackUrl;\n    let data;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n        data = provider.callbackUrl;\n        logger.debug(\"using redirect proxy\", { redirect_uri, data });\n    }\n    const params = Object.assign({\n        response_type: \"code\",\n        // clientId can technically be undefined, should we check this in assert.ts or rely on the Authorization Server to do it?\n        client_id: provider.clientId,\n        redirect_uri,\n        // @ts-expect-error TODO:\n        ...provider.authorization?.params,\n    }, Object.fromEntries(provider.authorization?.url.searchParams ?? []), query);\n    for (const k in params)\n        authParams.set(k, params[k]);\n    const cookies = [];\n    if (\n    // Otherwise \"POST /redirect_uri\" wouldn't include the cookies\n    provider.authorization?.url.searchParams.get(\"response_mode\") ===\n        \"form_post\") {\n        options.cookies.state.options.sameSite = \"none\";\n        options.cookies.state.options.secure = true;\n        options.cookies.nonce.options.sameSite = \"none\";\n        options.cookies.nonce.options.secure = true;\n    }\n    const state = await checks.state.create(options, data);\n    if (state) {\n        authParams.set(\"state\", state.value);\n        cookies.push(state.cookie);\n    }\n    if (provider.checks?.includes(\"pkce\")) {\n        if (as && !as.code_challenge_methods_supported?.includes(\"S256\")) {\n            // We assume S256 PKCE support, if the server does not advertise that,\n            // a random `nonce` must be used for CSRF protection.\n            if (provider.type === \"oidc\")\n                provider.checks = [\"nonce\"];\n        }\n        else {\n            const { value, cookie } = await checks.pkce.create(options);\n            authParams.set(\"code_challenge\", value);\n            authParams.set(\"code_challenge_method\", \"S256\");\n            cookies.push(cookie);\n        }\n    }\n    const nonce = await checks.nonce.create(options);\n    if (nonce) {\n        authParams.set(\"nonce\", nonce.value);\n        cookies.push(nonce.cookie);\n    }\n    // TODO: This does not work in normalizeOAuth because authorization endpoint can come from discovery\n    // Need to make normalizeOAuth async\n    if (provider.type === \"oidc\" && !url.searchParams.has(\"scope\")) {\n        url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    logger.debug(\"authorization url is ready\", { url, cookies, provider });\n    return { redirect: url.toString(), cookies };\n}\n", "import { createHash, randomString, toRequest } from \"../../utils/web.js\";\nimport { AccessDenied } from \"../../../errors.js\";\n/**\n * Starts an e-mail login flow, by generating a token,\n * and sending it to the user's e-mail (with the help of a DB adapter).\n * At the end, it returns a redirect to the `verify-request` page.\n */\nexport async function sendToken(request, options) {\n    const { body } = request;\n    const { provider, callbacks, adapter } = options;\n    const normalizer = provider.normalizeIdentifier ?? defaultNormalizer;\n    const email = normalizer(body?.email);\n    const defaultUser = { id: crypto.randomUUID(), email, emailVerified: null };\n    const user = (await adapter.getUserByEmail(email)) ?? defaultUser;\n    const account = {\n        providerAccountId: email,\n        userId: user.id,\n        type: \"email\",\n        provider: provider.id,\n    };\n    let authorized;\n    try {\n        authorized = await callbacks.signIn({\n            user,\n            account,\n            email: { verificationRequest: true },\n        });\n    }\n    catch (e) {\n        throw new AccessDenied(e);\n    }\n    if (!authorized)\n        throw new AccessDenied(\"AccessDenied\");\n    if (typeof authorized === \"string\") {\n        return {\n            redirect: await callbacks.redirect({\n                url: authorized,\n                baseUrl: options.url.origin,\n            }),\n        };\n    }\n    const { callbackUrl, theme } = options;\n    const token = (await provider.generateVerificationToken?.()) ?? randomString(32);\n    const ONE_DAY_IN_SECONDS = 86400;\n    const expires = new Date(Date.now() + (provider.maxAge ?? ONE_DAY_IN_SECONDS) * 1000);\n    const secret = provider.secret ?? options.secret;\n    const baseUrl = new URL(options.basePath, options.url.origin);\n    const sendRequest = provider.sendVerificationRequest({\n        identifier: email,\n        token,\n        expires,\n        url: `${baseUrl}/callback/${provider.id}?${new URLSearchParams({\n            callbackUrl,\n            token,\n            email,\n        })}`,\n        provider,\n        theme,\n        request: toRequest(request),\n    });\n    const createToken = adapter.createVerificationToken?.({\n        identifier: email,\n        token: await createHash(`${token}${secret}`),\n        expires,\n    });\n    await Promise.all([sendRequest, createToken]);\n    return {\n        redirect: `${baseUrl}/verify-request?${new URLSearchParams({\n            provider: provider.id,\n            type: provider.type,\n        })}`,\n    };\n}\nfunction defaultNormalizer(email) {\n    if (!email)\n        throw new Error(\"Missing email from request body.\");\n    // Get the first two elements only,\n    // separated by `@` from user input.\n    let [local, domain] = email.toLowerCase().trim().split(\"@\");\n    // The part before \"@\" can contain a \",\"\n    // but we remove it on the domain part\n    domain = domain.split(\",\")[0];\n    return `${local}@${domain}`;\n}\n", "import { getAuthorizationUrl } from \"./authorization-url.js\";\nimport { sendToken } from \"./send-token.js\";\nexport async function signIn(request, cookies, options) {\n    const signInUrl = `${options.url.origin}${options.basePath}/signin`;\n    if (!options.provider)\n        return { redirect: signInUrl, cookies };\n    switch (options.provider.type) {\n        case \"oauth\":\n        case \"oidc\": {\n            const { redirect, cookies: authCookies } = await getAuthorizationUrl(request.query, options);\n            if (authCookies)\n                cookies.push(...authCookies);\n            return { redirect, cookies };\n        }\n        case \"email\": {\n            const response = await sendToken(request, options);\n            return { ...response, cookies };\n        }\n        default:\n            return { redirect: signInUrl, cookies };\n    }\n}\n", "import { SignOutError } from \"../../errors.js\";\n/**\n * Destroys the session.\n * If the session strategy is database,\n * The session is also deleted from the database.\n * In any case, the session cookie is cleared and\n * {@link AuthConfig[\"events\"].signOut} is emitted.\n */\nexport async function signOut(cookies, sessionStore, options) {\n    const { jwt, events, callbackUrl: redirect, logger, session } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return { redirect, cookies };\n    try {\n        if (session.strategy === \"jwt\") {\n            const salt = options.cookies.sessionToken.name;\n            const token = await jwt.decode({ ...jwt, token: sessionToken, salt });\n            await events.signOut?.({ token });\n        }\n        else {\n            const session = await options.adapter?.deleteSession(sessionToken);\n            await events.signOut?.({ session });\n        }\n    }\n    catch (e) {\n        logger.error(new SignOutError(e));\n    }\n    cookies.push(...sessionStore.clean());\n    return { redirect, cookies };\n}\n", "/**\n * Returns the currently logged in user, if any.\n */\nexport async function getLoggedInUser(options, sessionStore) {\n    const { adapter, jwt, session: { strategy: sessionStrategy }, } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return null;\n    // Try to decode JWT\n    if (sessionStrategy === \"jwt\") {\n        const salt = options.cookies.sessionToken.name;\n        const payload = await jwt.decode({ ...jwt, token: sessionToken, salt });\n        if (payload && payload.sub) {\n            return {\n                id: payload.sub,\n                name: payload.name,\n                email: payload.email,\n                image: payload.picture,\n            };\n        }\n    }\n    else {\n        const userAndSession = await adapter?.getSessionAndUser(sessionToken);\n        if (userAndSession) {\n            return userAndSession.user;\n        }\n    }\n    return null;\n}\n", "import { getLoggedInUser } from \"../utils/session.js\";\nimport { assertInternalOptionsWebAuthn, inferWebAuthnOptions, getAuthenticationResponse, getRegistrationResponse, } from \"../utils/webauthn-utils.js\";\n/**\n * Returns authentication or registration options for a WebAuthn flow\n * depending on the parameters provided.\n */\nexport async function webAuthnOptions(request, options, sessionStore, cookies\n// @ts-expect-error issue with returning from a switch case\n) {\n    // Return an error if the adapter is missing or if the provider\n    // is not a webauthn provider.\n    const narrowOptions = assertInternalOptionsWebAuthn(options);\n    const { provider } = narrowOptions;\n    // Extract the action from the query parameters\n    const { action } = (request.query ?? {});\n    // Action must be either \"register\", \"authenticate\", or undefined\n    if (action !== \"register\" &&\n        action !== \"authenticate\" &&\n        typeof action !== \"undefined\") {\n        return {\n            status: 400,\n            body: { error: \"Invalid action\" },\n            cookies,\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        };\n    }\n    // Get the user info from the session\n    const sessionUser = await getLoggedInUser(options, sessionStore);\n    // Extract user info from request\n    // If session user exists, we don't need to call getUserInfo\n    const getUserInfoResponse = sessionUser\n        ? {\n            user: sessionUser,\n            exists: true,\n        }\n        : await provider.getUserInfo(options, request);\n    const userInfo = getUserInfoResponse?.user;\n    // Make a decision on what kind of webauthn options to return\n    const decision = inferWebAuthnOptions(action, !!sessionUser, getUserInfoResponse);\n    switch (decision) {\n        case \"authenticate\":\n            return getAuthenticationResponse(narrowOptions, request, userInfo, cookies);\n        case \"register\":\n            if (typeof userInfo?.email === \"string\") {\n                return getRegistrationResponse(narrowOptions, request, userInfo, cookies);\n            }\n            break;\n        default:\n            return {\n                status: 400,\n                body: { error: \"Invalid request\" },\n                cookies,\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            };\n    }\n}\n", "export { callback } from \"./callback/index.js\";\nexport { session } from \"./session.js\";\nexport { signIn } from \"./signin/index.js\";\nexport { signOut } from \"./signout.js\";\nexport { webAuthnOptions } from \"./webauthn-options.js\";\n", "import { UnknownAction } from \"../errors.js\";\nimport { SessionStore } from \"./utils/cookie.js\";\nimport { init } from \"./init.js\";\nimport renderPage from \"./pages/index.js\";\nimport * as actions from \"./actions/index.js\";\nimport { validateCSRF } from \"./actions/callback/oauth/csrf-token.js\";\nimport { skipCSRFCheck } from \"./symbols.js\";\nexport { customFetch, raw, skipCSRFCheck } from \"./symbols.js\";\n/** @internal */\nexport async function AuthInternal(request, authOptions) {\n    const { action, providerId, error, method } = request;\n    const csrfDisabled = authOptions.skipCSRFCheck === skipCSRFCheck;\n    const { options, cookies } = await init({\n        authOptions,\n        action,\n        providerId,\n        url: request.url,\n        callbackUrl: request.body?.callbackUrl ?? request.query?.callbackUrl,\n        csrfToken: request.body?.csrfToken,\n        cookies: request.cookies,\n        isPost: method === \"POST\",\n        csrfDisabled,\n    });\n    const sessionStore = new SessionStore(options.cookies.sessionToken, request.cookies, options.logger);\n    if (method === \"GET\") {\n        const render = renderPage({ ...options, query: request.query, cookies });\n        switch (action) {\n            case \"callback\":\n                return await actions.callback(request, options, sessionStore, cookies);\n            case \"csrf\":\n                return render.csrf(csrfDisabled, options, cookies);\n            case \"error\":\n                return render.error(error);\n            case \"providers\":\n                return render.providers(options.providers);\n            case \"session\":\n                return await actions.session(options, sessionStore, cookies);\n            case \"signin\":\n                return render.signin(providerId, error);\n            case \"signout\":\n                return render.signout();\n            case \"verify-request\":\n                return render.verifyRequest();\n            case \"webauthn-options\":\n                return await actions.webAuthnOptions(request, options, sessionStore, cookies);\n            default:\n        }\n    }\n    else {\n        const { csrfTokenVerified } = options;\n        switch (action) {\n            case \"callback\":\n                if (options.provider.type === \"credentials\")\n                    // Verified CSRF Token required for credentials providers only\n                    validateCSRF(action, csrfTokenVerified);\n                return await actions.callback(request, options, sessionStore, cookies);\n            case \"session\":\n                validateCSRF(action, csrfTokenVerified);\n                return await actions.session(options, sessionStore, cookies, true, request.body?.data);\n            case \"signin\":\n                validateCSRF(action, csrfTokenVerified);\n                return await actions.signIn(request, cookies, options);\n            case \"signout\":\n                validateCSRF(action, csrfTokenVerified);\n                return await actions.signOut(cookies, sessionStore, options);\n            default:\n        }\n    }\n    throw new UnknownAction(`Cannot handle action: ${action}`);\n}\n", "import { setLogger } from \"./logger.js\";\n/**\n *  Set default env variables on the config object\n * @param suppressWarnings intended for framework authors.\n */\nexport function setEnvDefaults(envObject, config, suppressBasePathWarning = false) {\n    try {\n        const url = envObject.AUTH_URL;\n        if (url) {\n            if (config.basePath) {\n                if (!suppressBasePathWarning) {\n                    const logger = setLogger(config);\n                    logger.warn(\"env-url-basepath-redundant\");\n                }\n            }\n            else {\n                config.basePath = new URL(url).pathname;\n            }\n        }\n    }\n    catch {\n        // Catching and swallowing potential URL parsing errors, we'll fall\n        // back to `/auth` below.\n    }\n    finally {\n        config.basePath ?? (config.basePath = `/auth`);\n    }\n    if (!config.secret?.length) {\n        config.secret = [];\n        const secret = envObject.AUTH_SECRET;\n        if (secret)\n            config.secret.push(secret);\n        for (const i of [1, 2, 3]) {\n            const secret = envObject[`AUTH_SECRET_${i}`];\n            if (secret)\n                config.secret.unshift(secret);\n        }\n    }\n    config.redirectProxyUrl ?? (config.redirectProxyUrl = envObject.AUTH_REDIRECT_PROXY_URL);\n    config.trustHost ?? (config.trustHost = !!(envObject.AUTH_URL ??\n        envObject.AUTH_TRUST_HOST ??\n        envObject.VERCEL ??\n        envObject.CF_PAGES ??\n        envObject.NODE_ENV !== \"production\"));\n    config.providers = config.providers.map((provider) => {\n        const { id } = typeof provider === \"function\" ? provider({}) : provider;\n        const ID = id.toUpperCase().replace(/-/g, \"_\");\n        const clientId = envObject[`AUTH_${ID}_ID`];\n        const clientSecret = envObject[`AUTH_${ID}_SECRET`];\n        const issuer = envObject[`AUTH_${ID}_ISSUER`];\n        const apiKey = envObject[`AUTH_${ID}_KEY`];\n        const finalProvider = typeof provider === \"function\"\n            ? provider({ clientId, clientSecret, issuer, apiKey })\n            : provider;\n        if (finalProvider.type === \"oauth\" || finalProvider.type === \"oidc\") {\n            finalProvider.clientId ?? (finalProvider.clientId = clientId);\n            finalProvider.clientSecret ?? (finalProvider.clientSecret = clientSecret);\n            finalProvider.issuer ?? (finalProvider.issuer = issuer);\n        }\n        else if (finalProvider.type === \"email\") {\n            finalProvider.apiKey ?? (finalProvider.apiKey = apiKey);\n        }\n        return finalProvider;\n    });\n}\nexport function createActionURL(action, protocol, headers, envObject, config) {\n    const basePath = config?.basePath;\n    const envUrl = envObject.AUTH_URL ?? envObject.NEXTAUTH_URL;\n    let url;\n    if (envUrl) {\n        url = new URL(envUrl);\n        if (basePath && basePath !== \"/\" && url.pathname !== \"/\") {\n            if (url.pathname !== basePath) {\n                const logger = setLogger(config);\n                logger.warn(\"env-url-basepath-mismatch\");\n            }\n            url.pathname = \"/\";\n        }\n    }\n    else {\n        const detectedHost = headers.get(\"x-forwarded-host\") ?? headers.get(\"host\");\n        const detectedProtocol = headers.get(\"x-forwarded-proto\") ?? protocol ?? \"https\";\n        const _protocol = detectedProtocol.endsWith(\":\")\n            ? detectedProtocol\n            : detectedProtocol + \":\";\n        url = new URL(`${_protocol}//${detectedHost}`);\n    }\n    // remove trailing slash\n    const sanitizedUrl = url.toString().replace(/\\/$/, \"\");\n    if (basePath) {\n        // remove leading and trailing slash\n        const sanitizedBasePath = basePath?.replace(/(^\\/|\\/$)/g, \"\") ?? \"\";\n        return new URL(`${sanitizedUrl}/${sanitizedBasePath}/${action}`);\n    }\n    return new URL(`${sanitizedUrl}/${action}`);\n}\n", "/**\n *\n * :::warning Experimental\n * `@auth/core` is under active development.\n * :::\n *\n * This is the main entry point to the Auth.js library.\n *\n * Based on the {@link https://developer.mozilla.org/en-US/docs/Web/API/Request Request}\n * and {@link https://developer.mozilla.org/en-US/docs/Web/API/Response Response} Web standard APIs.\n * Primarily used to implement [framework](https://authjs.dev/getting-started/integrations)-specific packages,\n * but it can also be used directly.\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * ## Usage\n *\n * ```ts\n * import { Auth } from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await Auth(request, {...})\n *\n * console.log(response instanceof Response) // true\n * ```\n *\n * ## Resources\n *\n * - [Getting started](https://authjs.dev/getting-started)\n * - [Guides](https://authjs.dev/guides)\n *\n * @module @auth/core\n */\nimport { assertConfig } from \"./lib/utils/assert.js\";\nimport { AuthError, CredentialsSignin, ErrorPageLoop, isClientError, } from \"./errors.js\";\nimport { AuthInternal, raw, skipCSRFCheck } from \"./lib/index.js\";\nimport { setEnvDefaults, createActionURL } from \"./lib/utils/env.js\";\nimport renderPage from \"./lib/pages/index.js\";\nimport { setLogger } from \"./lib/utils/logger.js\";\nimport { toInternalRequest, toResponse } from \"./lib/utils/web.js\";\nimport { isAuthAction } from \"./lib/utils/actions.js\";\nexport { customFetch } from \"./lib/symbols.js\";\nexport { skipCSRFCheck, raw, setEnvDefaults, createActionURL, isAuthAction };\n/**\n * Core functionality provided by Auth.js.\n *\n * Receives a standard {@link Request} and returns a {@link Response}.\n *\n * @example\n * ```ts\n * import { Auth } from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await Auth(request, {\n *   providers: [Google],\n *   secret: \"...\",\n *   trustHost: true,\n * })\n *```\n * @see [Documentation](https://authjs.dev)\n */\nexport async function Auth(request, config) {\n    const logger = setLogger(config);\n    const internalRequest = await toInternalRequest(request, config);\n    // There was an error parsing the request\n    if (!internalRequest)\n        return Response.json(`Bad request.`, { status: 400 });\n    const warningsOrError = assertConfig(internalRequest, config);\n    if (Array.isArray(warningsOrError)) {\n        warningsOrError.forEach(logger.warn);\n    }\n    else if (warningsOrError) {\n        // If there's an error in the user config, bail out early\n        logger.error(warningsOrError);\n        const htmlPages = new Set([\n            \"signin\",\n            \"signout\",\n            \"error\",\n            \"verify-request\",\n        ]);\n        if (!htmlPages.has(internalRequest.action) ||\n            internalRequest.method !== \"GET\") {\n            const message = \"There was a problem with the server configuration. Check the server logs for more information.\";\n            return Response.json({ message }, { status: 500 });\n        }\n        const { pages, theme } = config;\n        // If this is true, the config required auth on the error page\n        // which could cause a redirect loop\n        const authOnErrorPage = pages?.error &&\n            internalRequest.url.searchParams\n                .get(\"callbackUrl\")\n                ?.startsWith(pages.error);\n        // Either there was no error page configured or the configured one contains infinite redirects\n        if (!pages?.error || authOnErrorPage) {\n            if (authOnErrorPage) {\n                logger.error(new ErrorPageLoop(`The error page ${pages?.error} should not require authentication`));\n            }\n            const page = renderPage({ theme }).error(\"Configuration\");\n            return toResponse(page);\n        }\n        const url = `${internalRequest.url.origin}${pages.error}?error=Configuration`;\n        return Response.redirect(url);\n    }\n    const isRedirect = request.headers?.has(\"X-Auth-Return-Redirect\");\n    const isRaw = config.raw === raw;\n    try {\n        const internalResponse = await AuthInternal(internalRequest, config);\n        if (isRaw)\n            return internalResponse;\n        const response = toResponse(internalResponse);\n        const url = response.headers.get(\"Location\");\n        if (!isRedirect || !url)\n            return response;\n        return Response.json({ url }, { headers: response.headers });\n    }\n    catch (e) {\n        const error = e;\n        logger.error(error);\n        const isAuthError = error instanceof AuthError;\n        if (isAuthError && isRaw && !isRedirect)\n            throw error;\n        // If the CSRF check failed for POST/session, return a 400 status code.\n        // We should not redirect to a page as this is an API route\n        if (request.method === \"POST\" && internalRequest.action === \"session\")\n            return Response.json(null, { status: 400 });\n        const isClientSafeErrorType = isClientError(error);\n        const type = isClientSafeErrorType ? error.type : \"Configuration\";\n        const params = new URLSearchParams({ error: type });\n        if (error instanceof CredentialsSignin)\n            params.set(\"code\", error.code);\n        const pageKind = (isAuthError && error.kind) || \"error\";\n        const pagePath = config.pages?.[pageKind] ?? `${config.basePath}/${pageKind.toLowerCase()}`;\n        const url = `${internalRequest.url.origin}${pagePath}?${params}`;\n        if (isRedirect)\n            return Response.json({ url });\n        return Response.redirect(url);\n    }\n}\n", "/**\n * <div class=\"provider\" style={{backgroundColor: \"#24292f\", display: \"flex\", justifyContent: \"space-between\", color: \"#fff\", padding: 16}}>\n * <span>Built-in <b>GitHub</b> integration.</span>\n * <a href=\"https://github.com\">\n *   <img style={{display: \"block\"}} src=\"https://authjs.dev/img/providers/github.svg\" height=\"48\" width=\"48\"/>\n * </a>\n * </div>\n *\n * @module providers/github\n */\n/**\n * Add GitHub login to your page and make requests to [GitHub APIs](https://docs.github.com/en/rest).\n *\n * ### Setup\n *\n * #### Callback URL\n * ```\n * https://example.com/api/auth/callback/github\n * ```\n *\n * #### Configuration\n * ```ts\n * import { Auth } from \"@auth/core\"\n * import GitHub from \"@auth/core/providers/github\"\n *\n * const request = new Request(origin)\n * const response = await Auth(request, {\n *   providers: [\n *     GitHub({ clientId: GITHUB_CLIENT_ID, clientSecret: GITHUB_CLIENT_SECRET }),\n *   ],\n * })\n * ```\n *\n * ### Resources\n *\n * - [GitHub - Creating an OAuth App](https://docs.github.com/en/developers/apps/building-oauth-apps/creating-an-oauth-app)\n * - [GitHub - Authorizing OAuth Apps](https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-apps)\n * - [GitHub - Configure your GitHub OAuth Apps](https://github.com/settings/developers)\n * - [Learn more about OAuth](https://authjs.dev/concepts/oauth)\n * - [Source code](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/github.ts)\n *\n * ### Notes\n *\n * By default, Auth.js assumes that the GitHub provider is\n * based on the [OAuth 2](https://www.rfc-editor.org/rfc/rfc6749.html) specification.\n *\n * :::tip\n *\n * The GitHub provider comes with a [default configuration](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/github.ts).\n * To override the defaults for your use case, check out [customizing a built-in OAuth provider](https://authjs.dev/guides/configuring-oauth-providers).\n *\n * :::\n *\n * :::info **Disclaimer**\n *\n * If you think you found a bug in the default configuration, you can [open an issue](https://authjs.dev/new/provider-issue).\n *\n * Auth.js strictly adheres to the specification and it cannot take responsibility for any deviation from\n * the spec by the provider. You can open an issue, but if the problem is non-compliance with the spec,\n * we might not pursue a resolution. You can ask for more help in [Discussions](https://authjs.dev/new/github-discussions).\n *\n * :::\n */\nexport default function GitHub(config) {\n    const baseUrl = config?.enterprise?.baseUrl ?? \"https://github.com\";\n    const apiBaseUrl = config?.enterprise?.baseUrl\n        ? `${config?.enterprise?.baseUrl}/api/v3`\n        : \"https://api.github.com\";\n    return {\n        id: \"github\",\n        name: \"GitHub\",\n        type: \"oauth\",\n        authorization: {\n            url: `${baseUrl}/login/oauth/authorize`,\n            params: { scope: \"read:user user:email\" },\n        },\n        token: `${baseUrl}/login/oauth/access_token`,\n        userinfo: {\n            url: `${apiBaseUrl}/user`,\n            async request({ tokens, provider }) {\n                const profile = await fetch(provider.userinfo?.url, {\n                    headers: {\n                        Authorization: `Bearer ${tokens.access_token}`,\n                        \"User-Agent\": \"authjs\",\n                    },\n                }).then(async (res) => await res.json());\n                if (!profile.email) {\n                    // If the user does not have a public email, get another via the GitHub API\n                    // See https://docs.github.com/en/rest/users/emails#list-public-email-addresses-for-the-authenticated-user\n                    const res = await fetch(`${apiBaseUrl}/user/emails`, {\n                        headers: {\n                            Authorization: `Bearer ${tokens.access_token}`,\n                            \"User-Agent\": \"authjs\",\n                        },\n                    });\n                    if (res.ok) {\n                        const emails = await res.json();\n                        profile.email = (emails.find((e) => e.primary) ?? emails[0]).email;\n                    }\n                }\n                return profile;\n            },\n        },\n        profile(profile) {\n            return {\n                id: profile.id.toString(),\n                name: profile.name ?? profile.login,\n                email: profile.email,\n                image: profile.avatar_url,\n            };\n        },\n        style: { bg: \"#24292f\", text: \"#fff\" },\n        options: config,\n    };\n}\n", "import { redirect } from \"@sveltejs/kit\";\nimport { b as private_env } from \"./shared-server.js\";\nimport { skipCSRFCheck, setEnvDefaults as setEnvDefaults$1, createActionURL, Auth, raw, isAuthAction } from \"@auth/core\";\nimport { B as BROWSER } from \"./false.js\";\nimport { b as base, g as building } from \"./environment.js\";\nimport \"@sveltejs/kit/internal/server\";\nimport { parse } from \"set-cookie-parser\";\nimport \"@auth/core/errors\";\nimport GitHub from \"@auth/core/providers/github\";\nconst dev = BROWSER;\nfunction setEnvDefaults(envObject, config) {\n  config.trustHost ??= dev;\n  config.basePath = `${base}/auth`;\n  config.skipCSRFCheck = skipCSRFCheck;\n  if (building)\n    return;\n  setEnvDefaults$1(envObject, config);\n}\nasync function signIn(provider, options = {}, authorizationParams, config, event) {\n  const { request, url: { protocol } } = event;\n  const headers = new Headers(request.headers);\n  const { redirect: shouldRedirect = true, redirectTo, ...rest } = options instanceof FormData ? Object.fromEntries(options) : options;\n  const callbackUrl = redirectTo?.toString() ?? headers.get(\"Referer\") ?? \"/\";\n  const signInURL = createActionURL(\"signin\", protocol, headers, private_env, config);\n  if (!provider) {\n    signInURL.searchParams.append(\"callbackUrl\", callbackUrl);\n    if (shouldRedirect)\n      redirect(302, signInURL.toString());\n    return signInURL.toString();\n  }\n  let url = `${signInURL}/${provider}?${new URLSearchParams(authorizationParams)}`;\n  let foundProvider = {};\n  for (const providerConfig of config.providers) {\n    const { options: options2, ...defaults } = typeof providerConfig === \"function\" ? providerConfig() : providerConfig;\n    const id = options2?.id ?? defaults.id;\n    if (id === provider) {\n      foundProvider = {\n        id,\n        type: options2?.type ?? defaults.type\n      };\n      break;\n    }\n  }\n  if (!foundProvider.id) {\n    const url2 = `${signInURL}?${new URLSearchParams({ callbackUrl })}`;\n    if (shouldRedirect)\n      redirect(302, url2);\n    return url2;\n  }\n  if (foundProvider.type === \"credentials\") {\n    url = url.replace(\"signin\", \"callback\");\n  }\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const body = new URLSearchParams({ ...rest, callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw });\n  for (const c of res?.cookies ?? []) {\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  }\n  if (shouldRedirect) {\n    return redirect(302, res.redirect);\n  }\n  return res.redirect;\n}\nasync function signOut(options, config, event) {\n  const { request, url: { protocol } } = event;\n  const headers = new Headers(request.headers);\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const url = createActionURL(\"signout\", protocol, headers, private_env, config);\n  const callbackUrl = options?.redirectTo ?? headers.get(\"Referer\") ?? \"/\";\n  const body = new URLSearchParams({ callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw });\n  for (const c of res?.cookies ?? [])\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  if (options?.redirect ?? true)\n    return redirect(302, res.redirect);\n  return res;\n}\nasync function auth(event, config) {\n  setEnvDefaults(private_env, config);\n  config.trustHost ??= true;\n  const { request: req, url: { protocol } } = event;\n  const sessionUrl = createActionURL(\"session\", protocol, req.headers, private_env, config);\n  const request = new Request(sessionUrl, {\n    headers: { cookie: req.headers.get(\"cookie\") ?? \"\" }\n  });\n  const response = await Auth(request, config);\n  const authCookies = parse(response.headers.getSetCookie());\n  for (const cookie of authCookies) {\n    const { name, value, ...options } = cookie;\n    event.cookies.set(name, value, { path: \"/\", ...options });\n  }\n  const { status = 200 } = response;\n  const data = await response.json();\n  if (!data || !Object.keys(data).length)\n    return null;\n  if (status === 200)\n    return data;\n  throw new Error(data.message);\n}\nconst authorizationParamsPrefix = \"authorizationParams-\";\nfunction SvelteKitAuth(config) {\n  return {\n    signIn: async (event) => {\n      if (building)\n        return;\n      const { request } = event;\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const formData = await request.formData();\n      const { providerId: provider, ...options } = Object.fromEntries(formData);\n      const authorizationParams = {};\n      const _options = {};\n      for (const key in options) {\n        if (key.startsWith(authorizationParamsPrefix)) {\n          authorizationParams[key.slice(authorizationParamsPrefix.length)] = options[key];\n        } else {\n          _options[key] = options[key];\n        }\n      }\n      await signIn(provider, _options, authorizationParams, _config, event);\n    },\n    signOut: async (event) => {\n      if (building)\n        return;\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const options = Object.fromEntries(await event.request.formData());\n      await signOut(options, _config, event);\n    },\n    async handle({ event, resolve }) {\n      if (building) {\n        event.locals.auth ??= async () => null;\n        event.locals.getSession ??= event.locals.auth;\n        return resolve(event);\n      }\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const { url, request } = event;\n      event.locals.auth ??= () => auth(event, _config);\n      event.locals.getSession ??= event.locals.auth;\n      const action = url.pathname.slice(\n        // @ts-expect-error - basePath is defined in setEnvDefaults\n        _config.basePath.length + 1\n      ).split(\"/\")[0];\n      if (isAuthAction(action) && url.pathname.startsWith(_config.basePath + \"/\")) {\n        return Auth(request, _config);\n      }\n      return resolve(event);\n    }\n  };\n}\nconst { GITHUB_ID = \"\", GITHUB_SECRET = \"\", AUTH_SECRET = \"\" } = private_env;\nconst githubId = GITHUB_ID.trim();\nconst githubSecret = GITHUB_SECRET.trim();\nconst authSecret = AUTH_SECRET.trim();\nconst { handle } = SvelteKitAuth({\n  providers: [\n    GitHub({\n      clientId: githubId,\n      clientSecret: githubSecret,\n      authorization: {\n        params: {\n          scope: \"read:user user:email read:org repo read:project\"\n        }\n      }\n    })\n  ],\n  secret: authSecret,\n  trustHost: true,\n  callbacks: {\n    async session({ session, token }) {\n      if (session.user && token) {\n        session.user.login = token.login;\n        session.accessToken = token.accessToken;\n      }\n      return session;\n    },\n    async jwt({ token, profile, account }) {\n      if (profile) {\n        token.login = profile.login;\n      }\n      if (account) {\n        token.accessToken = account.access_token;\n      }\n      return token;\n    }\n  }\n});\nexport {\n  handle\n};\n", "const load = async ({ locals }) => {\n  const session = await locals.getSession();\n  return {\n    user: session?.user\n  };\n};\nexport {\n  load\n};\n", "import { w as writable } from \"./index.js\";\nfunction getInitialTheme() {\n  return \"auto\";\n}\nfunction createThemeStore() {\n  const { subscribe, set, update } = writable(getInitialTheme());\n  return {\n    subscribe,\n    setTheme: (theme2) => {\n      set(theme2);\n    },\n    initialize: () => {\n    }\n  };\n}\nconst theme = createThemeStore();\nexport {\n  theme as t\n};\n", "import { c as create_ssr_component, o as onDestroy, a as add_attribute, e as each, b as escape, v as validate_component } from \"../../chunks/ssr.js\";\nimport { t as theme } from \"../../chunks/theme.js\";\nimport { w as writable } from \"../../chunks/index.js\";\nfunction createVoiceChatStore() {\n  const { subscribe, set } = writable(false);\n  return {\n    subscribe,\n    open: () => set(true),\n    close: () => set(false),\n    toggle: () => {\n      let currentValue = false;\n      subscribe((value) => currentValue = value)();\n      set(!currentValue);\n    }\n  };\n}\nconst voiceChat = createVoiceChatStore();\nfunction createCommandsStore() {\n  const { subscribe, set } = writable([]);\n  const baseCommands = [\n    {\n      id: \"google-search\",\n      name: \"Google Search\",\n      description: \"Search Google (g %s)\",\n      shortcut: \"g\",\n      category: \"search\",\n      execute: (query) => {\n      }\n    },\n    {\n      id: \"amazon-search\",\n      name: \"Amazon Search\",\n      description: \"Search Amazon (am %s)\",\n      shortcut: \"am\",\n      category: \"search\",\n      execute: (query) => {\n      }\n    },\n    {\n      id: \"theme-light\",\n      name: \"Theme: Light\",\n      description: \"Switch to light theme\",\n      category: \"theme\",\n      execute: () => {\n        theme.setTheme(\"light\");\n      }\n    },\n    {\n      id: \"theme-dark\",\n      name: \"Theme: Dark\",\n      description: \"Switch to dark theme\",\n      category: \"theme\",\n      execute: () => {\n        theme.setTheme(\"dark\");\n      }\n    },\n    {\n      id: \"theme-auto\",\n      name: \"Theme: Auto\",\n      description: \"Switch to automatic theme (follows system)\",\n      category: \"theme\",\n      execute: () => {\n        theme.setTheme(\"auto\");\n      }\n    },\n    {\n      id: \"voice-chat\",\n      name: \"Start Voice Chat\",\n      description: \"Open AI voice assistant chat session\",\n      shortcut: \"voice\",\n      category: \"custom\",\n      execute: () => {\n        voiceChat.open();\n      }\n    }\n  ];\n  set(baseCommands);\n  return {\n    subscribe,\n    addCommand: (command) => {\n      subscribe((commands2) => {\n        set([...commands2, command]);\n        return commands2;\n      })();\n    },\n    removeCommand: (id) => {\n      subscribe((commands2) => {\n        set(commands2.filter((cmd) => cmd.id !== id));\n        return commands2;\n      })();\n    }\n  };\n}\nconst commands = createCommandsStore();\nconst css$2 = {\n  code: \".command-palette-backdrop.svelte-bdp5c2{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.5);backdrop-filter:blur(4px);z-index:9999;display:flex;justify-content:center;padding-top:20vh}.command-palette.svelte-bdp5c2{background-color:var(--surface);border-radius:12px;box-shadow:0 20px 60px rgba(0, 0, 0, 0.3);width:100%;max-width:600px;max-height:60vh;display:flex;flex-direction:column;overflow:hidden;border:1px solid var(--border)}.search-container.svelte-bdp5c2{display:flex;align-items:center;padding:1rem;border-bottom:1px solid var(--border);gap:0.75rem}.search-icon.svelte-bdp5c2{font-size:1.25rem;color:var(--text-secondary);opacity:0.5}.search-input.svelte-bdp5c2{flex:1;background:transparent;border:none;outline:none;font-size:1rem;color:var(--text-primary);font-family:inherit}.search-input.svelte-bdp5c2::placeholder{color:var(--text-secondary);opacity:0.6}.escape-hint.svelte-bdp5c2{font-size:0.75rem;color:var(--text-secondary);padding:0.25rem 0.5rem;background-color:var(--surface-variant);border-radius:4px;font-weight:500}.commands-list.svelte-bdp5c2{flex:1;overflow-y:auto;padding:0.5rem}.commands-list.svelte-bdp5c2::-webkit-scrollbar{width:8px}.commands-list.svelte-bdp5c2::-webkit-scrollbar-track{background:transparent}.commands-list.svelte-bdp5c2::-webkit-scrollbar-thumb{background:var(--surface-variant);border-radius:4px}.commands-list.svelte-bdp5c2::-webkit-scrollbar-thumb:hover{background:var(--border)}.command-item.svelte-bdp5c2{width:100%;display:flex;align-items:center;justify-content:space-between;padding:0.75rem 1rem;border:none;background:transparent;cursor:pointer;border-radius:6px;transition:background-color 0.15s ease;text-align:left;gap:1rem}.command-item.svelte-bdp5c2:hover,.command-item.selected.svelte-bdp5c2{background-color:var(--surface-variant)}.command-main.svelte-bdp5c2{flex:1;min-width:0}.command-name.svelte-bdp5c2{font-size:0.9rem;color:var(--text-primary);font-weight:500;margin-bottom:0.15rem}.command-description.svelte-bdp5c2{font-size:0.8rem;color:var(--text-secondary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.command-shortcut.svelte-bdp5c2{font-size:0.75rem;color:var(--text-secondary);padding:0.25rem 0.5rem;background-color:var(--surface-container-high);border-radius:4px;font-family:monospace;font-weight:600}.no-results.svelte-bdp5c2{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;color:var(--text-secondary)}.no-results-icon.svelte-bdp5c2{font-size:3rem;margin-bottom:1rem;opacity:0.5}.no-results-text.svelte-bdp5c2{font-size:0.9rem}.footer.svelte-bdp5c2{border-top:1px solid var(--border);padding:0.75rem 1rem;background-color:var(--surface-variant)}.footer-hint.svelte-bdp5c2{display:flex;gap:1rem;font-size:0.75rem;color:var(--text-secondary);align-items:center}kbd.svelte-bdp5c2{background-color:var(--surface-container-high);padding:0.15rem 0.4rem;border-radius:3px;font-family:monospace;font-size:0.7rem;font-weight:600;border:1px solid var(--border);margin-right:0.25rem}\",\n  map: '{\"version\":3,\"file\":\"CommandPalette.svelte\",\"sources\":[\"CommandPalette.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { onMount, onDestroy } from \\\\\"svelte\\\\\";\\\\nimport { commands } from \\\\\"$lib/stores/commands\\\\\";\\\\nimport { fly, fade } from \\\\\"svelte/transition\\\\\";\\\\nexport let isOpen = false;\\\\nexport let onClose;\\\\nlet searchInput;\\\\nlet searchQuery = \\\\\"\\\\\";\\\\nlet selectedIndex = 0;\\\\nlet filteredCommands = [];\\\\nlet allCommands = [];\\\\nconst unsubscribe = commands.subscribe((cmds) => {\\\\n  allCommands = cmds;\\\\n  filterCommands();\\\\n});\\\\n$: {\\\\n  searchQuery;\\\\n  filterCommands();\\\\n}\\\\nfunction filterCommands() {\\\\n  if (!searchQuery.trim()) {\\\\n    filteredCommands = allCommands;\\\\n    selectedIndex = 0;\\\\n    return;\\\\n  }\\\\n  const query = searchQuery.toLowerCase().trim();\\\\n  const shortcutMatch = query.match(/^(\\\\\\\\w+)\\\\\\\\s+(.+)$/);\\\\n  if (shortcutMatch) {\\\\n    const [, shortcut, searchTerm] = shortcutMatch;\\\\n    const matchingCommand = allCommands.find((cmd) => cmd.shortcut === shortcut);\\\\n    if (matchingCommand) {\\\\n      filteredCommands = [{ ...matchingCommand, name: `${matchingCommand.name}: ${searchTerm}` }];\\\\n      selectedIndex = 0;\\\\n      return;\\\\n    }\\\\n  }\\\\n  filteredCommands = allCommands.filter(\\\\n    (cmd) => cmd.name.toLowerCase().includes(query) || cmd.description.toLowerCase().includes(query) || cmd.shortcut && cmd.shortcut.toLowerCase().includes(query)\\\\n  );\\\\n  selectedIndex = 0;\\\\n}\\\\nfunction executeCommand(command) {\\\\n  const query = searchQuery.trim();\\\\n  const shortcutMatch = query.match(/^(\\\\\\\\w+)\\\\\\\\s+(.+)$/);\\\\n  if (shortcutMatch && command.shortcut === shortcutMatch[1]) {\\\\n    command.execute(shortcutMatch[2]);\\\\n    closeAndReset();\\\\n  } else if (command.shortcut && command.category === \\\\\"search\\\\\") {\\\\n    searchQuery = `${command.shortcut} `;\\\\n    selectedIndex = 0;\\\\n    setTimeout(() => {\\\\n      if (searchInput) {\\\\n        searchInput.focus();\\\\n        searchInput.setSelectionRange(searchQuery.length, searchQuery.length);\\\\n      }\\\\n    }, 0);\\\\n  } else {\\\\n    command.execute();\\\\n    closeAndReset();\\\\n  }\\\\n}\\\\nfunction handleKeyDown(event) {\\\\n  if (event.key === \\\\\"Escape\\\\\") {\\\\n    event.preventDefault();\\\\n    event.stopPropagation();\\\\n    if (searchQuery.trim()) {\\\\n      searchQuery = \\\\\"\\\\\";\\\\n      selectedIndex = 0;\\\\n    } else {\\\\n      closeAndReset();\\\\n    }\\\\n  } else if (event.key === \\\\\"ArrowDown\\\\\") {\\\\n    event.preventDefault();\\\\n    selectedIndex = (selectedIndex + 1) % filteredCommands.length;\\\\n  } else if (event.key === \\\\\"ArrowUp\\\\\") {\\\\n    event.preventDefault();\\\\n    selectedIndex = selectedIndex === 0 ? filteredCommands.length - 1 : selectedIndex - 1;\\\\n  } else if (event.key === \\\\\"Enter\\\\\") {\\\\n    event.preventDefault();\\\\n    if (filteredCommands.length > 0) {\\\\n      executeCommand(filteredCommands[selectedIndex]);\\\\n    }\\\\n  }\\\\n}\\\\nfunction closeAndReset() {\\\\n  searchQuery = \\\\\"\\\\\";\\\\n  selectedIndex = 0;\\\\n  onClose();\\\\n}\\\\nfunction handleBackdropClick(event) {\\\\n  if (event.target === event.currentTarget) {\\\\n    closeAndReset();\\\\n  }\\\\n}\\\\n$: if (isOpen && searchInput) {\\\\n  setTimeout(() => searchInput.focus(), 0);\\\\n}\\\\nonDestroy(() => {\\\\n  unsubscribe();\\\\n});\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n{#if isOpen}\\\\r\\\\n\\\\t<div \\\\r\\\\n\\\\t\\\\tclass=\\\\\"command-palette-backdrop\\\\\" \\\\r\\\\n\\\\t\\\\ton:click={handleBackdropClick}\\\\r\\\\n\\\\t\\\\ttransition:fade={{ duration: 150 }}\\\\r\\\\n\\\\t\\\\trole=\\\\\"presentation\\\\\"\\\\r\\\\n\\\\t>\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"command-palette\\\\\" transition:fly={{ y: -20, duration: 200 }}>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"search-container\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"search-icon\\\\\">\u2318</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<input\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tbind:this={searchInput}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tbind:value={searchQuery}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:keydown={handleKeyDown}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ttype=\\\\\"text\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tplaceholder=\\\\\"Type a command or search... (e.g., \\'g hello\\' for Google)\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"search-input\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tautocomplete=\\\\\"off\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tspellcheck=\\\\\"false\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t/>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"escape-hint\\\\\">ESC</div>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"commands-list\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if filteredCommands.length === 0}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"no-results\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"no-results-icon\\\\\">\uD83D\uDD0D</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"no-results-text\\\\\">No commands found</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{#each filteredCommands as command, index}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<button\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"command-item\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tclass:selected={index === selectedIndex}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\ton:click={() => executeCommand(command)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\ton:mouseenter={() => selectedIndex = index}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"command-main\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"command-name\\\\\">{command.name}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"command-description\\\\\">{command.description}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if command.shortcut}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"command-shortcut\\\\\">{command.shortcut}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"footer\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"footer-hint\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<kbd>\u2191\u2193</kbd> Navigate\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<kbd>\u21B5</kbd> Execute\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<kbd>ESC</kbd> Close\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t</div>\\\\r\\\\n{/if}\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.command-palette-backdrop {\\\\r\\\\n\\\\t\\\\tposition: fixed;\\\\r\\\\n\\\\t\\\\ttop: 0;\\\\r\\\\n\\\\t\\\\tleft: 0;\\\\r\\\\n\\\\t\\\\tright: 0;\\\\r\\\\n\\\\t\\\\tbottom: 0;\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(0, 0, 0, 0.5);\\\\r\\\\n\\\\t\\\\tbackdrop-filter: blur(4px);\\\\r\\\\n\\\\t\\\\tz-index: 9999;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tpadding-top: 20vh;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-palette {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface);\\\\r\\\\n\\\\t\\\\tborder-radius: 12px;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmax-width: 600px;\\\\r\\\\n\\\\t\\\\tmax-height: 60vh;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.search-container {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tborder-bottom: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.search-icon {\\\\r\\\\n\\\\t\\\\tfont-size: 1.25rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\topacity: 0.5;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.search-input {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\tbackground: transparent;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\toutline: none;\\\\r\\\\n\\\\t\\\\tfont-size: 1rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-family: inherit;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.search-input::placeholder {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\topacity: 0.6;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.escape-hint {\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tpadding: 0.25rem 0.5rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.commands-list {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\toverflow-y: auto;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.commands-list::-webkit-scrollbar {\\\\r\\\\n\\\\t\\\\twidth: 8px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.commands-list::-webkit-scrollbar-track {\\\\r\\\\n\\\\t\\\\tbackground: transparent;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.commands-list::-webkit-scrollbar-thumb {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.commands-list::-webkit-scrollbar-thumb:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--border);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-item {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\tpadding: 0.75rem 1rem;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tbackground: transparent;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\ttransition: background-color 0.15s ease;\\\\r\\\\n\\\\t\\\\ttext-align: left;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-item:hover,\\\\r\\\\n\\\\t.command-item.selected {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-main {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\tmin-width: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-name {\\\\r\\\\n\\\\t\\\\tfont-size: 0.9rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.15rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-description {\\\\r\\\\n\\\\t\\\\tfont-size: 0.8rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\ttext-overflow: ellipsis;\\\\r\\\\n\\\\t\\\\twhite-space: nowrap;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-shortcut {\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tpadding: 0.25rem 0.5rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t\\\\tfont-family: monospace;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.no-results {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tpadding: 3rem 1rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.no-results-icon {\\\\r\\\\n\\\\t\\\\tfont-size: 3rem;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t\\\\topacity: 0.5;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.no-results-text {\\\\r\\\\n\\\\t\\\\tfont-size: 0.9rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.footer {\\\\r\\\\n\\\\t\\\\tborder-top: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tpadding: 0.75rem 1rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.footer-hint {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tkbd {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tpadding: 0.15rem 0.4rem;\\\\r\\\\n\\\\t\\\\tborder-radius: 3px;\\\\r\\\\n\\\\t\\\\tfont-family: monospace;\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tmargin-right: 0.25rem;\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"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\"}'\n};\nconst CommandPalette = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { isOpen = false } = $$props;\n  let { onClose } = $$props;\n  let searchInput;\n  let searchQuery = \"\";\n  let selectedIndex = 0;\n  let filteredCommands = [];\n  let allCommands = [];\n  const unsubscribe = commands.subscribe((cmds) => {\n    allCommands = cmds;\n    filterCommands();\n  });\n  function filterCommands() {\n    if (!searchQuery.trim()) {\n      filteredCommands = allCommands;\n      selectedIndex = 0;\n      return;\n    }\n    const query = searchQuery.toLowerCase().trim();\n    const shortcutMatch = query.match(/^(\\w+)\\s+(.+)$/);\n    if (shortcutMatch) {\n      const [, shortcut, searchTerm] = shortcutMatch;\n      const matchingCommand = allCommands.find((cmd) => cmd.shortcut === shortcut);\n      if (matchingCommand) {\n        filteredCommands = [\n          {\n            ...matchingCommand,\n            name: `${matchingCommand.name}: ${searchTerm}`\n          }\n        ];\n        selectedIndex = 0;\n        return;\n      }\n    }\n    filteredCommands = allCommands.filter((cmd) => cmd.name.toLowerCase().includes(query) || cmd.description.toLowerCase().includes(query) || cmd.shortcut && cmd.shortcut.toLowerCase().includes(query));\n    selectedIndex = 0;\n  }\n  onDestroy(() => {\n    unsubscribe();\n  });\n  if ($$props.isOpen === void 0 && $$bindings.isOpen && isOpen !== void 0) $$bindings.isOpen(isOpen);\n  if ($$props.onClose === void 0 && $$bindings.onClose && onClose !== void 0) $$bindings.onClose(onClose);\n  $$result.css.add(css$2);\n  {\n    {\n      filterCommands();\n    }\n  }\n  return `${isOpen ? `<div class=\"command-palette-backdrop svelte-bdp5c2\" role=\"presentation\"><div class=\"command-palette svelte-bdp5c2\"><div class=\"search-container svelte-bdp5c2\"><div class=\"search-icon svelte-bdp5c2\" data-svelte-h=\"svelte-p0tyjp\">\u2318</div> <input type=\"text\" placeholder=\"Type a command or search... (e.g., 'g hello' for Google)\" class=\"search-input svelte-bdp5c2\" autocomplete=\"off\" spellcheck=\"false\"${add_attribute(\"this\", searchInput, 0)}${add_attribute(\"value\", searchQuery, 0)}> <div class=\"escape-hint svelte-bdp5c2\" data-svelte-h=\"svelte-vpd1j3\">ESC</div></div> <div class=\"commands-list svelte-bdp5c2\">${filteredCommands.length === 0 ? `<div class=\"no-results svelte-bdp5c2\" data-svelte-h=\"svelte-hkckcr\"><div class=\"no-results-icon svelte-bdp5c2\">\uD83D\uDD0D</div> <div class=\"no-results-text svelte-bdp5c2\">No commands found</div></div>` : `${each(filteredCommands, (command, index) => {\n    return `<button class=\"${[\"command-item svelte-bdp5c2\", index === selectedIndex ? \"selected\" : \"\"].join(\" \").trim()}\"><div class=\"command-main svelte-bdp5c2\"><div class=\"command-name svelte-bdp5c2\">${escape(command.name)}</div> <div class=\"command-description svelte-bdp5c2\">${escape(command.description)}</div></div> ${command.shortcut ? `<div class=\"command-shortcut svelte-bdp5c2\">${escape(command.shortcut)}</div>` : ``} </button>`;\n  })}`}</div> <div class=\"footer svelte-bdp5c2\" data-svelte-h=\"svelte-b6qwwm\"><div class=\"footer-hint svelte-bdp5c2\"><kbd class=\"svelte-bdp5c2\">\u2191\u2193</kbd> Navigate\n\t\t\t\t\t<kbd class=\"svelte-bdp5c2\">\u21B5</kbd> Execute\n\t\t\t\t\t<kbd class=\"svelte-bdp5c2\">ESC</kbd> Close</div></div></div></div>` : ``}`;\n});\nconst css$1 = {\n  code: \".voice-chat-container.mobile.svelte-4xvwue.svelte-4xvwue{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.95);z-index:10000;display:flex;align-items:center;justify-content:center}.voice-chat-container.mobile.svelte-4xvwue .mobile-window.svelte-4xvwue{width:100%;height:100%;border-radius:0;display:flex;flex-direction:column;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%)}.voice-chat-container.desktop.svelte-4xvwue.svelte-4xvwue{position:fixed;bottom:2rem;right:2rem;z-index:10000;display:none}.voice-chat-window.desktop-window.svelte-4xvwue.svelte-4xvwue{width:320px;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);border-radius:16px;box-shadow:0 10px 40px rgba(0, 0, 0, 0.3);overflow:hidden;border:2px solid rgba(255, 255, 255, 0.1)}@media(min-width: 768px){.voice-chat-container.mobile.svelte-4xvwue.svelte-4xvwue{display:none}.voice-chat-container.desktop.svelte-4xvwue.svelte-4xvwue{display:block}}.voice-chat-header.svelte-4xvwue.svelte-4xvwue{padding:1.25rem;display:flex;align-items:center;gap:1rem;background:rgba(0, 0, 0, 0.2);backdrop-filter:blur(10px)}.status-indicator.svelte-4xvwue.svelte-4xvwue{width:2.5rem;height:2.5rem;border-radius:50%;background:rgba(255, 255, 255, 0.2);display:flex;align-items:center;justify-content:center;font-size:1.25rem}.status-indicator.connecting.svelte-4xvwue.svelte-4xvwue{animation:svelte-4xvwue-pulse 1.5s ease-in-out infinite}.status-indicator.connected.svelte-4xvwue.svelte-4xvwue{background:rgba(76, 175, 80, 0.3)}@keyframes svelte-4xvwue-pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:0.8}}.call-info.svelte-4xvwue.svelte-4xvwue{flex:1;color:white}.call-title.svelte-4xvwue.svelte-4xvwue{font-weight:600;font-size:1rem;margin-bottom:0.25rem}.call-status.svelte-4xvwue.svelte-4xvwue{font-size:0.875rem;opacity:0.8}.voice-chat-body.svelte-4xvwue.svelte-4xvwue{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;min-height:200px}.avatar.svelte-4xvwue.svelte-4xvwue{position:relative;width:120px;height:120px;margin-bottom:1.5rem}.avatar-pulse.svelte-4xvwue.svelte-4xvwue{position:absolute;inset:-10px;border-radius:50%;background:rgba(255, 255, 255, 0.3);opacity:0;transition:opacity 0.3s}.avatar-pulse.active.svelte-4xvwue.svelte-4xvwue{opacity:1;animation:svelte-4xvwue-ripple 2s ease-out infinite}@keyframes svelte-4xvwue-ripple{0%{transform:scale(0.8);opacity:1}100%{transform:scale(1.4);opacity:0}}.avatar-icon.svelte-4xvwue.svelte-4xvwue{position:relative;width:100%;height:100%;border-radius:50%;background:rgba(255, 255, 255, 0.2);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;font-size:4rem;border:3px solid rgba(255, 255, 255, 0.3)}.connection-status.svelte-4xvwue.svelte-4xvwue{text-align:center;color:white;font-size:0.875rem;opacity:0.9;margin-bottom:1rem}.connection-status.svelte-4xvwue p.processing.svelte-4xvwue{animation:svelte-4xvwue-pulse 1.5s ease-in-out infinite}.conversation-display.svelte-4xvwue.svelte-4xvwue{width:100%;max-height:200px;overflow-y:auto;padding:0.5rem;border-radius:8px;background:rgba(0, 0, 0, 0.2);backdrop-filter:blur(10px)}.message.svelte-4xvwue.svelte-4xvwue{margin-bottom:0.75rem;padding:0.5rem;border-radius:6px;background:rgba(255, 255, 255, 0.1);color:white;font-size:0.8rem}.message.user.svelte-4xvwue.svelte-4xvwue{background:rgba(103, 126, 234, 0.3);border-left:3px solid rgba(103, 126, 234, 0.8)}.message.assistant.svelte-4xvwue.svelte-4xvwue{background:rgba(118, 75, 162, 0.3);border-left:3px solid rgba(118, 75, 162, 0.8)}.role-badge.svelte-4xvwue.svelte-4xvwue{display:inline-block;font-weight:600;font-size:0.7rem;opacity:0.8;margin-right:0.5rem;text-transform:uppercase}.message-text.svelte-4xvwue.svelte-4xvwue{display:block;margin-top:0.25rem;line-height:1.4}.voice-chat-controls.svelte-4xvwue.svelte-4xvwue{padding:1.5rem;display:flex;gap:1rem;justify-content:center;background:rgba(0, 0, 0, 0.2);backdrop-filter:blur(10px)}.control-button.svelte-4xvwue.svelte-4xvwue{width:60px;height:60px;border-radius:50%;border:none;font-size:1.75rem;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center;background:rgba(255, 255, 255, 0.2);backdrop-filter:blur(10px);border:2px solid rgba(255, 255, 255, 0.3)}.control-button.svelte-4xvwue.svelte-4xvwue:hover:not(:disabled){transform:scale(1.1);background:rgba(255, 255, 255, 0.3)}.control-button.svelte-4xvwue.svelte-4xvwue:active:not(:disabled){transform:scale(0.95)}.control-button.svelte-4xvwue.svelte-4xvwue:disabled{opacity:0.5;cursor:not-allowed}.mute-button.active.svelte-4xvwue.svelte-4xvwue{background:rgba(244, 67, 54, 0.3);border-color:rgba(244, 67, 54, 0.5)}.hangup-button.svelte-4xvwue.svelte-4xvwue{background:rgba(244, 67, 54, 0.3);border-color:rgba(244, 67, 54, 0.5);transform:rotate(135deg)}.hangup-button.svelte-4xvwue.svelte-4xvwue:hover{background:rgba(244, 67, 54, 0.5);transform:rotate(135deg) scale(1.1)}.hangup-button.svelte-4xvwue.svelte-4xvwue:active{transform:rotate(135deg) scale(0.95)}@media(min-width: 768px){.voice-chat-body.svelte-4xvwue.svelte-4xvwue{min-height:auto}.avatar.svelte-4xvwue.svelte-4xvwue{width:100px;height:100px;margin-bottom:1rem}.avatar-icon.svelte-4xvwue.svelte-4xvwue{font-size:3rem}.connection-status.svelte-4xvwue.svelte-4xvwue{display:none}}\",\n  map: `{\"version\":3,\"file\":\"VoiceChat.svelte\",\"sources\":[\"VoiceChat.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { onMount, onDestroy } from \\\\\"svelte\\\\\";\\\\nimport { fly, fade } from \\\\\"svelte/transition\\\\\";\\\\nexport let isOpen = false;\\\\nexport let onClose;\\\\nlet isConnected = false;\\\\nlet isConnecting = false;\\\\nlet isMuted = false;\\\\nlet isProcessing = false;\\\\nlet audioContext = null;\\\\nlet mediaStream = null;\\\\nlet webSocket = null;\\\\nlet elapsedTime = 0;\\\\nlet timerInterval = null;\\\\nlet audioProcessor = null;\\\\nlet isSpeaking = false;\\\\nlet silenceStart = null;\\\\nlet conversationMessages = [];\\\\nconst SILENCE_THRESHOLD = 0.01;\\\\nconst SILENCE_DURATION = 1e3;\\\\nconst CLOUDFLARE_REALTIME_URL = typeof window !== \\\\\"undefined\\\\\" ? \\`\\${window.location.protocol === \\\\\"https:\\\\\" ? \\\\\"wss:\\\\\" : \\\\\"ws:\\\\\"}//\\${window.location.host}/api/realtime\\` : \\\\\"ws://localhost:5173/api/realtime\\\\\";\\\\nonMount(() => {\\\\n  if (isOpen && !isConnected) {\\\\n    startVoiceChat();\\\\n  }\\\\n});\\\\nonDestroy(() => {\\\\n  cleanup();\\\\n});\\\\n$: if (isOpen && !isConnected && !isConnecting) {\\\\n  startVoiceChat();\\\\n}\\\\n$: if (!isOpen) {\\\\n  cleanup();\\\\n}\\\\nfunction formatTime(seconds) {\\\\n  const mins = Math.floor(seconds / 60);\\\\n  const secs = seconds % 60;\\\\n  return \\`\\${mins.toString().padStart(2, \\\\\"0\\\\\")}:\\${secs.toString().padStart(2, \\\\\"0\\\\\")}\\`;\\\\n}\\\\nasync function startVoiceChat() {\\\\n  try {\\\\n    isConnecting = true;\\\\n    mediaStream = await navigator.mediaDevices.getUserMedia({\\\\n      audio: {\\\\n        echoCancellation: true,\\\\n        noiseSuppression: true,\\\\n        autoGainControl: true\\\\n      }\\\\n    });\\\\n    audioContext = new AudioContext({ sampleRate: 16e3 });\\\\n    const source = audioContext.createMediaStreamSource(mediaStream);\\\\n    webSocket = new WebSocket(CLOUDFLARE_REALTIME_URL);\\\\n    console.log(\\\\\"Attempting WebSocket connection to:\\\\\", CLOUDFLARE_REALTIME_URL);\\\\n    webSocket.onopen = () => {\\\\n      console.log(\\\\\"Connected to Cloudflare Realtime\\\\\");\\\\n      isConnected = true;\\\\n      isConnecting = false;\\\\n      startTimer();\\\\n      if (webSocket) {\\\\n        webSocket.send(JSON.stringify({\\\\n          type: \\\\\"session.update\\\\\",\\\\n          session: {\\\\n            modalities: [\\\\\"text\\\\\", \\\\\"audio\\\\\"],\\\\n            instructions: \\\\\"You are a helpful AI assistant in a voice conversation.\\\\\",\\\\n            voice: \\\\\"alloy\\\\\",\\\\n            input_audio_format: \\\\\"pcm16\\\\\",\\\\n            output_audio_format: \\\\\"pcm16\\\\\",\\\\n            turn_detection: {\\\\n              type: \\\\\"server_vad\\\\\",\\\\n              threshold: 0.5,\\\\n              prefix_padding_ms: 300,\\\\n              silence_duration_ms: 500\\\\n            }\\\\n          }\\\\n        }));\\\\n      }\\\\n    };\\\\n    webSocket.onmessage = async (event) => {\\\\n      try {\\\\n        const message = JSON.parse(event.data);\\\\n        console.log(\\\\\"Received message:\\\\\", message.type);\\\\n        if (message.type === \\\\\"session.created\\\\\") {\\\\n          console.log(\\\\\"Session created successfully\\\\\");\\\\n        }\\\\n        if (message.type === \\\\\"input_audio_buffer.committed\\\\\") {\\\\n          console.log(\\\\\"Audio buffer committed, AI processing...\\\\\");\\\\n          isProcessing = true;\\\\n        }\\\\n        if (message.type === \\\\\"conversation.item.created\\\\\" && message.item?.role === \\\\\"user\\\\\") {\\\\n          const text = message.item.content?.[0]?.text || \\\\\"\\\\\";\\\\n          if (text) {\\\\n            conversationMessages = [...conversationMessages, { role: \\\\\"user\\\\\", text }];\\\\n          }\\\\n        }\\\\n        if (message.type === \\\\\"response.text.delta\\\\\" && message.delta) {\\\\n          conversationMessages = [...conversationMessages, { role: \\\\\"assistant\\\\\", text: message.delta }];\\\\n        }\\\\n        if (message.type === \\\\\"response.audio.delta\\\\\" && message.delta) {\\\\n          await playAudioChunk(message.delta);\\\\n        }\\\\n        if (message.type === \\\\\"response.audio.done\\\\\") {\\\\n          console.log(\\\\\"AI response complete\\\\\");\\\\n          isProcessing = false;\\\\n        }\\\\n        if (message.type === \\\\\"error\\\\\") {\\\\n          console.error(\\\\\"Cloudflare Realtime error:\\\\\", message.error);\\\\n          isProcessing = false;\\\\n        }\\\\n      } catch (error) {\\\\n        console.error(\\\\\"Error processing message:\\\\\", error);\\\\n      }\\\\n    };\\\\n    webSocket.onerror = (error) => {\\\\n      console.error(\\\\\"WebSocket error:\\\\\", error);\\\\n      console.error(\\\\\"WebSocket URL was:\\\\\", CLOUDFLARE_REALTIME_URL);\\\\n      isConnecting = false;\\\\n      isConnected = false;\\\\n    };\\\\n    webSocket.onclose = (event) => {\\\\n      console.log(\\\\\"Disconnected from Cloudflare Realtime\\\\\");\\\\n      console.log(\\\\\"Close code:\\\\\", event.code, \\\\\"Reason:\\\\\", event.reason);\\\\n      isConnected = false;\\\\n      isConnecting = false;\\\\n      stopTimer();\\\\n      if (event.code === 1006) {\\\\n        alert(\\\\\"WebSocket connection failed. This feature requires deployment to Cloudflare Pages to work. WebSockets are not supported in local development.\\\\\");\\\\n      }\\\\n    };\\\\n    audioProcessor = audioContext.createScriptProcessor(4096, 1, 1);\\\\n    source.connect(audioProcessor);\\\\n    audioProcessor.connect(audioContext.destination);\\\\n    audioProcessor.onaudioprocess = (e) => {\\\\n      if (!isMuted && webSocket && webSocket.readyState === WebSocket.OPEN) {\\\\n        const inputData = e.inputBuffer.getChannelData(0);\\\\n        const rms = Math.sqrt(inputData.reduce((sum, val) => sum + val * val, 0) / inputData.length);\\\\n        const currentTime = Date.now();\\\\n        if (rms > SILENCE_THRESHOLD) {\\\\n          if (!isSpeaking) {\\\\n            console.log(\\\\\"Speech detected, starting audio buffer\\\\\");\\\\n            isSpeaking = true;\\\\n          }\\\\n          silenceStart = null;\\\\n          const pcm16 = convertFloat32ToPCM16(inputData);\\\\n          const base64Audio = arrayBufferToBase64(pcm16);\\\\n          webSocket.send(JSON.stringify({\\\\n            type: \\\\\"input_audio_buffer.append\\\\\",\\\\n            audio: base64Audio\\\\n          }));\\\\n        } else if (isSpeaking) {\\\\n          if (!silenceStart) {\\\\n            silenceStart = currentTime;\\\\n          } else if (currentTime - silenceStart > SILENCE_DURATION) {\\\\n            console.log(\\\\\"Silence detected, committing audio buffer\\\\\");\\\\n            webSocket.send(JSON.stringify({\\\\n              type: \\\\\"input_audio_buffer.commit\\\\\"\\\\n            }));\\\\n            isSpeaking = false;\\\\n            silenceStart = null;\\\\n          }\\\\n        }\\\\n      }\\\\n    };\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error starting voice chat:\\\\\", error);\\\\n    isConnecting = false;\\\\n    alert(\\\\\"Failed to access microphone or connect to voice service. Please check your permissions.\\\\\");\\\\n  }\\\\n}\\\\nfunction convertFloat32ToPCM16(float32Array) {\\\\n  const pcm16 = new Int16Array(float32Array.length);\\\\n  for (let i = 0; i < float32Array.length; i++) {\\\\n    const s = Math.max(-1, Math.min(1, float32Array[i]));\\\\n    pcm16[i] = s < 0 ? s * 32768 : s * 32767;\\\\n  }\\\\n  return pcm16;\\\\n}\\\\nfunction arrayBufferToBase64(buffer) {\\\\n  let binary = \\\\\"\\\\\";\\\\n  const bytes = new Uint8Array(buffer.buffer);\\\\n  for (let i = 0; i < bytes.byteLength; i++) {\\\\n    binary += String.fromCharCode(bytes[i]);\\\\n  }\\\\n  return btoa(binary);\\\\n}\\\\nasync function playAudioChunk(base64Audio) {\\\\n  if (!audioContext) return;\\\\n  try {\\\\n    const binaryString = atob(base64Audio);\\\\n    const bytes = new Uint8Array(binaryString.length);\\\\n    for (let i = 0; i < binaryString.length; i++) {\\\\n      bytes[i] = binaryString.charCodeAt(i);\\\\n    }\\\\n    const pcm16 = new Int16Array(bytes.buffer);\\\\n    const float32 = new Float32Array(pcm16.length);\\\\n    for (let i = 0; i < pcm16.length; i++) {\\\\n      float32[i] = pcm16[i] / (pcm16[i] < 0 ? 32768 : 32767);\\\\n    }\\\\n    const audioBuffer = audioContext.createBuffer(1, float32.length, audioContext.sampleRate);\\\\n    audioBuffer.getChannelData(0).set(float32);\\\\n    const source = audioContext.createBufferSource();\\\\n    source.buffer = audioBuffer;\\\\n    source.connect(audioContext.destination);\\\\n    source.start();\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error playing audio chunk:\\\\\", error);\\\\n  }\\\\n}\\\\nfunction startTimer() {\\\\n  elapsedTime = 0;\\\\n  timerInterval = window.setInterval(() => {\\\\n    elapsedTime++;\\\\n  }, 1e3);\\\\n}\\\\nfunction stopTimer() {\\\\n  if (timerInterval) {\\\\n    clearInterval(timerInterval);\\\\n    timerInterval = null;\\\\n  }\\\\n  elapsedTime = 0;\\\\n}\\\\nfunction toggleMute() {\\\\n  isMuted = !isMuted;\\\\n  if (mediaStream) {\\\\n    mediaStream.getAudioTracks().forEach((track) => {\\\\n      track.enabled = !isMuted;\\\\n    });\\\\n  }\\\\n}\\\\nfunction hangup() {\\\\n  cleanup();\\\\n  onClose();\\\\n}\\\\nfunction cleanup() {\\\\n  stopTimer();\\\\n  if (webSocket) {\\\\n    webSocket.close();\\\\n    webSocket = null;\\\\n  }\\\\n  if (audioProcessor) {\\\\n    audioProcessor.disconnect();\\\\n    audioProcessor = null;\\\\n  }\\\\n  if (mediaStream) {\\\\n    mediaStream.getTracks().forEach((track) => track.stop());\\\\n    mediaStream = null;\\\\n  }\\\\n  if (audioContext) {\\\\n    audioContext.close();\\\\n    audioContext = null;\\\\n  }\\\\n  isConnected = false;\\\\n  isConnecting = false;\\\\n  isMuted = false;\\\\n  isProcessing = false;\\\\n  isSpeaking = false;\\\\n  silenceStart = null;\\\\n  conversationMessages = [];\\\\n}\\\\nfunction handleBackdropClick(event) {\\\\n  if (window.innerWidth < 768 && event.target === event.currentTarget) {\\\\n    hangup();\\\\n  }\\\\n}\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n{#if isOpen}\\\\r\\\\n\\\\t<!-- Mobile: Full screen overlay -->\\\\r\\\\n\\\\t<div \\\\r\\\\n\\\\t\\\\tclass=\\\\\"voice-chat-container mobile\\\\\"\\\\r\\\\n\\\\t\\\\ton:click={handleBackdropClick}\\\\r\\\\n\\\\t\\\\ttransition:fade={{ duration: 200 }}\\\\r\\\\n\\\\t\\\\trole=\\\\\"dialog\\\\\"\\\\r\\\\n\\\\t\\\\taria-label=\\\\\"Voice chat session\\\\\"\\\\r\\\\n\\\\t>\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"voice-chat-window mobile-window\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"voice-chat-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"status-indicator\\\\\" class:connected={isConnected} class:connecting={isConnecting}>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{isConnecting ? '\uD83D\uDD04' : isConnected ? '\uD83C\uDFA4' : '\u23F8\uFE0F'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"call-info\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"call-title\\\\\">AI Voice Assistant</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"call-status\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if isConnecting}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tConnecting...\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else if isConnected}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{formatTime(elapsedTime)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tDisconnected\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"voice-chat-body\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"avatar\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"avatar-pulse\\\\\" class:active={isConnected && !isMuted}></div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"avatar-icon\\\\\">\uD83E\uDD16</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"connection-status\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{#if isConnecting}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<p>Establishing connection...</p>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{:else if isConnected}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<p class:processing={isProcessing}>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{isProcessing ? 'AI is thinking...' : isSpeaking ? 'Listening...' : 'Ready to listen'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</p>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<p>Not connected</p>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if conversationMessages.length > 0}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"conversation-display\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#each conversationMessages as message}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"message {message.role}\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"role-badge\\\\\">{message.role === 'user' ? 'You' : 'AI'}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"message-text\\\\\">{message.text}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"voice-chat-controls\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"control-button mute-button\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:active={isMuted}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:click={toggleMute}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tdisabled={!isConnected}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ttitle={isMuted ? 'Unmute' : 'Mute'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{isMuted ? '\uD83D\uDD07' : '\uD83D\uDD0A'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"control-button hangup-button\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:click={hangup}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ttitle=\\\\\"Hang up\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\uD83D\uDCDE\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t<!-- Desktop: Bottom right floating window -->\\\\r\\\\n\\\\t<div \\\\r\\\\n\\\\t\\\\tclass=\\\\\"voice-chat-container desktop\\\\\"\\\\r\\\\n\\\\t\\\\ttransition:fly={{ y: 100, duration: 300 }}\\\\r\\\\n\\\\t\\\\trole=\\\\\"dialog\\\\\"\\\\r\\\\n\\\\t\\\\taria-label=\\\\\"Voice chat session\\\\\"\\\\r\\\\n\\\\t>\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"voice-chat-window desktop-window\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"voice-chat-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"status-indicator\\\\\" class:connected={isConnected} class:connecting={isConnecting}>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{isConnecting ? '\uD83D\uDD04' : isConnected ? '\uD83C\uDFA4' : '\u23F8\uFE0F'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"call-info\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"call-title\\\\\">AI Voice Assistant</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"call-status\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if isConnecting}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tConnecting...\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else if isConnected}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{formatTime(elapsedTime)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tDisconnected\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"voice-chat-body\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"avatar\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"avatar-pulse\\\\\" class:active={isConnected && !isMuted}></div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"avatar-icon\\\\\">\uD83E\uDD16</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"voice-chat-controls\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"control-button mute-button\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:active={isMuted}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:click={toggleMute}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tdisabled={!isConnected}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ttitle={isMuted ? 'Unmute' : 'Mute'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{isMuted ? '\uD83D\uDD07' : '\uD83D\uDD0A'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"control-button hangup-button\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:click={hangup}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ttitle=\\\\\"Hang up\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\uD83D\uDCDE\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t</div>\\\\r\\\\n{/if}\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t/* Mobile styles */\\\\r\\\\n\\\\t.voice-chat-container.mobile {\\\\r\\\\n\\\\t\\\\tposition: fixed;\\\\r\\\\n\\\\t\\\\ttop: 0;\\\\r\\\\n\\\\t\\\\tleft: 0;\\\\r\\\\n\\\\t\\\\tright: 0;\\\\r\\\\n\\\\t\\\\tbottom: 0;\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(0, 0, 0, 0.95);\\\\r\\\\n\\\\t\\\\tz-index: 10000;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.voice-chat-container.mobile .mobile-window {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tborder-radius: 0;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Desktop styles */\\\\r\\\\n\\\\t.voice-chat-container.desktop {\\\\r\\\\n\\\\t\\\\tposition: fixed;\\\\r\\\\n\\\\t\\\\tbottom: 2rem;\\\\r\\\\n\\\\t\\\\tright: 2rem;\\\\r\\\\n\\\\t\\\\tz-index: 10000;\\\\r\\\\n\\\\t\\\\tdisplay: none;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.voice-chat-window.desktop-window {\\\\r\\\\n\\\\t\\\\twidth: 320px;\\\\r\\\\n\\\\t\\\\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\\\r\\\\n\\\\t\\\\tborder-radius: 16px;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\tborder: 2px solid rgba(255, 255, 255, 0.1);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t@media (min-width: 768px) {\\\\r\\\\n\\\\t\\\\t.voice-chat-container.mobile {\\\\r\\\\n\\\\t\\\\t\\\\tdisplay: none;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.voice-chat-container.desktop {\\\\r\\\\n\\\\t\\\\t\\\\tdisplay: block;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.voice-chat-header {\\\\r\\\\n\\\\t\\\\tpadding: 1.25rem;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\tbackground: rgba(0, 0, 0, 0.2);\\\\r\\\\n\\\\t\\\\tbackdrop-filter: blur(10px);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.status-indicator {\\\\r\\\\n\\\\t\\\\twidth: 2.5rem;\\\\r\\\\n\\\\t\\\\theight: 2.5rem;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tbackground: rgba(255, 255, 255, 0.2);\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tfont-size: 1.25rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.status-indicator.connecting {\\\\r\\\\n\\\\t\\\\tanimation: pulse 1.5s ease-in-out infinite;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.status-indicator.connected {\\\\r\\\\n\\\\t\\\\tbackground: rgba(76, 175, 80, 0.3);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t@keyframes pulse {\\\\r\\\\n\\\\t\\\\t0%, 100% { transform: scale(1); opacity: 1; }\\\\r\\\\n\\\\t\\\\t50% { transform: scale(1.1); opacity: 0.8; }\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.call-info {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\tcolor: white;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.call-title {\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tfont-size: 1rem;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.25rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.call-status {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\topacity: 0.8;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.voice-chat-body {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tpadding: 2rem;\\\\r\\\\n\\\\t\\\\tmin-height: 200px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.avatar {\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\twidth: 120px;\\\\r\\\\n\\\\t\\\\theight: 120px;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.avatar-pulse {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\tinset: -10px;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tbackground: rgba(255, 255, 255, 0.3);\\\\r\\\\n\\\\t\\\\topacity: 0;\\\\r\\\\n\\\\t\\\\ttransition: opacity 0.3s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.avatar-pulse.active {\\\\r\\\\n\\\\t\\\\topacity: 1;\\\\r\\\\n\\\\t\\\\tanimation: ripple 2s ease-out infinite;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t@keyframes ripple {\\\\r\\\\n\\\\t\\\\t0% {\\\\r\\\\n\\\\t\\\\t\\\\ttransform: scale(0.8);\\\\r\\\\n\\\\t\\\\t\\\\topacity: 1;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t100% {\\\\r\\\\n\\\\t\\\\t\\\\ttransform: scale(1.4);\\\\r\\\\n\\\\t\\\\t\\\\topacity: 0;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.avatar-icon {\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tbackground: rgba(255, 255, 255, 0.2);\\\\r\\\\n\\\\t\\\\tbackdrop-filter: blur(10px);\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tfont-size: 4rem;\\\\r\\\\n\\\\t\\\\tborder: 3px solid rgba(255, 255, 255, 0.3);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.connection-status {\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t\\\\tcolor: white;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\topacity: 0.9;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.connection-status p.processing {\\\\r\\\\n\\\\t\\\\tanimation: pulse 1.5s ease-in-out infinite;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.conversation-display {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmax-height: 200px;\\\\r\\\\n\\\\t\\\\toverflow-y: auto;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\tbackground: rgba(0, 0, 0, 0.2);\\\\r\\\\n\\\\t\\\\tbackdrop-filter: blur(10px);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.message {\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.75rem;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tbackground: rgba(255, 255, 255, 0.1);\\\\r\\\\n\\\\t\\\\tcolor: white;\\\\r\\\\n\\\\t\\\\tfont-size: 0.8rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.message.user {\\\\r\\\\n\\\\t\\\\tbackground: rgba(103, 126, 234, 0.3);\\\\r\\\\n\\\\t\\\\tborder-left: 3px solid rgba(103, 126, 234, 0.8);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.message.assistant {\\\\r\\\\n\\\\t\\\\tbackground: rgba(118, 75, 162, 0.3);\\\\r\\\\n\\\\t\\\\tborder-left: 3px solid rgba(118, 75, 162, 0.8);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.role-badge {\\\\r\\\\n\\\\t\\\\tdisplay: inline-block;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t\\\\topacity: 0.8;\\\\r\\\\n\\\\t\\\\tmargin-right: 0.5rem;\\\\r\\\\n\\\\t\\\\ttext-transform: uppercase;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.message-text {\\\\r\\\\n\\\\t\\\\tdisplay: block;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.25rem;\\\\r\\\\n\\\\t\\\\tline-height: 1.4;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.voice-chat-controls {\\\\r\\\\n\\\\t\\\\tpadding: 1.5rem;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tbackground: rgba(0, 0, 0, 0.2);\\\\r\\\\n\\\\t\\\\tbackdrop-filter: blur(10px);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.control-button {\\\\r\\\\n\\\\t\\\\twidth: 60px;\\\\r\\\\n\\\\t\\\\theight: 60px;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tfont-size: 1.75rem;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tbackground: rgba(255, 255, 255, 0.2);\\\\r\\\\n\\\\t\\\\tbackdrop-filter: blur(10px);\\\\r\\\\n\\\\t\\\\tborder: 2px solid rgba(255, 255, 255, 0.3);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.control-button:hover:not(:disabled) {\\\\r\\\\n\\\\t\\\\ttransform: scale(1.1);\\\\r\\\\n\\\\t\\\\tbackground: rgba(255, 255, 255, 0.3);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.control-button:active:not(:disabled) {\\\\r\\\\n\\\\t\\\\ttransform: scale(0.95);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.control-button:disabled {\\\\r\\\\n\\\\t\\\\topacity: 0.5;\\\\r\\\\n\\\\t\\\\tcursor: not-allowed;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.mute-button.active {\\\\r\\\\n\\\\t\\\\tbackground: rgba(244, 67, 54, 0.3);\\\\r\\\\n\\\\t\\\\tborder-color: rgba(244, 67, 54, 0.5);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.hangup-button {\\\\r\\\\n\\\\t\\\\tbackground: rgba(244, 67, 54, 0.3);\\\\r\\\\n\\\\t\\\\tborder-color: rgba(244, 67, 54, 0.5);\\\\r\\\\n\\\\t\\\\ttransform: rotate(135deg);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.hangup-button:hover {\\\\r\\\\n\\\\t\\\\tbackground: rgba(244, 67, 54, 0.5);\\\\r\\\\n\\\\t\\\\ttransform: rotate(135deg) scale(1.1);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.hangup-button:active {\\\\r\\\\n\\\\t\\\\ttransform: rotate(135deg) scale(0.95);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t@media (min-width: 768px) {\\\\r\\\\n\\\\t\\\\t.voice-chat-body {\\\\r\\\\n\\\\t\\\\t\\\\tmin-height: auto;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.avatar {\\\\r\\\\n\\\\t\\\\t\\\\twidth: 100px;\\\\r\\\\n\\\\t\\\\t\\\\theight: 100px;\\\\r\\\\n\\\\t\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.avatar-icon {\\\\r\\\\n\\\\t\\\\t\\\\tfont-size: 3rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.connection-status {\\\\r\\\\n\\\\t\\\\t\\\\tdisplay: none;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"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\"}`\n};\nconst SILENCE_THRESHOLD = 0.01;\nconst SILENCE_DURATION = 1e3;\nfunction formatTime(seconds) {\n  const mins = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n}\nfunction convertFloat32ToPCM16(float32Array) {\n  const pcm16 = new Int16Array(float32Array.length);\n  for (let i = 0; i < float32Array.length; i++) {\n    const s = Math.max(-1, Math.min(1, float32Array[i]));\n    pcm16[i] = s < 0 ? s * 32768 : s * 32767;\n  }\n  return pcm16;\n}\nfunction arrayBufferToBase64(buffer) {\n  let binary = \"\";\n  const bytes = new Uint8Array(buffer.buffer);\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return btoa(binary);\n}\nconst VoiceChat = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { isOpen = false } = $$props;\n  let { onClose } = $$props;\n  let isConnected = false;\n  let isConnecting = false;\n  let isMuted = false;\n  let isProcessing = false;\n  let audioContext = null;\n  let mediaStream = null;\n  let webSocket = null;\n  let elapsedTime = 0;\n  let timerInterval = null;\n  let audioProcessor = null;\n  let isSpeaking = false;\n  let silenceStart = null;\n  let conversationMessages = [];\n  const CLOUDFLARE_REALTIME_URL = typeof window !== \"undefined\" ? `${window.location.protocol === \"https:\" ? \"wss:\" : \"ws:\"}//${window.location.host}/api/realtime` : \"ws://localhost:5173/api/realtime\";\n  onDestroy(() => {\n    cleanup();\n  });\n  async function startVoiceChat() {\n    try {\n      isConnecting = true;\n      mediaStream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true\n        }\n      });\n      audioContext = new AudioContext({ sampleRate: 16e3 });\n      const source = audioContext.createMediaStreamSource(mediaStream);\n      webSocket = new WebSocket(CLOUDFLARE_REALTIME_URL);\n      console.log(\"Attempting WebSocket connection to:\", CLOUDFLARE_REALTIME_URL);\n      webSocket.onopen = () => {\n        console.log(\"Connected to Cloudflare Realtime\");\n        isConnected = true;\n        isConnecting = false;\n        startTimer();\n        if (webSocket) {\n          webSocket.send(JSON.stringify({\n            type: \"session.update\",\n            session: {\n              modalities: [\"text\", \"audio\"],\n              instructions: \"You are a helpful AI assistant in a voice conversation.\",\n              voice: \"alloy\",\n              input_audio_format: \"pcm16\",\n              output_audio_format: \"pcm16\",\n              turn_detection: {\n                type: \"server_vad\",\n                threshold: 0.5,\n                prefix_padding_ms: 300,\n                silence_duration_ms: 500\n              }\n            }\n          }));\n        }\n      };\n      webSocket.onmessage = async (event) => {\n        try {\n          const message = JSON.parse(event.data);\n          console.log(\"Received message:\", message.type);\n          if (message.type === \"session.created\") {\n            console.log(\"Session created successfully\");\n          }\n          if (message.type === \"input_audio_buffer.committed\") {\n            console.log(\"Audio buffer committed, AI processing...\");\n            isProcessing = true;\n          }\n          if (message.type === \"conversation.item.created\" && message.item?.role === \"user\") {\n            const text = message.item.content?.[0]?.text || \"\";\n            if (text) {\n              conversationMessages = [...conversationMessages, { role: \"user\", text }];\n            }\n          }\n          if (message.type === \"response.text.delta\" && message.delta) {\n            conversationMessages = [...conversationMessages, { role: \"assistant\", text: message.delta }];\n          }\n          if (message.type === \"response.audio.delta\" && message.delta) {\n            await playAudioChunk(message.delta);\n          }\n          if (message.type === \"response.audio.done\") {\n            console.log(\"AI response complete\");\n            isProcessing = false;\n          }\n          if (message.type === \"error\") {\n            console.error(\"Cloudflare Realtime error:\", message.error);\n            isProcessing = false;\n          }\n        } catch (error) {\n          console.error(\"Error processing message:\", error);\n        }\n      };\n      webSocket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n        console.error(\"WebSocket URL was:\", CLOUDFLARE_REALTIME_URL);\n        isConnecting = false;\n        isConnected = false;\n      };\n      webSocket.onclose = (event) => {\n        console.log(\"Disconnected from Cloudflare Realtime\");\n        console.log(\"Close code:\", event.code, \"Reason:\", event.reason);\n        isConnected = false;\n        isConnecting = false;\n        stopTimer();\n        if (event.code === 1006) {\n          alert(\"WebSocket connection failed. This feature requires deployment to Cloudflare Pages to work. WebSockets are not supported in local development.\");\n        }\n      };\n      audioProcessor = audioContext.createScriptProcessor(4096, 1, 1);\n      source.connect(audioProcessor);\n      audioProcessor.connect(audioContext.destination);\n      audioProcessor.onaudioprocess = (e) => {\n        if (!isMuted && webSocket && webSocket.readyState === WebSocket.OPEN) {\n          const inputData = e.inputBuffer.getChannelData(0);\n          const rms = Math.sqrt(inputData.reduce((sum, val) => sum + val * val, 0) / inputData.length);\n          const currentTime = Date.now();\n          if (rms > SILENCE_THRESHOLD) {\n            if (!isSpeaking) {\n              console.log(\"Speech detected, starting audio buffer\");\n              isSpeaking = true;\n            }\n            silenceStart = null;\n            const pcm16 = convertFloat32ToPCM16(inputData);\n            const base64Audio = arrayBufferToBase64(pcm16);\n            webSocket.send(JSON.stringify({\n              type: \"input_audio_buffer.append\",\n              audio: base64Audio\n            }));\n          } else if (isSpeaking) {\n            if (!silenceStart) {\n              silenceStart = currentTime;\n            } else if (currentTime - silenceStart > SILENCE_DURATION) {\n              console.log(\"Silence detected, committing audio buffer\");\n              webSocket.send(JSON.stringify({ type: \"input_audio_buffer.commit\" }));\n              isSpeaking = false;\n              silenceStart = null;\n            }\n          }\n        }\n      };\n    } catch (error) {\n      console.error(\"Error starting voice chat:\", error);\n      isConnecting = false;\n      alert(\"Failed to access microphone or connect to voice service. Please check your permissions.\");\n    }\n  }\n  async function playAudioChunk(base64Audio) {\n    if (!audioContext) return;\n    try {\n      const binaryString = atob(base64Audio);\n      const bytes = new Uint8Array(binaryString.length);\n      for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n      }\n      const pcm16 = new Int16Array(bytes.buffer);\n      const float32 = new Float32Array(pcm16.length);\n      for (let i = 0; i < pcm16.length; i++) {\n        float32[i] = pcm16[i] / (pcm16[i] < 0 ? 32768 : 32767);\n      }\n      const audioBuffer = audioContext.createBuffer(1, float32.length, audioContext.sampleRate);\n      audioBuffer.getChannelData(0).set(float32);\n      const source = audioContext.createBufferSource();\n      source.buffer = audioBuffer;\n      source.connect(audioContext.destination);\n      source.start();\n    } catch (error) {\n      console.error(\"Error playing audio chunk:\", error);\n    }\n  }\n  function startTimer() {\n    elapsedTime = 0;\n    timerInterval = window.setInterval(\n      () => {\n        elapsedTime++;\n      },\n      1e3\n    );\n  }\n  function stopTimer() {\n    if (timerInterval) {\n      clearInterval(timerInterval);\n      timerInterval = null;\n    }\n    elapsedTime = 0;\n  }\n  function cleanup() {\n    stopTimer();\n    if (webSocket) {\n      webSocket.close();\n      webSocket = null;\n    }\n    if (audioProcessor) {\n      audioProcessor.disconnect();\n      audioProcessor = null;\n    }\n    if (mediaStream) {\n      mediaStream.getTracks().forEach((track) => track.stop());\n      mediaStream = null;\n    }\n    if (audioContext) {\n      audioContext.close();\n      audioContext = null;\n    }\n    isConnected = false;\n    isConnecting = false;\n    isMuted = false;\n    isProcessing = false;\n    isSpeaking = false;\n    silenceStart = null;\n    conversationMessages = [];\n  }\n  if ($$props.isOpen === void 0 && $$bindings.isOpen && isOpen !== void 0) $$bindings.isOpen(isOpen);\n  if ($$props.onClose === void 0 && $$bindings.onClose && onClose !== void 0) $$bindings.onClose(onClose);\n  $$result.css.add(css$1);\n  {\n    if (isOpen && !isConnected && !isConnecting) {\n      startVoiceChat();\n    }\n  }\n  {\n    if (!isOpen) {\n      cleanup();\n    }\n  }\n  return `${isOpen ? ` <div class=\"voice-chat-container mobile svelte-4xvwue\" role=\"dialog\" aria-label=\"Voice chat session\"><div class=\"voice-chat-window mobile-window svelte-4xvwue\"><div class=\"voice-chat-header svelte-4xvwue\"><div class=\"${[\n    \"status-indicator svelte-4xvwue\",\n    (isConnected ? \"connected\" : \"\") + \" \" + (isConnecting ? \"connecting\" : \"\")\n  ].join(\" \").trim()}\">${escape(isConnecting ? \"\uD83D\uDD04\" : isConnected ? \"\uD83C\uDFA4\" : \"\u23F8\uFE0F\")}</div> <div class=\"call-info svelte-4xvwue\"><div class=\"call-title svelte-4xvwue\" data-svelte-h=\"svelte-1jo4iak\">AI Voice Assistant</div> <div class=\"call-status svelte-4xvwue\">${isConnecting ? `Connecting...` : `${isConnected ? `${escape(formatTime(elapsedTime))}` : `Disconnected`}`}</div></div></div> <div class=\"voice-chat-body svelte-4xvwue\"><div class=\"avatar svelte-4xvwue\"><div class=\"${[\"avatar-pulse svelte-4xvwue\", isConnected && !isMuted ? \"active\" : \"\"].join(\" \").trim()}\"></div> <div class=\"avatar-icon svelte-4xvwue\" data-svelte-h=\"svelte-189i2yi\">\uD83E\uDD16</div></div> <div class=\"connection-status svelte-4xvwue\">${isConnecting ? `<p data-svelte-h=\"svelte-1thjg7l\">Establishing connection...</p>` : `${isConnected ? `<p class=\"${[\"svelte-4xvwue\", isProcessing ? \"processing\" : \"\"].join(\" \").trim()}\">${escape(isProcessing ? \"AI is thinking...\" : isSpeaking ? \"Listening...\" : \"Ready to listen\")}</p>` : `<p data-svelte-h=\"svelte-1cfn932\">Not connected</p>`}`}</div> ${conversationMessages.length > 0 ? `<div class=\"conversation-display svelte-4xvwue\">${each(conversationMessages, (message) => {\n    return `<div class=\"${\"message \" + escape(message.role, true) + \" svelte-4xvwue\"}\"><span class=\"role-badge svelte-4xvwue\">${escape(message.role === \"user\" ? \"You\" : \"AI\")}</span> <span class=\"message-text svelte-4xvwue\">${escape(message.text)}</span> </div>`;\n  })}</div>` : ``}</div> <div class=\"voice-chat-controls svelte-4xvwue\"><button class=\"${[\"control-button mute-button svelte-4xvwue\", isMuted ? \"active\" : \"\"].join(\" \").trim()}\" ${!isConnected ? \"disabled\" : \"\"}${add_attribute(\"title\", isMuted ? \"Unmute\" : \"Mute\", 0)}>${escape(isMuted ? \"\uD83D\uDD07\" : \"\uD83D\uDD0A\")}</button> <button class=\"control-button hangup-button svelte-4xvwue\" title=\"Hang up\" data-svelte-h=\"svelte-177xim3\">\uD83D\uDCDE</button></div></div></div>  <div class=\"voice-chat-container desktop svelte-4xvwue\" role=\"dialog\" aria-label=\"Voice chat session\"><div class=\"voice-chat-window desktop-window svelte-4xvwue\"><div class=\"voice-chat-header svelte-4xvwue\"><div class=\"${[\n    \"status-indicator svelte-4xvwue\",\n    (isConnected ? \"connected\" : \"\") + \" \" + (isConnecting ? \"connecting\" : \"\")\n  ].join(\" \").trim()}\">${escape(isConnecting ? \"\uD83D\uDD04\" : isConnected ? \"\uD83C\uDFA4\" : \"\u23F8\uFE0F\")}</div> <div class=\"call-info svelte-4xvwue\"><div class=\"call-title svelte-4xvwue\" data-svelte-h=\"svelte-1jo4iak\">AI Voice Assistant</div> <div class=\"call-status svelte-4xvwue\">${isConnecting ? `Connecting...` : `${isConnected ? `${escape(formatTime(elapsedTime))}` : `Disconnected`}`}</div></div></div> <div class=\"voice-chat-body svelte-4xvwue\"><div class=\"avatar svelte-4xvwue\"><div class=\"${[\"avatar-pulse svelte-4xvwue\", isConnected && !isMuted ? \"active\" : \"\"].join(\" \").trim()}\"></div> <div class=\"avatar-icon svelte-4xvwue\" data-svelte-h=\"svelte-189i2yi\">\uD83E\uDD16</div></div></div> <div class=\"voice-chat-controls svelte-4xvwue\"><button class=\"${[\"control-button mute-button svelte-4xvwue\", isMuted ? \"active\" : \"\"].join(\" \").trim()}\" ${!isConnected ? \"disabled\" : \"\"}${add_attribute(\"title\", isMuted ? \"Unmute\" : \"Mute\", 0)}>${escape(isMuted ? \"\uD83D\uDD07\" : \"\uD83D\uDD0A\")}</button> <button class=\"control-button hangup-button svelte-4xvwue\" title=\"Hang up\" data-svelte-h=\"svelte-177xim3\">\uD83D\uDCDE</button></div></div></div>` : ``}`;\n});\nconst css = {\n  code: \".app.svelte-3whlfw.svelte-3whlfw{display:flex;flex-direction:column;min-height:100vh}header.svelte-3whlfw.svelte-3whlfw{background-color:var(--surface);padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border)}h1.svelte-3whlfw.svelte-3whlfw{font-size:1.5rem;font-weight:600}nav.svelte-3whlfw.svelte-3whlfw{display:flex;gap:1rem;align-items:center}nav.svelte-3whlfw span.svelte-3whlfw{color:var(--text-secondary)}button.svelte-3whlfw.svelte-3whlfw{background-color:var(--primary-color);color:white;border:none;padding:0.5rem 1rem;border-radius:0.25rem;cursor:pointer;font-size:0.875rem;transition:background-color 0.2s, opacity 0.2s}button.svelte-3whlfw.svelte-3whlfw:hover{background-color:var(--primary-color-hover)}.command-palette-button.svelte-3whlfw.svelte-3whlfw{background-color:var(--primary-color);color:white;border:none;padding:0.5rem 0.75rem;font-size:1.25rem;line-height:1;transition:background-color 0.2s, transform 0.2s}.command-palette-button.svelte-3whlfw.svelte-3whlfw:hover{background-color:var(--primary-color-hover);transform:scale(1.05)}.theme-toggle.svelte-3whlfw.svelte-3whlfw{background-color:transparent;border:1px solid var(--border);padding:0.5rem 0.75rem;font-size:1.25rem;line-height:1;transition:background-color 0.2s, border-color 0.2s}.theme-toggle.svelte-3whlfw.svelte-3whlfw:hover{background-color:var(--surface-variant);border-color:var(--primary-color)}main.svelte-3whlfw.svelte-3whlfw{flex:1;padding:2rem;width:100%;max-width:1400px;margin:0 auto}\",\n  map: `{\"version\":3,\"file\":\"+layout.svelte\",\"sources\":[\"+layout.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import \\\\\"../app.css\\\\\";\\\\nimport { theme } from \\\\\"$lib/stores/theme\\\\\";\\\\nimport { voiceChat } from \\\\\"$lib/stores/voiceChat\\\\\";\\\\nimport CommandPalette from \\\\\"$lib/components/CommandPalette.svelte\\\\\";\\\\nimport VoiceChat from \\\\\"$lib/components/VoiceChat.svelte\\\\\";\\\\nimport { onMount } from \\\\\"svelte\\\\\";\\\\nexport let data;\\\\nlet currentTheme = \\\\\"auto\\\\\";\\\\nlet commandPaletteOpen = false;\\\\nlet voiceChatOpen = false;\\\\nonMount(() => {\\\\n  theme.initialize();\\\\n  const unsubscribeTheme = theme.subscribe((t) => {\\\\n    currentTheme = t;\\\\n  });\\\\n  const unsubscribeVoiceChat = voiceChat.subscribe((isOpen) => {\\\\n    voiceChatOpen = isOpen;\\\\n  });\\\\n  function handleGlobalKeyDown(event) {\\\\n    if (event.key === \\\\\"Escape\\\\\") {\\\\n      if (!commandPaletteOpen) {\\\\n        event.preventDefault();\\\\n        commandPaletteOpen = true;\\\\n      }\\\\n    }\\\\n  }\\\\n  window.addEventListener(\\\\\"keydown\\\\\", handleGlobalKeyDown);\\\\n  return () => {\\\\n    unsubscribeTheme();\\\\n    unsubscribeVoiceChat();\\\\n    window.removeEventListener(\\\\\"keydown\\\\\", handleGlobalKeyDown);\\\\n  };\\\\n});\\\\nfunction toggleTheme() {\\\\n  if (currentTheme === \\\\\"light\\\\\") {\\\\n    theme.setTheme(\\\\\"dark\\\\\");\\\\n  } else if (currentTheme === \\\\\"dark\\\\\") {\\\\n    theme.setTheme(\\\\\"auto\\\\\");\\\\n  } else {\\\\n    theme.setTheme(\\\\\"light\\\\\");\\\\n  }\\\\n}\\\\nfunction getThemeIcon() {\\\\n  if (currentTheme === \\\\\"light\\\\\") return \\\\\"\\\\\\\\u2600\\\\\\\\uFE0F\\\\\";\\\\n  if (currentTheme === \\\\\"dark\\\\\") return \\\\\"\\\\\\\\u{1F319}\\\\\";\\\\n  return \\\\\"\\\\\\\\u{1F313}\\\\\";\\\\n}\\\\nfunction handleCommandPaletteClose() {\\\\n  commandPaletteOpen = false;\\\\n}\\\\nfunction openCommandPalette() {\\\\n  commandPaletteOpen = true;\\\\n}\\\\nfunction handleVoiceChatClose() {\\\\n  voiceChat.close();\\\\n}\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<CommandPalette isOpen={commandPaletteOpen} onClose={handleCommandPaletteClose} />\\\\r\\\\n<VoiceChat isOpen={voiceChatOpen} onClose={handleVoiceChatClose} />\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"app\\\\\">\\\\r\\\\n\\\\t<header>\\\\r\\\\n\\\\t\\\\t<h1>Dashboard</h1>\\\\r\\\\n\\\\t\\\\t<nav>\\\\r\\\\n\\\\t\\\\t\\\\t<button class=\\\\\"command-palette-button\\\\\" on:click={openCommandPalette} title=\\\\\"Command Palette (ESC)\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\u2318\\\\r\\\\n\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t<button class=\\\\\"theme-toggle\\\\\" on:click={toggleTheme} title=\\\\\"Toggle theme\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{getThemeIcon()}\\\\r\\\\n\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t{#if data.user}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span>Welcome, {data.user.login || data.user.name || 'User'}!</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<form method=\\\\\"POST\\\\\" action=\\\\\"/auth/signout\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<button type=\\\\\"submit\\\\\">Sign Out</button>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</form>\\\\r\\\\n\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<form method=\\\\\"POST\\\\\" action=\\\\\"/auth/signin/github\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<button type=\\\\\"submit\\\\\">Sign in with GitHub</button>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</form>\\\\r\\\\n\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t</nav>\\\\r\\\\n\\\\t</header>\\\\r\\\\n\\\\r\\\\n\\\\t<main>\\\\r\\\\n\\\\t\\\\t<slot />\\\\r\\\\n\\\\t</main>\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.app {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tmin-height: 100vh;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\theader {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface);\\\\r\\\\n\\\\t\\\\tpadding: 1rem 2rem;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tborder-bottom: 1px solid var(--border);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\th1 {\\\\r\\\\n\\\\t\\\\tfont-size: 1.5rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tnav {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tnav span {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tbutton {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-color);\\\\r\\\\n\\\\t\\\\tcolor: white;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem 1rem;\\\\r\\\\n\\\\t\\\\tborder-radius: 0.25rem;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\ttransition: background-color 0.2s, opacity 0.2s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tbutton:hover {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-color-hover);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-palette-button {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-color);\\\\r\\\\n\\\\t\\\\tcolor: white;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem 0.75rem;\\\\r\\\\n\\\\t\\\\tfont-size: 1.25rem;\\\\r\\\\n\\\\t\\\\tline-height: 1;\\\\r\\\\n\\\\t\\\\ttransition: background-color 0.2s, transform 0.2s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.command-palette-button:hover {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-color-hover);\\\\r\\\\n\\\\t\\\\ttransform: scale(1.05);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.theme-toggle {\\\\r\\\\n\\\\t\\\\tbackground-color: transparent;\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem 0.75rem;\\\\r\\\\n\\\\t\\\\tfont-size: 1.25rem;\\\\r\\\\n\\\\t\\\\tline-height: 1;\\\\r\\\\n\\\\t\\\\ttransition: background-color 0.2s, border-color 0.2s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.theme-toggle:hover {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder-color: var(--primary-color);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tmain {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\tpadding: 2rem;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmax-width: 1400px;\\\\r\\\\n\\\\t\\\\tmargin: 0 auto;\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"AA0FC,gCAAK,CACJ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,UAAU,CAAE,KACb,CAEA,kCAAO,CACN,gBAAgB,CAAE,IAAI,SAAS,CAAC,CAChC,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CACtC,CAEA,8BAAG,CACF,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GACd,CAEA,+BAAI,CACH,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,WAAW,CAAE,MACd,CAEA,iBAAG,CAAC,kBAAK,CACR,KAAK,CAAE,IAAI,gBAAgB,CAC5B,CAEA,kCAAO,CACN,gBAAgB,CAAE,IAAI,eAAe,CAAC,CACtC,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,MAAM,CAAC,IAAI,CACpB,aAAa,CAAE,OAAO,CACtB,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,QAAQ,CACnB,UAAU,CAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAC5C,CAEA,kCAAM,MAAO,CACZ,gBAAgB,CAAE,IAAI,qBAAqB,CAC5C,CAEA,mDAAwB,CACvB,gBAAgB,CAAE,IAAI,eAAe,CAAC,CACtC,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,MAAM,CAAC,OAAO,CACvB,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,CAAC,CACd,UAAU,CAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,IAC9C,CAEA,mDAAuB,MAAO,CAC7B,gBAAgB,CAAE,IAAI,qBAAqB,CAAC,CAC5C,SAAS,CAAE,MAAM,IAAI,CACtB,CAEA,yCAAc,CACb,gBAAgB,CAAE,WAAW,CAC7B,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAC/B,OAAO,CAAE,MAAM,CAAC,OAAO,CACvB,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,CAAC,CACd,UAAU,CAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,IACjD,CAEA,yCAAa,MAAO,CACnB,gBAAgB,CAAE,IAAI,iBAAiB,CAAC,CACxC,YAAY,CAAE,IAAI,eAAe,CAClC,CAEA,gCAAK,CACJ,IAAI,CAAE,CAAC,CACP,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CAAC,CAAC,IACX\"}`\n};\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  let commandPaletteOpen = false;\n  let voiceChatOpen = false;\n  function getThemeIcon() {\n    return \"\uD83C\uDF13\";\n  }\n  function handleCommandPaletteClose() {\n    commandPaletteOpen = false;\n  }\n  function handleVoiceChatClose() {\n    voiceChat.close();\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  $$result.css.add(css);\n  return `${validate_component(CommandPalette, \"CommandPalette\").$$render(\n    $$result,\n    {\n      isOpen: commandPaletteOpen,\n      onClose: handleCommandPaletteClose\n    },\n    {},\n    {}\n  )} ${validate_component(VoiceChat, \"VoiceChat\").$$render(\n    $$result,\n    {\n      isOpen: voiceChatOpen,\n      onClose: handleVoiceChatClose\n    },\n    {},\n    {}\n  )} <div class=\"app svelte-3whlfw\"><header class=\"svelte-3whlfw\"><h1 class=\"svelte-3whlfw\" data-svelte-h=\"svelte-101alym\">Dashboard</h1> <nav class=\"svelte-3whlfw\"><button class=\"command-palette-button svelte-3whlfw\" title=\"Command Palette (ESC)\" data-svelte-h=\"svelte-1uqgegf\">\u2318</button> <button class=\"theme-toggle svelte-3whlfw\" title=\"Toggle theme\">${escape(getThemeIcon())}</button> ${data.user ? `<span class=\"svelte-3whlfw\">Welcome, ${escape(data.user.login || data.user.name || \"User\")}!</span> <form method=\"POST\" action=\"/auth/signout\" data-svelte-h=\"svelte-1gvcur4\"><button type=\"submit\" class=\"svelte-3whlfw\">Sign Out</button></form>` : `<form method=\"POST\" action=\"/auth/signin/github\" data-svelte-h=\"svelte-1uicra7\"><button type=\"submit\" class=\"svelte-3whlfw\">Sign in with GitHub</button></form>`}</nav></header> <main class=\"svelte-3whlfw\">${slots.default ? slots.default({}) : ``}</main> </div>`;\n});\nexport {\n  Layout as default\n};\n", "import * as server from '../entries/pages/_layout.server.ts.js';\n\nexport const index = 0;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_layout.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+layout.server.ts\";\nexport const imports = [\"_app/immutable/nodes/0.CNwZ5BR6.js\",\"_app/immutable/chunks/qwSh76ll.js\",\"_app/immutable/chunks/IHki7fMi.js\",\"_app/immutable/chunks/Cy1WYuK-.js\",\"_app/immutable/chunks/DLCh3GBu.js\"];\nexport const stylesheets = [\"_app/immutable/assets/0.BGpeHqre.css\"];\nexport const fonts = [];\n", "import { o as onMount } from \"./ssr2.js\";\nimport \"@sveltejs/kit/internal/server\";\nconst is_legacy = onMount.toString().includes(\"$$\") || /function \\w+\\(\\) \\{\\}/.test(onMount.toString());\nif (is_legacy) {\n  ({\n    data: {},\n    form: null,\n    error: null,\n    params: {},\n    route: { id: null },\n    state: {},\n    status: -1,\n    url: new URL(\"https://example.com\")\n  });\n}\n", "import { g as getContext, c as create_ssr_component, d as subscribe, b as escape } from \"../../chunks/ssr.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../chunks/exports.js\";\nimport \"../../chunks/utils.js\";\nimport \"@sveltejs/kit/internal/server\";\nimport \"../../chunks/state.svelte.js\";\nconst getStores = () => {\n  const stores = getContext(\"__svelte__\");\n  return {\n    /** @type {typeof page} */\n    page: {\n      subscribe: stores.page.subscribe\n    },\n    /** @type {typeof navigating} */\n    navigating: {\n      subscribe: stores.navigating.subscribe\n    },\n    /** @type {typeof updated} */\n    updated: stores.updated\n  };\n};\nconst page = {\n  subscribe(fn) {\n    const store = getStores().page;\n    return store.subscribe(fn);\n  }\n};\nconst Error$1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  $$unsubscribe_page();\n  return `<h1>${escape($page.status)}</h1> <p>${escape($page.error?.message)}</p>`;\n});\nexport {\n  Error$1 as default\n};\n", "\n\nexport const index = 1;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/fallbacks/error.svelte.js')).default;\nexport const imports = [\"_app/immutable/nodes/1.BMlnRFKL.js\",\"_app/immutable/chunks/qwSh76ll.js\",\"_app/immutable/chunks/IHki7fMi.js\",\"_app/immutable/chunks/DvXU5mgi.js\",\"_app/immutable/chunks/Q07G5V9A.js\",\"_app/immutable/chunks/DLCh3GBu.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "const load = async ({ locals, fetch }) => {\n  const session = await locals.getSession();\n  console.log(\"[DEBUG] Session exists:\", !!session);\n  console.log(\"[DEBUG] User exists:\", !!session?.user);\n  console.log(\"[DEBUG] User login:\", session?.user?.login);\n  if (!session?.user) {\n    console.log(\"[DEBUG] No user in session, returning empty\");\n    return {\n      user: null,\n      githubProjects: [],\n      organizationProjects: [],\n      allGithubProjects: []\n    };\n  }\n  try {\n    const accessToken = session.accessToken;\n    console.log(\"[DEBUG] Access token exists:\", !!accessToken);\n    console.log(\"[DEBUG] Access token length:\", accessToken?.length);\n    if (!accessToken) {\n      console.error(\"[ERROR] No access token in session!\");\n      return {\n        user: session.user,\n        githubProjects: [],\n        organizationProjects: [],\n        allGithubProjects: []\n      };\n    }\n    const headers = {\n      Accept: \"application/vnd.github.v3+json\",\n      Authorization: `token ${accessToken}`,\n      \"User-Agent\": \"Dashboard-App\"\n    };\n    const orgsResponse = await fetch(\"https://api.github.com/user/orgs\", { headers });\n    let organizationProjects = [];\n    if (orgsResponse.ok) {\n      const organizations = await orgsResponse.json();\n      const orgProjectsPromises = organizations.map(async (org) => {\n        try {\n          const reposResponse = await fetch(\n            `https://api.github.com/orgs/${org.login}/repos?sort=updated&per_page=20`,\n            { headers }\n          );\n          if (reposResponse.ok) {\n            const repositories = await reposResponse.json();\n            return {\n              organization: org,\n              repositories\n            };\n          }\n        } catch (error) {\n          console.error(`Failed to fetch repos for org ${org.login}:`, error);\n        }\n        return {\n          organization: org,\n          repositories: []\n        };\n      });\n      organizationProjects = await Promise.all(orgProjectsPromises);\n    }\n    const userReposResponse = await fetch(\"https://api.github.com/user/repos?sort=updated&per_page=10\", {\n      headers\n    });\n    let githubProjects = [];\n    if (userReposResponse.ok) {\n      githubProjects = await userReposResponse.json();\n    }\n    const allGithubProjects = [];\n    const projectsQuery = `\n\t\t\tquery {\n\t\t\t\tviewer {\n\t\t\t\t\tprojectsV2(first: 20, orderBy: {field: UPDATED_AT, direction: DESC}) {\n\t\t\t\t\t\tnodes {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tnumber\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\tshortDescription\n\t\t\t\t\t\t\tpublic\n\t\t\t\t\t\t\tclosed\n\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t\towner {\n\t\t\t\t\t\t\t\t... on User {\n\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t... on Organization {\n\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\torganizations(first: 50) {\n\t\t\t\t\t\tnodes {\n\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\tprojectsV2(first: 20, orderBy: {field: UPDATED_AT, direction: DESC}) {\n\t\t\t\t\t\t\t\tnodes {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tnumber\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\tshortDescription\n\t\t\t\t\t\t\t\t\tpublic\n\t\t\t\t\t\t\t\t\tclosed\n\t\t\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t\t\t\towner {\n\t\t\t\t\t\t\t\t\t\t... on Organization {\n\t\t\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t`;\n    try {\n      console.log(\"[DEBUG] Fetching GitHub Projects via GraphQL...\");\n      const graphqlResponse = await fetch(\"https://api.github.com/graphql\", {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${accessToken}`,\n          \"Content-Type\": \"application/json\",\n          \"User-Agent\": \"Dashboard-App\"\n        },\n        body: JSON.stringify({ query: projectsQuery })\n      });\n      console.log(\"[DEBUG] GraphQL Response Status:\", graphqlResponse.status);\n      console.log(\"[DEBUG] GraphQL Response OK:\", graphqlResponse.ok);\n      if (graphqlResponse.ok) {\n        const result = await graphqlResponse.json();\n        console.log(\"[DEBUG] GraphQL Response:\", JSON.stringify(result, null, 2));\n        if (result.errors) {\n          console.error(\"GraphQL Errors:\", result.errors);\n        }\n        if (result.data?.viewer?.projectsV2?.nodes) {\n          const userProjects = result.data.viewer.projectsV2.nodes.map((project) => ({\n            id: project.id,\n            number: project.number,\n            title: project.title,\n            url: project.url,\n            shortDescription: project.shortDescription,\n            public: project.public,\n            closed: project.closed,\n            ownerType: \"User\",\n            ownerLogin: project.owner?.login || \"Unknown\",\n            ownerAvatarUrl: project.owner?.avatarUrl,\n            updatedAt: project.updatedAt\n          }));\n          console.log(\"User Projects:\", userProjects);\n          allGithubProjects.push(...userProjects);\n        }\n        if (result.data?.viewer?.organizations?.nodes) {\n          for (const org of result.data.viewer.organizations.nodes) {\n            if (org.projectsV2?.nodes) {\n              const orgProjects = org.projectsV2.nodes.map((project) => ({\n                id: project.id,\n                number: project.number,\n                title: project.title,\n                url: project.url,\n                shortDescription: project.shortDescription,\n                public: project.public,\n                closed: project.closed,\n                ownerType: \"Organization\",\n                ownerLogin: project.owner?.login || org.login,\n                ownerAvatarUrl: project.owner?.avatarUrl,\n                updatedAt: project.updatedAt\n              }));\n              console.log(`Org (${org.login}) Projects:`, orgProjects);\n              allGithubProjects.push(...orgProjects);\n            }\n          }\n        }\n        console.log(\"[DEBUG] Total GitHub Projects found:\", allGithubProjects.length);\n      } else {\n        const errorText = await graphqlResponse.text();\n        console.error(\"[ERROR] GraphQL Response not OK:\", graphqlResponse.status, errorText);\n      }\n    } catch (error) {\n      console.error(\"[ERROR] Failed to fetch GitHub Projects:\", error);\n      if (error instanceof Error) {\n        console.error(\"[ERROR] Error message:\", error.message);\n        console.error(\"[ERROR] Error stack:\", error.stack);\n      }\n    }\n    return {\n      user: session.user,\n      githubProjects,\n      organizationProjects,\n      allGithubProjects\n    };\n  } catch (error) {\n    console.error(\"Failed to fetch GitHub data:\", error);\n  }\n  return {\n    user: session?.user || null,\n    githubProjects: [],\n    organizationProjects: [],\n    allGithubProjects: []\n  };\n};\nexport {\n  load\n};\n", "import { c as create_ssr_component, a as add_attribute, o as onDestroy, b as escape, e as each, f as createEventDispatcher, d as subscribe, v as validate_component, m as missing_component } from \"../../chunks/ssr.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../chunks/exports.js\";\nimport \"../../chunks/utils.js\";\nimport \"@sveltejs/kit/internal/server\";\nimport \"../../chunks/state.svelte.js\";\nimport \"../../chunks/theme.js\";\nimport { w as writable } from \"../../chunks/index.js\";\nconst css$8 = {\n  code: `.weather-widget.svelte-dc2hjj.svelte-dc2hjj{display:flex;flex-direction:column;align-items:center;gap:1.5rem;padding:2rem;min-height:400px;position:relative}.celestial-container.svelte-dc2hjj.svelte-dc2hjj{position:relative;width:var(--earth-size, 320px);height:var(--earth-size, 320px);flex-shrink:0;padding:40px;box-sizing:content-box;opacity:0;transition:opacity 0.8s ease-in-out}.celestial-container.loaded.svelte-dc2hjj.svelte-dc2hjj{opacity:1}.earth.svelte-dc2hjj.svelte-dc2hjj{position:relative;width:var(--earth-size, 320px);height:var(--earth-size, 320px);border-radius:50%;box-shadow:0 8px 32px var(--shadow);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:background 1s ease, color 1s ease;overflow:hidden;flex-shrink:0;aspect-ratio:1 / 1}.sun.svelte-dc2hjj.svelte-dc2hjj,.moon.svelte-dc2hjj.svelte-dc2hjj{position:absolute;width:calc(var(--earth-size, 320px) * 0.1875);height:calc(var(--earth-size, 320px) * 0.1875);border-radius:50%;transition:all 0.3s ease;z-index:0}.sun.svelte-dc2hjj.svelte-dc2hjj{transform:translate(-50%, -50%);background:radial-gradient(circle, #ff9d5c 0%, #e8754a 100%);box-shadow:0 0 30px rgba(255, 157, 92, 0.6)}.moon.svelte-dc2hjj.svelte-dc2hjj{background:radial-gradient(circle, #f5e6d3 0%, #d4c5b0 100%);box-shadow:0 0 20px rgba(245, 230, 211, 0.4);overflow:hidden}.moon-surface.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50%;background:radial-gradient(circle, #f5e6d3 0%, #d4c5b0 100%);z-index:1}.moon-shadow.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50%;background:radial-gradient(circle, rgba(20, 15, 25, 0.95) 0%, rgba(40, 35, 45, 0.9) 100%);z-index:2;transition:transform 0.3s ease, opacity 0.3s ease}.moon-crescent.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:5px;right:8px;width:30px;height:30px;border-radius:50%;background:radial-gradient(circle, rgba(180, 150, 130, 0.3) 0%, rgba(140, 120, 100, 0.5) 100%);box-shadow:inset -4px -2px 8px rgba(0, 0, 0, 0.2);z-index:3}.unit-switch-container.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:0;right:0;display:flex;background:var(--surface);border:1px solid var(--border);border-radius:8px;overflow:hidden;box-shadow:0 2px 8px var(--shadow)}.unit-option.svelte-dc2hjj.svelte-dc2hjj{padding:0.4rem 0.8rem;font-size:0.875rem;font-weight:600;color:var(--text-secondary);background:transparent;border:none;cursor:pointer;transition:all 0.2s ease;min-width:40px}.unit-option.svelte-dc2hjj.svelte-dc2hjj:hover{background:var(--surface-variant)}.unit-option.active.svelte-dc2hjj.svelte-dc2hjj{background:var(--primary-color);color:white}.time.svelte-dc2hjj.svelte-dc2hjj{position:relative;z-index:3;font-size:1.75rem;font-weight:300;color:var(--text-color, var(--text-primary));letter-spacing:0.5px;text-shadow:0 2px 4px var(--shadow);font-variant-numeric:tabular-nums}.date.svelte-dc2hjj.svelte-dc2hjj{position:relative;z-index:3;font-size:0.75rem;color:var(--text-color, var(--text-secondary));opacity:0.7;margin-top:0.25rem;text-shadow:0 1px 2px var(--shadow)}.location.svelte-dc2hjj.svelte-dc2hjj{position:relative;z-index:3;font-size:1rem;color:var(--text-color, var(--text-primary));opacity:0.8;margin-top:0.5rem;text-shadow:0 1px 2px var(--shadow)}.time-date-section.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:0.9rem;left:50%;transform:translateX(-50%);z-index:3;text-align:center;width:100%}.temperature.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:2;font-size:5rem;font-weight:600;color:var(--text-color, var(--text-primary));line-height:1;text-shadow:0 2px 4px var(--shadow),\\r\n\t\t\t0 4px 8px var(--shadow),\\r\n\t\t\t0 0 20px var(--shadow);display:flex;align-items:flex-start;justify-content:center}.degree-symbol.svelte-dc2hjj.svelte-dc2hjj{font-size:2.5rem;margin-left:0.25rem;margin-top:0.5rem}.humidity-center.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:50%;left:50%;transform:translateX(-50%);margin-top:3rem;z-index:2;font-size:1.5rem;font-weight:300;color:var(--text-color, var(--text-primary));text-shadow:0 2px 4px var(--shadow);display:flex;align-items:center;gap:0.3rem}.humidity-value.svelte-dc2hjj.svelte-dc2hjj{font-weight:600;font-size:1.5rem}.humidity-symbols.svelte-dc2hjj.svelte-dc2hjj{display:grid;grid-template-columns:auto auto;grid-template-rows:auto auto;gap:0.1rem;font-size:0.7rem;opacity:0.8;align-items:center;justify-items:center}.symbol-phi.svelte-dc2hjj.svelte-dc2hjj{grid-column:1 / 3;grid-row:1;font-size:0.7rem}.symbol-percent.svelte-dc2hjj.svelte-dc2hjj{grid-column:1;grid-row:2;font-size:0.7rem}.symbol-drop.svelte-dc2hjj.svelte-dc2hjj{grid-column:2;grid-row:2;font-size:0.7rem}.temp-graph-svg.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1;opacity:0.7}.humidity.svelte-dc2hjj.svelte-dc2hjj{position:absolute;bottom:0;left:0;width:100%;height:60px;z-index:0}.humidity-wave.svelte-dc2hjj.svelte-dc2hjj{position:absolute;bottom:0;left:0;right:0;height:40px;background:linear-gradient(180deg, \\r\n\t\t\trgba(100, 150, 200, 0.3) 0%,\\r\n\t\t\trgba(80, 130, 180, 0.4) 50%,\\r\n\t\t\trgba(60, 110, 160, 0.5) 100%\\r\n\t\t);border-radius:0 0 160px 160px;clip-path:ellipse(160px 40px at 50% 100%)}.time-test-slider.svelte-dc2hjj.svelte-dc2hjj{width:100%;max-width:320px;padding:1rem;background:var(--surface-variant);border-radius:12px;border:1px solid var(--border);display:flex;flex-direction:column;gap:0.5rem;position:relative}.close-time-test.svelte-dc2hjj.svelte-dc2hjj{position:absolute;top:0.5rem;right:0.5rem;color:var(--text-secondary);cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:4px;text-decoration:none}.close-time-test.svelte-dc2hjj.svelte-dc2hjj:hover{color:var(--text-primary);background:var(--surface-container-high)}.time-test-info.svelte-dc2hjj.svelte-dc2hjj{padding:0.625rem 0.75rem;background:color-mix(in srgb, var(--primary-color) 10%, transparent);border:1px solid color-mix(in srgb, var(--primary-color) 20%, transparent);border-radius:6px;color:var(--primary-color);font-size:0.75rem;text-align:center;margin-top:0.25rem}.time-test-slider.svelte-dc2hjj label.svelte-dc2hjj{color:var(--text-primary);font-size:0.875rem;font-weight:500;text-align:center}.time-test-slider.svelte-dc2hjj input[type=\"range\"].svelte-dc2hjj{width:100%;height:6px;background:var(--surface-container-high);border-radius:3px;outline:none;appearance:none;-webkit-appearance:none}.time-test-slider.svelte-dc2hjj input[type=\"range\"].svelte-dc2hjj::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;background:var(--text-primary);border-radius:50%;cursor:pointer;box-shadow:0 2px 4px var(--shadow)}.time-test-slider.svelte-dc2hjj input[type=\"range\"].svelte-dc2hjj::-moz-range-thumb{width:18px;height:18px;background:var(--text-primary);border-radius:50%;cursor:pointer;border:none;box-shadow:0 2px 4px var(--shadow)}.slider-labels.svelte-dc2hjj.svelte-dc2hjj{display:flex;justify-content:space-between;color:var(--text-secondary);font-size:0.75rem}.time-test-link-container.svelte-dc2hjj.svelte-dc2hjj{width:100%;max-width:320px;display:flex;justify-content:center;margin-top:0.5rem}.time-test-link.svelte-dc2hjj.svelte-dc2hjj{font-size:0.8125rem;color:var(--text-secondary);text-decoration:none;padding:0.5rem 1rem;border-radius:6px;transition:all 0.2s ease}.time-test-link.svelte-dc2hjj.svelte-dc2hjj:hover{color:var(--text-primary);background:var(--surface-variant)}.no-location-message.svelte-dc2hjj.svelte-dc2hjj{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;min-height:400px;width:100%}.no-location-message.svelte-dc2hjj p.svelte-dc2hjj{font-size:1.125rem;color:var(--text-secondary);text-align:center;margin:0}.share-location-button.svelte-dc2hjj.svelte-dc2hjj{padding:0.75rem 1.5rem;font-size:0.9375rem;font-weight:600;background:color-mix(in srgb, var(--primary-color) 20%, transparent);border:1px solid color-mix(in srgb, var(--primary-color) 40%, transparent);border-radius:8px;color:var(--primary-color);cursor:pointer;transition:all 0.2s ease}.share-location-button.svelte-dc2hjj.svelte-dc2hjj:hover{background:color-mix(in srgb, var(--primary-color) 30%, transparent);border-color:color-mix(in srgb, var(--primary-color) 60%, transparent);transform:translateY(-1px)}.share-location-button.svelte-dc2hjj.svelte-dc2hjj:active{transform:translateY(0)}.location-controls.svelte-dc2hjj.svelte-dc2hjj{width:100%;max-width:320px;display:flex;flex-direction:column;gap:0.75rem;margin-top:0.5rem}.zip-form.svelte-dc2hjj.svelte-dc2hjj{display:flex;gap:0.5rem;width:100%}.zip-input.svelte-dc2hjj.svelte-dc2hjj{flex:1;padding:0.6rem 0.875rem;font-size:0.875rem;background:var(--surface-variant);border:1px solid var(--border);border-radius:8px;color:var(--text-primary);outline:none;transition:all 0.2s ease;font-family:inherit}.zip-input.svelte-dc2hjj.svelte-dc2hjj::placeholder{color:var(--text-secondary)}.zip-input.svelte-dc2hjj.svelte-dc2hjj:focus{background:var(--surface-container-high);border-color:var(--outline-variant);box-shadow:0 0 0 3px color-mix(in srgb, var(--primary-color) 10%, transparent)}.zip-submit.svelte-dc2hjj.svelte-dc2hjj{padding:0.6rem 1.25rem;font-size:0.875rem;font-weight:600;background:var(--surface-container-high);border:1px solid var(--outline-variant);border-radius:8px;color:var(--text-primary);cursor:pointer;transition:all 0.2s ease;white-space:nowrap}.zip-submit.svelte-dc2hjj.svelte-dc2hjj:hover{background:var(--surface-container-highest);border-color:var(--outline-variant)}.zip-submit.svelte-dc2hjj.svelte-dc2hjj:active{transform:scale(0.98)}.reset-button.svelte-dc2hjj.svelte-dc2hjj{width:100%;padding:0.6rem;background:color-mix(in srgb, var(--primary-color) 15%, transparent);border:1px solid color-mix(in srgb, var(--primary-color) 30%, transparent);border-radius:8px;color:var(--primary-color);cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center}.reset-button.svelte-dc2hjj.svelte-dc2hjj:hover{background:color-mix(in srgb, var(--primary-color) 25%, transparent);border-color:color-mix(in srgb, var(--primary-color) 40%, transparent)}.reset-button.svelte-dc2hjj.svelte-dc2hjj:active{transform:scale(0.98)}.data-table.svelte-dc2hjj.svelte-dc2hjj{width:100%;max-width:500px;margin-top:1.5rem;background:var(--surface-variant);border:1px solid var(--border);border-radius:12px;backdrop-filter:blur(10px);overflow:hidden}.data-table-header.svelte-dc2hjj.svelte-dc2hjj{width:100%;display:flex;align-items:center;justify-content:space-between;padding:1rem;background:transparent;border:none;cursor:pointer;transition:background 0.2s ease}.data-table-header.svelte-dc2hjj.svelte-dc2hjj:hover{background:var(--surface-container-high)}.data-table-header.svelte-dc2hjj h3.svelte-dc2hjj{margin:0;font-size:1rem;font-weight:600;color:var(--text-primary);text-align:left}.collapse-icon.svelte-dc2hjj.svelte-dc2hjj{color:var(--text-secondary);transition:transform 0.3s ease;flex-shrink:0}.collapse-icon.collapsed.svelte-dc2hjj.svelte-dc2hjj{transform:rotate(-90deg)}.data-table.svelte-dc2hjj table.svelte-dc2hjj{width:100%;border-collapse:collapse;font-size:0.8125rem;padding:0 1rem 1rem}.data-table.svelte-dc2hjj tbody tr.svelte-dc2hjj{border-bottom:1px solid color-mix(in srgb, var(--border) 50%, transparent)}.data-table.svelte-dc2hjj tbody tr.svelte-dc2hjj:last-child{border-bottom:none}.data-table.svelte-dc2hjj tbody tr.section-header.svelte-dc2hjj{border-bottom:1px solid var(--border)}.data-table.svelte-dc2hjj tbody tr.section-header td.svelte-dc2hjj{padding:0.75rem 0.5rem 0.5rem;font-weight:600;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-secondary);text-align:left}.data-table.svelte-dc2hjj tbody tr.section-header:first-child td.svelte-dc2hjj{padding-top:0}.data-table.svelte-dc2hjj td.svelte-dc2hjj{padding:0.5rem;color:var(--on-surface)}.data-table.svelte-dc2hjj td.svelte-dc2hjj:first-child{font-weight:500;color:var(--text-secondary);width:45%}.data-table.svelte-dc2hjj td.svelte-dc2hjj:last-child{text-align:right;color:var(--text-primary);font-family:'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace}@media(max-width: 768px){.time.svelte-dc2hjj.svelte-dc2hjj{font-size:1.5rem}.temperature.svelte-dc2hjj.svelte-dc2hjj{font-size:4rem}.data-table.svelte-dc2hjj.svelte-dc2hjj{max-width:100%;font-size:0.75rem}.data-table.svelte-dc2hjj td.svelte-dc2hjj{padding:0.4rem}}`,\n  map: `{\"version\":3,\"file\":\"WeatherWidget.svelte\",\"sources\":[\"WeatherWidget.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { onMount } from \\\\\"svelte\\\\\";\\\\nimport { browser } from \\\\\"$app/environment\\\\\";\\\\nimport { page } from \\\\\"$app/stores\\\\\";\\\\nconst WEATHER_CACHE_KEY = \\\\\"dashboard-weather-data\\\\\";\\\\nconst CACHE_DURATION = 5 * 60 * 1e3;\\\\nconst UNIT_PREFERENCE_KEY = \\\\\"dashboard-temp-unit\\\\\";\\\\nconst ZIP_CODE_KEY = \\\\\"dashboard-zip-code\\\\\";\\\\nconst DATA_TABLE_COLLAPSED_KEY = \\\\\"dashboard-data-table-collapsed\\\\\";\\\\nlet currentTime = \\\\\"\\\\\";\\\\nlet currentDate = \\\\\"\\\\\";\\\\nlet temperature = 72;\\\\nlet humidity = 65;\\\\nlet location = \\\\\"Lewiston, ME\\\\\";\\\\nlet condition = \\\\\"partly-cloudy\\\\\";\\\\nlet hourlyData = [];\\\\nlet isLoading = true;\\\\nlet hasLocationData = false;\\\\nlet sunrise = 0;\\\\nlet sunset = 0;\\\\nlet moonrise = 0;\\\\nlet moonset = 0;\\\\nlet timezone = \\\\\"\\\\\";\\\\nlet timezoneOffset = 0;\\\\nlet isCelsius = true;\\\\nlet isNight = false;\\\\nlet sunPosition = { x: -100, y: -100 };\\\\nlet moonPosition = { x: -100, y: -100 };\\\\nlet earthGradient = \\\\\"\\\\\";\\\\nlet textColor = \\\\\"rgba(255, 255, 255, 0.95)\\\\\";\\\\nlet moonPhase = 0;\\\\nlet moonScale = 1;\\\\nlet currentTimestamp = Date.now();\\\\nlet earthSize = 320;\\\\nlet padding = 40;\\\\nlet latitude = null;\\\\nlet longitude = null;\\\\nlet lastUpdate = 0;\\\\nlet description = \\\\\"\\\\\";\\\\nlet savedZipCode = \\\\\"\\\\\";\\\\nlet zipCodeInput = \\\\\"\\\\\";\\\\nlet timeTestMode = false;\\\\nlet testDateOffset = 0;\\\\nlet isDataTableCollapsed = true;\\\\nif (browser) {\\\\n  const urlParams = new URLSearchParams(window.location.search);\\\\n  timeTestMode = urlParams.get(\\\\\"timeTest\\\\\") === \\\\\"true\\\\\";\\\\n  const savedCollapsed = localStorage.getItem(DATA_TABLE_COLLAPSED_KEY);\\\\n  if (savedCollapsed !== null) {\\\\n    isDataTableCollapsed = savedCollapsed === \\\\\"true\\\\\";\\\\n  }\\\\n}\\\\nif (browser) {\\\\n  const savedUnit = localStorage.getItem(UNIT_PREFERENCE_KEY);\\\\n  if (savedUnit !== null) {\\\\n    isCelsius = savedUnit === \\\\\"celsius\\\\\";\\\\n  }\\\\n  const savedZip = localStorage.getItem(ZIP_CODE_KEY);\\\\n  if (savedZip) {\\\\n    savedZipCode = savedZip;\\\\n    zipCodeInput = savedZip;\\\\n  }\\\\n}\\\\nfunction convertTemp(temp) {\\\\n  if (isCelsius) {\\\\n    return Math.round((temp - 32) * 5 / 9);\\\\n  }\\\\n  return temp;\\\\n}\\\\n$: displayTemp = isCelsius ? Math.round((temperature - 32) * 5 / 9) : temperature;\\\\nfunction setUnit(useCelsius) {\\\\n  isCelsius = useCelsius;\\\\n  if (browser) {\\\\n    localStorage.setItem(UNIT_PREFERENCE_KEY, useCelsius ? \\\\\"celsius\\\\\" : \\\\\"fahrenheit\\\\\");\\\\n  }\\\\n}\\\\nasync function loadWeatherData() {\\\\n  if (!browser) return;\\\\n  if (savedZipCode) {\\\\n    await fetchWeatherByZipCode(savedZipCode);\\\\n    return;\\\\n  }\\\\n  await fetchWeatherData();\\\\n}\\\\nasync function fetchWeatherData() {\\\\n  try {\\\\n    if (navigator.geolocation) {\\\\n      navigator.geolocation.getCurrentPosition(\\\\n        async (position) => {\\\\n          const { latitude: latitude2, longitude: longitude2 } = position.coords;\\\\n          await fetchWeatherFromAPI(latitude2, longitude2);\\\\n        },\\\\n        async (error) => {\\\\n          console.log(\\\\\"Geolocation denied or failed:\\\\\", error.message);\\\\n          isLoading = false;\\\\n        }\\\\n      );\\\\n    } else {\\\\n      console.log(\\\\\"Geolocation not supported\\\\\");\\\\n      isLoading = false;\\\\n    }\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error fetching weather:\\\\\", error);\\\\n    isLoading = false;\\\\n  }\\\\n}\\\\nasync function fetchWeatherFromAPI(lat, lon) {\\\\n  try {\\\\n    const url = lat && lon ? \\`/api/weather?lat=\\${lat}&lon=\\${lon}\\` : \\\\\"/api/weather\\\\\";\\\\n    console.log(\\\\\"Fetching weather from:\\\\\", url);\\\\n    const response = await fetch(url);\\\\n    console.log(\\\\\"Weather API response status:\\\\\", response.status);\\\\n    if (!response.ok) {\\\\n      const errorText = await response.text();\\\\n      console.error(\\\\\"Weather API error:\\\\\", errorText);\\\\n      throw new Error(\\`Failed to fetch weather: \\${response.status}\\`);\\\\n    }\\\\n    const data = await response.json();\\\\n    console.log(\\\\\"Weather data received:\\\\\", data);\\\\n    if (lat && lon) {\\\\n      latitude = lat;\\\\n      longitude = lon;\\\\n    }\\\\n    localStorage.setItem(WEATHER_CACHE_KEY, JSON.stringify(data));\\\\n    applyWeatherData(data);\\\\n    isLoading = false;\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error fetching weather from API:\\\\\", error);\\\\n    isLoading = false;\\\\n  }\\\\n}\\\\nasync function fetchWeatherByZipCode(zipCode) {\\\\n  try {\\\\n    const url = \\`/api/weather?zip=\\${zipCode}\\`;\\\\n    console.log(\\\\\"Fetching weather by zip code:\\\\\", url);\\\\n    const response = await fetch(url);\\\\n    console.log(\\\\\"Weather API response status:\\\\\", response.status);\\\\n    if (!response.ok) {\\\\n      const errorText = await response.text();\\\\n      console.error(\\\\\"Weather API error:\\\\\", errorText);\\\\n      throw new Error(\\`Failed to fetch weather: \\${response.status}\\`);\\\\n    }\\\\n    const data = await response.json();\\\\n    console.log(\\\\\"Weather data received:\\\\\", data);\\\\n    localStorage.setItem(WEATHER_CACHE_KEY, JSON.stringify(data));\\\\n    applyWeatherData(data);\\\\n    isLoading = false;\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error fetching weather by zip code:\\\\\", error);\\\\n    isLoading = false;\\\\n  }\\\\n}\\\\nfunction handleZipCodeSubmit() {\\\\n  const trimmedZip = zipCodeInput.trim();\\\\n  if (!trimmedZip || !/^\\\\\\\\d{5}$/.test(trimmedZip)) {\\\\n    alert(\\\\\"Please enter a valid 5-digit ZIP code\\\\\");\\\\n    return;\\\\n  }\\\\n  savedZipCode = trimmedZip;\\\\n  localStorage.setItem(ZIP_CODE_KEY, savedZipCode);\\\\n  localStorage.removeItem(WEATHER_CACHE_KEY);\\\\n  hasLocationData = false;\\\\n  fetchWeatherByZipCode(savedZipCode);\\\\n}\\\\nfunction handleResetLocation() {\\\\n  savedZipCode = \\\\\"\\\\\";\\\\n  zipCodeInput = \\\\\"\\\\\";\\\\n  localStorage.removeItem(ZIP_CODE_KEY);\\\\n  localStorage.removeItem(WEATHER_CACHE_KEY);\\\\n  hasLocationData = false;\\\\n  fetchWeatherData();\\\\n}\\\\nfunction requestBrowserLocation() {\\\\n  fetchWeatherData();\\\\n}\\\\nfunction applyWeatherData(data) {\\\\n  temperature = data.temperature;\\\\n  humidity = data.humidity;\\\\n  location = data.location;\\\\n  description = data.description || \\\\\"\\\\\";\\\\n  hourlyData = data.hourly || [];\\\\n  sunrise = data.sunrise || 0;\\\\n  sunset = data.sunset || 0;\\\\n  moonrise = data.moonrise || 0;\\\\n  moonset = data.moonset || 0;\\\\n  timezone = data.timezone || \\\\\"\\\\\";\\\\n  timezoneOffset = data.timezoneOffset || 0;\\\\n  lastUpdate = data.timestamp || Date.now();\\\\n  hasLocationData = true;\\\\n  const weatherCondition = data.condition.toLowerCase();\\\\n  if (weatherCondition.includes(\\\\\"clear\\\\\")) {\\\\n    condition = \\\\\"sunny\\\\\";\\\\n  } else if (weatherCondition.includes(\\\\\"cloud\\\\\")) {\\\\n    condition = \\\\\"partly-cloudy\\\\\";\\\\n  } else if (weatherCondition.includes(\\\\\"rain\\\\\")) {\\\\n    condition = \\\\\"rainy\\\\\";\\\\n  } else {\\\\n    condition = \\\\\"partly-cloudy\\\\\";\\\\n  }\\\\n}\\\\n$: temperaturePath = generateTemperaturePath(hourlyData);\\\\nfunction generateTemperaturePath(hourly) {\\\\n  if (hourly.length === 0) return \\\\\"\\\\\";\\\\n  const width = 320;\\\\n  const height = 80;\\\\n  const padding2 = 0;\\\\n  const temps = hourly.map((h) => h.temperature);\\\\n  const minTemp = Math.min(...temps);\\\\n  const maxTemp = Math.max(...temps);\\\\n  const tempRange = maxTemp - minTemp || 10;\\\\n  const points = hourly.map((hour, index) => {\\\\n    const x = padding2 + index / (hourly.length - 1) * (width - 2 * padding2);\\\\n    const normalizedTemp = (hour.temperature - minTemp) / tempRange;\\\\n    const y = height - padding2 - normalizedTemp * (height - 2 * padding2);\\\\n    return \\`\\${x},\\${y}\\`;\\\\n  });\\\\n  return \\`M \\${points.join(\\\\\" L \\\\\")}\\`;\\\\n}\\\\nfunction formatHour(timestamp) {\\\\n  const date = new Date(timestamp * 1e3);\\\\n  return date.toLocaleTimeString(\\\\\"en-US\\\\\", { hour: \\\\\"numeric\\\\\", hour12: true });\\\\n}\\\\nfunction getTemperatureColor(temp) {\\\\n  if (temp <= 32) return \\\\\"#ffffff\\\\\";\\\\n  if (temp < 77) {\\\\n    const ratio = (temp - 32) / (77 - 32);\\\\n    return interpolateColor(\\\\\"#ffffff\\\\\", \\\\\"#3b82f6\\\\\", ratio);\\\\n  }\\\\n  if (temp < 80) {\\\\n    const ratio = (temp - 77) / (80 - 77);\\\\n    return interpolateColor(\\\\\"#3b82f6\\\\\", \\\\\"#f97316\\\\\", ratio);\\\\n  }\\\\n  if (temp < 100) {\\\\n    const ratio = (temp - 80) / (100 - 80);\\\\n    return interpolateColor(\\\\\"#f97316\\\\\", \\\\\"#ef4444\\\\\", ratio);\\\\n  }\\\\n  return \\\\\"#ef4444\\\\\";\\\\n}\\\\nfunction interpolateColor(color1, color2, ratio) {\\\\n  const hex = (c) => parseInt(c.slice(1), 16);\\\\n  const r1 = hex(color1) >> 16 & 255;\\\\n  const g1 = hex(color1) >> 8 & 255;\\\\n  const b1 = hex(color1) & 255;\\\\n  const r2 = hex(color2) >> 16 & 255;\\\\n  const g2 = hex(color2) >> 8 & 255;\\\\n  const b2 = hex(color2) & 255;\\\\n  const r = Math.round(r1 + (r2 - r1) * ratio);\\\\n  const g = Math.round(g1 + (g2 - g1) * ratio);\\\\n  const b = Math.round(b1 + (b2 - b1) * ratio);\\\\n  return \\`#\\${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)}\\`;\\\\n}\\\\nfunction updateEarthSize() {\\\\n  if (browser && window.innerWidth <= 768) {\\\\n    earthSize = 280;\\\\n    padding = 40;\\\\n  } else {\\\\n    earthSize = 320;\\\\n    padding = 40;\\\\n  }\\\\n}\\\\nonMount(() => {\\\\n  updateEarthSize();\\\\n  const handleResize = () => {\\\\n    updateEarthSize();\\\\n  };\\\\n  window.addEventListener(\\\\\"resize\\\\\", handleResize);\\\\n  const updateTime = () => {\\\\n    const now = /* @__PURE__ */ new Date();\\\\n    currentTimestamp = now.getTime();\\\\n    let displayDate;\\\\n    if (timeTestMode) {\\\\n      if (timezoneOffset !== 0) {\\\\n        const utcTime = now.getTime() + now.getTimezoneOffset() * 60 * 1e3;\\\\n        const locationTime = utcTime + timezoneOffset * 1e3;\\\\n        displayDate = new Date(locationTime + testDateOffset * 60 * 1e3);\\\\n      } else {\\\\n        displayDate = new Date(now.getTime() + testDateOffset * 60 * 1e3);\\\\n      }\\\\n    } else if (timezoneOffset !== 0) {\\\\n      const utcTime = now.getTime() + now.getTimezoneOffset() * 60 * 1e3;\\\\n      displayDate = new Date(utcTime + timezoneOffset * 1e3);\\\\n    } else {\\\\n      displayDate = now;\\\\n    }\\\\n    currentTime = displayDate.toLocaleTimeString(\\\\\"en-US\\\\\", {\\\\n      hour: \\\\\"2-digit\\\\\",\\\\n      minute: \\\\\"2-digit\\\\\",\\\\n      second: \\\\\"2-digit\\\\\",\\\\n      hour12: true\\\\n    });\\\\n    const year = displayDate.getFullYear();\\\\n    const month = displayDate.toLocaleString(\\\\\"en-US\\\\\", { month: \\\\\"long\\\\\" });\\\\n    const day = displayDate.getDate();\\\\n    const weekday = displayDate.toLocaleString(\\\\\"en-US\\\\\", { weekday: \\\\\"long\\\\\" });\\\\n    currentDate = \\`\\${year} \\${month} \\${day} (\\${weekday})\\`;\\\\n  };\\\\n  updateTime();\\\\n  const interval = setInterval(updateTime, 1e3);\\\\n  loadWeatherData();\\\\n  const weatherInterval = setInterval(() => {\\\\n    fetchWeatherData();\\\\n  }, CACHE_DURATION);\\\\n  return () => {\\\\n    clearInterval(interval);\\\\n    clearInterval(weatherInterval);\\\\n    window.removeEventListener(\\\\\"resize\\\\\", handleResize);\\\\n  };\\\\n});\\\\n$: {\\\\n  const now = /* @__PURE__ */ new Date();\\\\n  const hours = now.getHours() + now.getMinutes() / 60;\\\\n  const timeRatio = hours / 24;\\\\n  if (hours >= 6 && hours < 18) {\\\\n    condition = temperature > 80 ? \\\\\"sunny\\\\\" : \\\\\"partly-cloudy\\\\\";\\\\n  } else {\\\\n    condition = \\\\\"night\\\\\";\\\\n  }\\\\n}\\\\nfunction getSunPosition(testDate) {\\\\n  let sunriseTime = 6 * 3600;\\\\n  let sunsetTime = 18 * 3600;\\\\n  if (sunrise) {\\\\n    const sunriseDate = new Date(sunrise * 1e3);\\\\n    sunriseTime = sunriseDate.getHours() * 3600 + sunriseDate.getMinutes() * 60 + sunriseDate.getSeconds();\\\\n  }\\\\n  if (sunset) {\\\\n    const sunsetDate = new Date(sunset * 1e3);\\\\n    sunsetTime = sunsetDate.getHours() * 3600 + sunsetDate.getMinutes() * 60 + sunsetDate.getSeconds();\\\\n  }\\\\n  const secondsSinceMidnight = testDate.getHours() * 3600 + testDate.getMinutes() * 60 + testDate.getSeconds();\\\\n  const earthRadius = earthSize / 2;\\\\n  const sunRadius = earthSize * 0.09375;\\\\n  let angle;\\\\n  let orbitRadius;\\\\n  if (secondsSinceMidnight >= sunriseTime && secondsSinceMidnight <= sunsetTime) {\\\\n    const solarNoonTime = (sunriseTime + sunsetTime) / 2;\\\\n    if (secondsSinceMidnight <= solarNoonTime) {\\\\n      const morningDuration = solarNoonTime - sunriseTime;\\\\n      const morningProgress = (secondsSinceMidnight - sunriseTime) / morningDuration;\\\\n      angle = -Math.PI / 2 + morningProgress * Math.PI / 2;\\\\n      const expansionProgress = Math.sin(morningProgress * Math.PI / 2);\\\\n      const minOrbitRadius = earthRadius + sunRadius * 0.1;\\\\n      const maxOrbitRadius = earthRadius + sunRadius;\\\\n      orbitRadius = minOrbitRadius + expansionProgress * (maxOrbitRadius - minOrbitRadius);\\\\n    } else {\\\\n      const afternoonDuration = sunsetTime - solarNoonTime;\\\\n      const afternoonProgress = (secondsSinceMidnight - solarNoonTime) / afternoonDuration;\\\\n      angle = 0 + afternoonProgress * Math.PI / 2;\\\\n      const contractionProgress = Math.cos(afternoonProgress * Math.PI / 2);\\\\n      const minOrbitRadius = earthRadius + sunRadius * 0.1;\\\\n      const maxOrbitRadius = earthRadius + sunRadius;\\\\n      orbitRadius = minOrbitRadius + contractionProgress * (maxOrbitRadius - minOrbitRadius);\\\\n    }\\\\n  } else {\\\\n    const solarMidnightTime = (sunsetTime + sunriseTime + 86400) / 2;\\\\n    const nightOrbitRadius = earthRadius - sunRadius * 1.5;\\\\n    if (secondsSinceMidnight <= sunriseTime) {\\\\n      const nightDuration = 86400 - sunsetTime + sunriseTime;\\\\n      const effectiveMidnight = solarMidnightTime > 86400 ? solarMidnightTime - 86400 : solarMidnightTime;\\\\n      const preSunriseDuration = sunriseTime - effectiveMidnight;\\\\n      const preSunriseProgress = (secondsSinceMidnight - effectiveMidnight) / preSunriseDuration;\\\\n      angle = Math.PI + preSunriseProgress * Math.PI / 2;\\\\n      orbitRadius = nightOrbitRadius;\\\\n    } else {\\\\n      const nightDuration = 86400 - sunsetTime + sunriseTime;\\\\n      const effectiveMidnight = solarMidnightTime > 86400 ? solarMidnightTime - 86400 : solarMidnightTime;\\\\n      const postSunsetDuration = effectiveMidnight + (solarMidnightTime > 86400 ? 86400 : 0) - sunsetTime;\\\\n      const postSunsetProgress = (secondsSinceMidnight - sunsetTime) / postSunsetDuration;\\\\n      angle = Math.PI / 2 + postSunsetProgress * Math.PI / 2;\\\\n      orbitRadius = nightOrbitRadius;\\\\n    }\\\\n  }\\\\n  angle = angle - Math.PI / 2;\\\\n  const x = padding + earthSize / 2 + Math.cos(angle) * orbitRadius;\\\\n  const y = padding + earthSize / 2 + Math.sin(angle) * orbitRadius;\\\\n  return { x, y };\\\\n}\\\\nfunction getMoonPosition(testDate) {\\\\n  const secondsSinceMidnight = testDate.getHours() * 3600 + testDate.getMinutes() * 60 + testDate.getSeconds();\\\\n  let moonriseTime = 18 * 3600;\\\\n  let moonsetTime = 6 * 3600;\\\\n  if (moonrise) {\\\\n    const moonriseDate = new Date(moonrise * 1e3);\\\\n    moonriseTime = moonriseDate.getHours() * 3600 + moonriseDate.getMinutes() * 60 + moonriseDate.getSeconds();\\\\n  }\\\\n  if (moonset) {\\\\n    const moonsetDate = new Date(moonset * 1e3);\\\\n    moonsetTime = moonsetDate.getHours() * 3600 + moonsetDate.getMinutes() * 60 + moonsetDate.getSeconds();\\\\n  }\\\\n  const earthRadius = earthSize / 2;\\\\n  const moonRadius = earthSize * 0.09375;\\\\n  const visibleOrbitRadius = earthRadius + moonRadius;\\\\n  const hiddenOrbitRadius = earthRadius + moonRadius * 0.5;\\\\n  const horizonScaleDuration = 30 * 60;\\\\n  const maxScale = 1.9;\\\\n  const normalScale = 1;\\\\n  const hiddenScale = 0.7;\\\\n  let scale = normalScale;\\\\n  let angle;\\\\n  let orbitRadius;\\\\n  if (moonriseTime < moonsetTime) {\\\\n    if (secondsSinceMidnight >= moonriseTime && secondsSinceMidnight <= moonsetTime) {\\\\n      const visibleDuration = moonsetTime - moonriseTime;\\\\n      const visibleProgress = (secondsSinceMidnight - moonriseTime) / visibleDuration;\\\\n      angle = -Math.PI / 2 + visibleProgress * Math.PI;\\\\n      orbitRadius = visibleOrbitRadius;\\\\n      const timeSinceRise = secondsSinceMidnight - moonriseTime;\\\\n      const timeBeforeSet = moonsetTime - secondsSinceMidnight;\\\\n      if (timeSinceRise <= horizonScaleDuration) {\\\\n        const scaleProgress = timeSinceRise / horizonScaleDuration;\\\\n        scale = maxScale - scaleProgress * (maxScale - normalScale);\\\\n      } else if (timeBeforeSet <= horizonScaleDuration) {\\\\n        const scaleProgress = timeBeforeSet / horizonScaleDuration;\\\\n        scale = maxScale - scaleProgress * (maxScale - normalScale);\\\\n      }\\\\n    } else {\\\\n      const hiddenDuration = 86400 - moonsetTime + moonriseTime;\\\\n      let hiddenProgress;\\\\n      if (secondsSinceMidnight > moonsetTime) {\\\\n        hiddenProgress = (secondsSinceMidnight - moonsetTime) / hiddenDuration;\\\\n      } else {\\\\n        hiddenProgress = (86400 - moonsetTime + secondsSinceMidnight) / hiddenDuration;\\\\n      }\\\\n      angle = Math.PI / 2 + hiddenProgress * Math.PI;\\\\n      orbitRadius = hiddenOrbitRadius;\\\\n      scale = hiddenScale;\\\\n    }\\\\n  } else {\\\\n    if (secondsSinceMidnight >= moonriseTime || secondsSinceMidnight <= moonsetTime) {\\\\n      const visibleDuration = 86400 - moonriseTime + moonsetTime;\\\\n      let visibleProgress;\\\\n      let timeSinceRise, timeBeforeSet;\\\\n      if (secondsSinceMidnight >= moonriseTime) {\\\\n        visibleProgress = (secondsSinceMidnight - moonriseTime) / visibleDuration;\\\\n        timeSinceRise = secondsSinceMidnight - moonriseTime;\\\\n        timeBeforeSet = 86400 - secondsSinceMidnight + moonsetTime;\\\\n      } else {\\\\n        visibleProgress = (86400 - moonriseTime + secondsSinceMidnight) / visibleDuration;\\\\n        timeSinceRise = 86400 - moonriseTime + secondsSinceMidnight;\\\\n        timeBeforeSet = moonsetTime - secondsSinceMidnight;\\\\n      }\\\\n      angle = -Math.PI / 2 + visibleProgress * Math.PI;\\\\n      orbitRadius = visibleOrbitRadius;\\\\n      if (timeSinceRise <= horizonScaleDuration) {\\\\n        const scaleProgress = timeSinceRise / horizonScaleDuration;\\\\n        scale = maxScale - scaleProgress * (maxScale - normalScale);\\\\n      } else if (timeBeforeSet <= horizonScaleDuration) {\\\\n        const scaleProgress = timeBeforeSet / horizonScaleDuration;\\\\n        scale = maxScale - scaleProgress * (maxScale - normalScale);\\\\n      }\\\\n    } else {\\\\n      const hiddenDuration = moonriseTime - moonsetTime;\\\\n      const hiddenProgress = (secondsSinceMidnight - moonsetTime) / hiddenDuration;\\\\n      angle = Math.PI / 2 + hiddenProgress * Math.PI;\\\\n      orbitRadius = hiddenOrbitRadius;\\\\n      scale = hiddenScale;\\\\n    }\\\\n  }\\\\n  angle = angle - Math.PI / 2;\\\\n  const x = padding + earthSize / 2 + Math.cos(angle) * orbitRadius;\\\\n  const y = padding + earthSize / 2 + Math.sin(angle) * orbitRadius;\\\\n  return { x, y, scale };\\\\n}\\\\nfunction calculateEarthColor(hour, weatherCondition) {\\\\n  const hoursFromNoon = Math.abs(12 - hour);\\\\n  const dayBrightness = 1 - hoursFromNoon / 12;\\\\n  let baseColor1, baseColor2, baseColor3, baseColor4;\\\\n  if (dayBrightness > 0.8) {\\\\n    baseColor1 = { r: 245, g: 240, b: 235 };\\\\n    baseColor2 = { r: 230, g: 220, b: 210 };\\\\n    baseColor3 = { r: 215, g: 205, b: 195 };\\\\n    baseColor4 = { r: 200, g: 190, b: 180 };\\\\n  } else if (dayBrightness > 0.6) {\\\\n    baseColor1 = { r: 212, g: 180, b: 140 };\\\\n    baseColor2 = { r: 195, g: 165, b: 125 };\\\\n    baseColor3 = { r: 180, g: 150, b: 115 };\\\\n    baseColor4 = { r: 165, g: 140, b: 105 };\\\\n  } else if (dayBrightness > 0.4) {\\\\n    baseColor1 = { r: 150, g: 120, b: 100 };\\\\n    baseColor2 = { r: 130, g: 105, b: 90 };\\\\n    baseColor3 = { r: 115, g: 95, b: 80 };\\\\n    baseColor4 = { r: 100, g: 85, b: 70 };\\\\n  } else if (dayBrightness > 0.2) {\\\\n    baseColor1 = { r: 90, g: 75, b: 85 };\\\\n    baseColor2 = { r: 75, g: 65, b: 75 };\\\\n    baseColor3 = { r: 65, g: 55, b: 65 };\\\\n    baseColor4 = { r: 55, g: 48, b: 58 };\\\\n  } else {\\\\n    baseColor1 = { r: 45, g: 40, b: 55 };\\\\n    baseColor2 = { r: 38, g: 35, b: 48 };\\\\n    baseColor3 = { r: 32, g: 30, b: 42 };\\\\n    baseColor4 = { r: 25, g: 23, b: 35 };\\\\n  }\\\\n  if (weatherCondition.includes(\\\\\"cloud\\\\\") || weatherCondition === \\\\\"partly-cloudy\\\\\") {\\\\n    const grayFactor = 0.7;\\\\n    baseColor1 = mixWithGray(baseColor1, grayFactor);\\\\n    baseColor2 = mixWithGray(baseColor2, grayFactor);\\\\n    baseColor3 = mixWithGray(baseColor3, grayFactor);\\\\n    baseColor4 = mixWithGray(baseColor4, grayFactor);\\\\n  } else if (weatherCondition.includes(\\\\\"rain\\\\\")) {\\\\n    const blueTint = { r: 0, g: 20, b: 40 };\\\\n    baseColor1 = mixColors(baseColor1, blueTint, 0.3);\\\\n    baseColor2 = mixColors(baseColor2, blueTint, 0.35);\\\\n    baseColor3 = mixColors(baseColor3, blueTint, 0.4);\\\\n    baseColor4 = mixColors(baseColor4, blueTint, 0.45);\\\\n    const grayFactor = 0.6;\\\\n    baseColor1 = mixWithGray(baseColor1, grayFactor);\\\\n    baseColor2 = mixWithGray(baseColor2, grayFactor);\\\\n    baseColor3 = mixWithGray(baseColor3, grayFactor);\\\\n    baseColor4 = mixWithGray(baseColor4, grayFactor);\\\\n  }\\\\n  const gradient = \\`linear-gradient(135deg, \\\\n\\\\t\\\\t\\\\trgba(\\${baseColor1.r}, \\${baseColor1.g}, \\${baseColor1.b}, 0.95) 0%,\\\\n\\\\t\\\\t\\\\trgba(\\${baseColor2.r}, \\${baseColor2.g}, \\${baseColor2.b}, 0.95) 30%,\\\\n\\\\t\\\\t\\\\trgba(\\${baseColor3.r}, \\${baseColor3.g}, \\${baseColor3.b}, 0.95) 60%,\\\\n\\\\t\\\\t\\\\trgba(\\${baseColor4.r}, \\${baseColor4.g}, \\${baseColor4.b}, 0.95) 100%\\\\n\\\\t\\\\t)\\`;\\\\n  const avgBrightness = (baseColor1.r + baseColor1.g + baseColor1.b + baseColor2.r + baseColor2.g + baseColor2.b) / 6;\\\\n  const textColor2 = avgBrightness > 160 ? \\\\\"rgba(40, 40, 40, 0.95)\\\\\" : \\\\\"rgba(255, 255, 255, 0.95)\\\\\";\\\\n  return { gradient, textColor: textColor2 };\\\\n}\\\\nfunction mixWithGray(color, factor) {\\\\n  const avg = (color.r + color.g + color.b) / 3;\\\\n  return {\\\\n    r: Math.round(color.r * (1 - factor) + avg * factor),\\\\n    g: Math.round(color.g * (1 - factor) + avg * factor),\\\\n    b: Math.round(color.b * (1 - factor) + avg * factor)\\\\n  };\\\\n}\\\\nfunction mixColors(color1, color2, ratio) {\\\\n  return {\\\\n    r: Math.round(color1.r * (1 - ratio) + color2.r * ratio),\\\\n    g: Math.round(color1.g * (1 - ratio) + color2.g * ratio),\\\\n    b: Math.round(color1.b * (1 - ratio) + color2.b * ratio)\\\\n  };\\\\n}\\\\nfunction calculateMoonPhase(date) {\\\\n  const knownNewMoon = (/* @__PURE__ */ new Date(\\\\\"2000-01-06T18:14:00Z\\\\\")).getTime();\\\\n  const lunarCycle = 29.53058770576;\\\\n  const currentTime2 = date.getTime();\\\\n  const daysSinceNewMoon = (currentTime2 - knownNewMoon) / (1e3 * 60 * 60 * 24);\\\\n  const phase = daysSinceNewMoon % lunarCycle / lunarCycle;\\\\n  return phase;\\\\n}\\\\nfunction getMoonPhaseName(phase) {\\\\n  if (phase < 0.0625) return \\\\\"New Moon\\\\\";\\\\n  if (phase < 0.1875) return \\\\\"Waxing Crescent\\\\\";\\\\n  if (phase < 0.3125) return \\\\\"First Quarter\\\\\";\\\\n  if (phase < 0.4375) return \\\\\"Waxing Gibbous\\\\\";\\\\n  if (phase < 0.5625) return \\\\\"Full Moon\\\\\";\\\\n  if (phase < 0.6875) return \\\\\"Waning Gibbous\\\\\";\\\\n  if (phase < 0.8125) return \\\\\"Last Quarter\\\\\";\\\\n  if (phase < 0.9375) return \\\\\"Waning Crescent\\\\\";\\\\n  return \\\\\"New Moon\\\\\";\\\\n}\\\\nfunction toggleDataTable() {\\\\n  isDataTableCollapsed = !isDataTableCollapsed;\\\\n  if (browser) {\\\\n    localStorage.setItem(DATA_TABLE_COLLAPSED_KEY, isDataTableCollapsed.toString());\\\\n  }\\\\n}\\\\n$: if (currentTimestamp && testDateOffset !== void 0) {\\\\n  const now = new Date(currentTimestamp);\\\\n  let testDate;\\\\n  if (timeTestMode) {\\\\n    testDate = new Date(now.getTime() + testDateOffset * 60 * 1e3);\\\\n  } else {\\\\n    testDate = now;\\\\n  }\\\\n  sunPosition = getSunPosition(testDate);\\\\n  const moonData = getMoonPosition(testDate);\\\\n  moonPosition = { x: moonData.x, y: moonData.y };\\\\n  moonScale = moonData.scale;\\\\n  moonPhase = calculateMoonPhase(testDate);\\\\n  let displayHour;\\\\n  if (timezoneOffset !== 0) {\\\\n    const utcTime = testDate.getTime() + testDate.getTimezoneOffset() * 60 * 1e3;\\\\n    const locationTime = new Date(utcTime + timezoneOffset * 1e3);\\\\n    displayHour = locationTime.getHours();\\\\n  } else {\\\\n    displayHour = testDate.getHours();\\\\n  }\\\\n  isNight = displayHour < 6 || displayHour >= 18;\\\\n  const colorData = calculateEarthColor(displayHour, condition);\\\\n  earthGradient = colorData.gradient;\\\\n  textColor = colorData.textColor;\\\\n}\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"weather-widget\\\\\" class:loaded={hasLocationData}>\\\\r\\\\n\\\\t{#if hasLocationData}\\\\r\\\\n\\\\t<!-- Temperature Unit Toggle Switch -->\\\\r\\\\n\\\\t<div class=\\\\\"unit-switch-container\\\\\">\\\\r\\\\n\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\tclass=\\\\\"unit-option\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\tclass:active={!isCelsius}\\\\r\\\\n\\\\t\\\\t\\\\ton:click={() => setUnit(false)}\\\\r\\\\n\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\u00B0F\\\\r\\\\n\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\tclass=\\\\\"unit-option\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\tclass:active={isCelsius}\\\\r\\\\n\\\\t\\\\t\\\\ton:click={() => setUnit(true)}\\\\r\\\\n\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\u00B0C\\\\r\\\\n\\\\t\\\\t</button>\\\\r\\\\n\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t<!-- Celestial System Container (centers everything together) -->\\\\r\\\\n\\\\t<div class=\\\\\"celestial-container\\\\\" class:loaded={hasLocationData} style=\\\\\"--earth-size: {earthSize}px;\\\\\">\\\\r\\\\n\\\\t\\\\t<!-- Sun (Behind Earth) -->\\\\r\\\\n\\\\t\\\\t<div \\\\r\\\\n\\\\t\\\\t\\\\tclass=\\\\\"sun\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\tstyle=\\\\\"left: {sunPosition.x}px; top: {sunPosition.y}px\\\\\"\\\\r\\\\n\\\\t\\\\t></div>\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t<!-- Moon (Behind Earth) -->\\\\r\\\\n\\\\t\\\\t<div \\\\r\\\\n\\\\t\\\\t\\\\tclass=\\\\\"moon\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\tstyle=\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tleft: {moonPosition.x}px; \\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttop: {moonPosition.y}px;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttransform: translate(-50%, -50%) scale({moonScale});\\\\r\\\\n\\\\t\\\\t\\\\t\\\\\"\\\\r\\\\n\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"moon-surface\\\\\"></div>\\\\r\\\\n\\\\t\\\\t\\\\t<div \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tclass=\\\\\"moon-shadow\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tstyle=\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ttransform: translateX({moonPhase < 0.5 ? (1 - moonPhase * 2) * 30 : (moonPhase - 0.5) * 2 * -30}px) scaleX({moonPhase < 0.5 ? 1 : -1});\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\topacity: {Math.abs(moonPhase - 0.5) * 2};\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t></div>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"moon-crescent\\\\\"></div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"earth\\\\\" style=\\\\\"background: {earthGradient}; --text-color: {textColor}\\\\\">\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t<!-- Time and Date Section -->\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"time-date-section\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"time\\\\\">{currentTime}</div>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"date\\\\\">{currentDate}</div>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"location\\\\\">{location}</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t<!-- 24-Hour Temperature Graph (layered behind temperature) -->\\\\r\\\\n\\\\t\\\\t{#if hourlyData.length > 0}\\\\r\\\\n\\\\t\\\\t\\\\t<svg class=\\\\\"temp-graph-svg\\\\\" width=\\\\\"320\\\\\" height=\\\\\"80\\\\\" viewBox=\\\\\"0 0 320 80\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<!-- Define gradient for temperature colors -->\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<defs>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<linearGradient id=\\\\\"tempGradient\\\\\" x1=\\\\\"0%\\\\\" y1=\\\\\"0%\\\\\" x2=\\\\\"100%\\\\\" y2=\\\\\"0%\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#each hourlyData.slice(0, 24) as hour, index}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{@const offset = (index / 23) * 100}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{@const color = getTemperatureColor(hour.temperature)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<stop offset=\\\\\"{offset}%\\\\\" stop-color={color} />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</linearGradient>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</defs>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<!-- Temperature line with gradient -->\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<path\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\td={temperaturePath}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tfill=\\\\\"none\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tstroke=\\\\\"url(#tempGradient)\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tstroke-width=\\\\\"8\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tstroke-linecap=\\\\\"round\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tstroke-linejoin=\\\\\"round\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t/>\\\\r\\\\n\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t<!-- Temperature - Dead Center -->\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"temperature\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<span class=\\\\\"temp-number\\\\\">{displayTemp}</span><span class=\\\\\"degree-symbol\\\\\">\u00B0{isCelsius ? 'C' : 'F'}</span>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t<!-- Humidity - Below Temperature -->\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"humidity-center\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<span class=\\\\\"humidity-value\\\\\">{humidity}</span>\\\\r\\\\n\\\\t\\\\t\\\\t<span class=\\\\\"humidity-symbols\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"symbol-phi\\\\\">\u03C6</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"symbol-percent\\\\\">%</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"symbol-drop\\\\\">\uD83D\uDCA7</span>\\\\r\\\\n\\\\t\\\\t\\\\t</span>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t<!-- Humidity Wave (at bottom) -->\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"humidity\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"humidity-wave\\\\\"></div>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t</div>\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t<!-- Time Test Slider (only shown when ?timeTest=true) -->\\\\r\\\\n\\\\t{#if timeTestMode}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"time-test-slider\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<a href=\\\\\"/\\\\\" class=\\\\\"close-time-test\\\\\" data-sveltekit-reload title=\\\\\"Disable Time Travel Mode\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<svg xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" width=\\\\\"16\\\\\" height=\\\\\"16\\\\\" viewBox=\\\\\"0 0 24 24\\\\\" fill=\\\\\"none\\\\\" stroke=\\\\\"currentColor\\\\\" stroke-width=\\\\\"2\\\\\" stroke-linecap=\\\\\"round\\\\\" stroke-linejoin=\\\\\"round\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<line x1=\\\\\"18\\\\\" y1=\\\\\"6\\\\\" x2=\\\\\"6\\\\\" y2=\\\\\"18\\\\\"/>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<line x1=\\\\\"6\\\\\" y1=\\\\\"6\\\\\" x2=\\\\\"18\\\\\" y2=\\\\\"18\\\\\"/>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t\\\\t</a>\\\\r\\\\n\\\\t\\\\t\\\\t<label for=\\\\\"time-offset\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tTime: {testDateOffset === 0 ? 'Now' : \\`\\${Math.abs(testDateOffset)} mins ago\\`}\\\\r\\\\n\\\\t\\\\t\\\\t</label>\\\\r\\\\n\\\\t\\\\t\\\\t<input \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tid=\\\\\"time-offset\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttype=\\\\\"range\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tmin=\\\\\"-1440\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tmax=\\\\\"0\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tstep=\\\\\"10\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tbind:value={testDateOffset}\\\\r\\\\n\\\\t\\\\t\\\\t/>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"slider-labels\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span>24h ago</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span>12h ago</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span>Now</span>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"time-test-info\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\u2139\uFE0F Time travel currently changes the time but not  the weather data (YET!)\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{:else}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"time-test-link-container\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<a href=\\\\\"/?timeTest=true\\\\\" class=\\\\\"time-test-link\\\\\" data-sveltekit-reload>Enable Time Travel Mode</a>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t<!-- Data Table -->\\\\r\\\\n\\\\t<div class=\\\\\"data-table\\\\\">\\\\r\\\\n\\\\t\\\\t<button class=\\\\\"data-table-header\\\\\" on:click={toggleDataTable}>\\\\r\\\\n\\\\t\\\\t\\\\t<h3>Lotsa Data</h3>\\\\r\\\\n\\\\t\\\\t\\\\t<svg \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tclass=\\\\\"collapse-icon\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tclass:collapsed={isDataTableCollapsed}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\txmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\twidth=\\\\\"20\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\theight=\\\\\"20\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tviewBox=\\\\\"0 0 24 24\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tfill=\\\\\"none\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tstroke=\\\\\"currentColor\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tstroke-width=\\\\\"2\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tstroke-linecap=\\\\\"round\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tstroke-linejoin=\\\\\"round\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<polyline points=\\\\\"6 9 12 15 18 9\\\\\"></polyline>\\\\r\\\\n\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t{#if !isDataTableCollapsed}\\\\r\\\\n\\\\t\\\\t<table>\\\\r\\\\n\\\\t\\\\t\\\\t<tbody>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<!-- Time Data -->\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr class=\\\\\"section-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td colspan=\\\\\"2\\\\\">Time Information</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Current Time</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{currentTime}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Current Date</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{currentDate}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Timezone</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{timezone || 'N/A'}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>UTC Offset</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{timezoneOffset ? \\`\\${timezoneOffset > 0 ? '+' : ''}\\${Math.round(timezoneOffset / 3600)} hours\\` : 'N/A'}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if timeTestMode}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Time Travel Offset</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{testDateOffset === 0 ? 'None (Now)' : \\`\\${Math.abs(testDateOffset)} minutes ago\\`}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<!-- Location Data -->\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr class=\\\\\"section-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td colspan=\\\\\"2\\\\\">Location Information</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Location</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{location}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if latitude !== null && longitude !== null}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Coordinates</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{latitude.toFixed(4)}\u00B0, {longitude.toFixed(4)}\u00B0</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Data Source</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{savedZipCode ? \\`ZIP Code (\\${savedZipCode})\\` : 'Browser Location'}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<!-- Weather Data -->\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr class=\\\\\"section-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td colspan=\\\\\"2\\\\\">Weather Information</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Temperature</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{displayTemp}\u00B0{isCelsius ? 'C' : 'F'} ({temperature}\u00B0F)</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Humidity</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{humidity}%</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Condition</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{condition.replace('-', ' ').replace(/\\\\\\\\b\\\\\\\\w/g, l => l.toUpperCase())}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if description}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Description</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{description}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<!-- Celestial Data -->\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr class=\\\\\"section-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td colspan=\\\\\"2\\\\\">Celestial Information</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if sunrise}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Sunrise</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{new Date(sunrise * 1000).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if sunset}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Sunset</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{new Date(sunset * 1000).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if moonrise}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Moonrise</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{new Date(moonrise * 1000).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if moonset}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Moonset</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{new Date(moonset * 1000).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true })}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Moon Phase</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{(moonPhase * 100).toFixed(1)}% ({getMoonPhaseName(moonPhase)})</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Moon Scale</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{moonScale.toFixed(2)}x</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Sun Position</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>X: {sunPosition.x.toFixed(1)}px, Y: {sunPosition.y.toFixed(1)}px</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Moon Position</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>X: {moonPosition.x.toFixed(1)}px, Y: {moonPosition.y.toFixed(1)}px</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<!-- System Data -->\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr class=\\\\\"section-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td colspan=\\\\\"2\\\\\">System Information</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Last Update</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{new Date(lastUpdate).toLocaleString('en-US', { dateStyle: 'short', timeStyle: 'short' })}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Current Timestamp</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{currentTimestamp}</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<tr>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>Hourly Data Points</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<td>{hourlyData.length} hours</td>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</tr>\\\\r\\\\n\\\\t\\\\t\\\\t</tbody>\\\\r\\\\n\\\\t\\\\t</table>\\\\r\\\\n\\\\t\\\\t{/if}\\\\r\\\\n\\\\t</div>\\\\r\\\\n\\\\t{:else}\\\\r\\\\n\\\\t\\\\t<!-- No Location Message -->\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"no-location-message\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<p>Set location for weather widget</p>\\\\r\\\\n\\\\t\\\\t\\\\t<button on:click={requestBrowserLocation} class=\\\\\"share-location-button\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tShare location from device\\\\r\\\\n\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t<!-- Zip Code Entry Form (always visible) -->\\\\r\\\\n\\\\t<div class=\\\\\"location-controls\\\\\">\\\\r\\\\n\\\\t\\\\t<form on:submit|preventDefault={handleZipCodeSubmit} class=\\\\\"zip-form\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<input \\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttype=\\\\\"text\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tbind:value={zipCodeInput}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tplaceholder=\\\\\"Enter ZIP code\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tinputmode=\\\\\"numeric\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tmaxlength=\\\\\"5\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tclass=\\\\\"zip-input\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t/>\\\\r\\\\n\\\\t\\\\t\\\\t<button type=\\\\\"submit\\\\\" class=\\\\\"zip-submit\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tSet Location\\\\r\\\\n\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t</form>\\\\r\\\\n\\\\t\\\\t{#if savedZipCode}\\\\r\\\\n\\\\t\\\\t\\\\t<button on:click={handleResetLocation} class=\\\\\"reset-button\\\\\" title=\\\\\"Reset to Browser Location\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<svg xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" width=\\\\\"18\\\\\" height=\\\\\"18\\\\\" viewBox=\\\\\"0 0 24 24\\\\\" fill=\\\\\"currentColor\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<path d=\\\\\"M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z\\\\\"/>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t{/if}\\\\r\\\\n\\\\t</div>\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.weather-widget {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 1.5rem;\\\\r\\\\n\\\\t\\\\tpadding: 2rem;\\\\r\\\\n\\\\t\\\\tmin-height: 400px;\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.celestial-container {\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\twidth: var(--earth-size, 320px);\\\\r\\\\n\\\\t\\\\theight: var(--earth-size, 320px);\\\\r\\\\n\\\\t\\\\tflex-shrink: 0;\\\\r\\\\n\\\\t\\\\tpadding: 40px;\\\\r\\\\n\\\\t\\\\tbox-sizing: content-box;\\\\r\\\\n\\\\t\\\\topacity: 0;\\\\r\\\\n\\\\t\\\\ttransition: opacity 0.8s ease-in-out;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.celestial-container.loaded {\\\\r\\\\n\\\\t\\\\topacity: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.earth {\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\twidth: var(--earth-size, 320px);\\\\r\\\\n\\\\t\\\\theight: var(--earth-size, 320px);\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 8px 32px var(--shadow);\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\ttransition: background 1s ease, color 1s ease;\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\tflex-shrink: 0;\\\\r\\\\n\\\\t\\\\taspect-ratio: 1 / 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.sun,\\\\r\\\\n\\\\t.moon {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\twidth: calc(var(--earth-size, 320px) * 0.1875); /* 60px / 320px = 0.1875 */\\\\r\\\\n\\\\t\\\\theight: calc(var(--earth-size, 320px) * 0.1875);\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\ttransition: all 0.3s ease;\\\\r\\\\n\\\\t\\\\tz-index: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.sun {\\\\r\\\\n\\\\t\\\\ttransform: translate(-50%, -50%); /* Center the celestial body on its position */\\\\r\\\\n\\\\t\\\\tbackground: radial-gradient(circle, #ff9d5c 0%, #e8754a 100%);\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 0 30px rgba(255, 157, 92, 0.6);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.moon {\\\\r\\\\n\\\\t\\\\tbackground: radial-gradient(circle, #f5e6d3 0%, #d4c5b0 100%);\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 0 20px rgba(245, 230, 211, 0.4);\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.moon-surface {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 0;\\\\r\\\\n\\\\t\\\\tleft: 0;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tbackground: radial-gradient(circle, #f5e6d3 0%, #d4c5b0 100%);\\\\r\\\\n\\\\t\\\\tz-index: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.moon-shadow {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 0;\\\\r\\\\n\\\\t\\\\tleft: 0;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tbackground: radial-gradient(circle, rgba(20, 15, 25, 0.95) 0%, rgba(40, 35, 45, 0.9) 100%);\\\\r\\\\n\\\\t\\\\tz-index: 2;\\\\r\\\\n\\\\t\\\\ttransition: transform 0.3s ease, opacity 0.3s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.moon-crescent {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 5px;\\\\r\\\\n\\\\t\\\\tright: 8px;\\\\r\\\\n\\\\t\\\\twidth: 30px;\\\\r\\\\n\\\\t\\\\theight: 30px;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tbackground: radial-gradient(circle, rgba(180, 150, 130, 0.3) 0%, rgba(140, 120, 100, 0.5) 100%);\\\\r\\\\n\\\\t\\\\tbox-shadow: inset -4px -2px 8px rgba(0, 0, 0, 0.2);\\\\r\\\\n\\\\t\\\\tz-index: 3;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.unit-switch-container {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 0;\\\\r\\\\n\\\\t\\\\tright: 0;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 2px 8px var(--shadow);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.unit-option {\\\\r\\\\n\\\\t\\\\tpadding: 0.4rem 0.8rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tbackground: transparent;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\tmin-width: 40px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.unit-option:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.unit-option.active {\\\\r\\\\n\\\\t\\\\tbackground: var(--primary-color);\\\\r\\\\n\\\\t\\\\tcolor: white;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time {\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\tz-index: 3;\\\\r\\\\n\\\\t\\\\tfont-size: 1.75rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 300;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-color, var(--text-primary));\\\\r\\\\n\\\\t\\\\tletter-spacing: 0.5px;\\\\r\\\\n\\\\t\\\\ttext-shadow: 0 2px 4px var(--shadow);\\\\r\\\\n\\\\t\\\\tfont-variant-numeric: tabular-nums;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.date {\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\tz-index: 3;\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-color, var(--text-secondary));\\\\r\\\\n\\\\t\\\\topacity: 0.7;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.25rem;\\\\r\\\\n\\\\t\\\\ttext-shadow: 0 1px 2px var(--shadow);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.location {\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\tz-index: 3;\\\\r\\\\n\\\\t\\\\tfont-size: 1rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-color, var(--text-primary));\\\\r\\\\n\\\\t\\\\topacity: 0.8;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.5rem;\\\\r\\\\n\\\\t\\\\ttext-shadow: 0 1px 2px var(--shadow);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-date-section {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 0.9rem;\\\\r\\\\n\\\\t\\\\tleft: 50%;\\\\r\\\\n\\\\t\\\\ttransform: translateX(-50%);\\\\r\\\\n\\\\t\\\\tz-index: 3;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.temperature {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 50%;\\\\r\\\\n\\\\t\\\\tleft: 50%;\\\\r\\\\n\\\\t\\\\ttransform: translate(-50%, -50%);\\\\r\\\\n\\\\t\\\\tz-index: 2;\\\\r\\\\n\\\\t\\\\tfont-size: 5rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-color, var(--text-primary));\\\\r\\\\n\\\\t\\\\tline-height: 1;\\\\r\\\\n\\\\t\\\\ttext-shadow: \\\\r\\\\n\\\\t\\\\t\\\\t0 2px 4px var(--shadow),\\\\r\\\\n\\\\t\\\\t\\\\t0 4px 8px var(--shadow),\\\\r\\\\n\\\\t\\\\t\\\\t0 0 20px var(--shadow);\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: flex-start;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.degree-symbol {\\\\r\\\\n\\\\t\\\\tfont-size: 2.5rem;\\\\r\\\\n\\\\t\\\\tmargin-left: 0.25rem;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.humidity-center {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 50%;\\\\r\\\\n\\\\t\\\\tleft: 50%;\\\\r\\\\n\\\\t\\\\ttransform: translateX(-50%);\\\\r\\\\n\\\\t\\\\tmargin-top: 3rem;\\\\r\\\\n\\\\t\\\\tz-index: 2;\\\\r\\\\n\\\\t\\\\tfont-size: 1.5rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 300;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-color, var(--text-primary));\\\\r\\\\n\\\\t\\\\ttext-shadow: 0 2px 4px var(--shadow);\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 0.3rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.humidity-value {\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tfont-size: 1.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.humidity-symbols {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgrid-template-columns: auto auto;\\\\r\\\\n\\\\t\\\\tgrid-template-rows: auto auto;\\\\r\\\\n\\\\t\\\\tgap: 0.1rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t\\\\topacity: 0.8;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-items: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.symbol-phi {\\\\r\\\\n\\\\t\\\\tgrid-column: 1 / 3;\\\\r\\\\n\\\\t\\\\tgrid-row: 1;\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.symbol-percent {\\\\r\\\\n\\\\t\\\\tgrid-column: 1;\\\\r\\\\n\\\\t\\\\tgrid-row: 2;\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.symbol-drop {\\\\r\\\\n\\\\t\\\\tgrid-column: 2;\\\\r\\\\n\\\\t\\\\tgrid-row: 2;\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.temp-graph-svg {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 50%;\\\\r\\\\n\\\\t\\\\tleft: 50%;\\\\r\\\\n\\\\t\\\\ttransform: translate(-50%, -50%);\\\\r\\\\n\\\\t\\\\tz-index: 1;\\\\r\\\\n\\\\t\\\\topacity: 0.7;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.humidity {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\tbottom: 0;\\\\r\\\\n\\\\t\\\\tleft: 0;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 60px;\\\\r\\\\n\\\\t\\\\tz-index: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.humidity-wave {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\tbottom: 0;\\\\r\\\\n\\\\t\\\\tleft: 0;\\\\r\\\\n\\\\t\\\\tright: 0;\\\\r\\\\n\\\\t\\\\theight: 40px;\\\\r\\\\n\\\\t\\\\tbackground: linear-gradient(180deg, \\\\r\\\\n\\\\t\\\\t\\\\trgba(100, 150, 200, 0.3) 0%,\\\\r\\\\n\\\\t\\\\t\\\\trgba(80, 130, 180, 0.4) 50%,\\\\r\\\\n\\\\t\\\\t\\\\trgba(60, 110, 160, 0.5) 100%\\\\r\\\\n\\\\t\\\\t);\\\\r\\\\n\\\\t\\\\tborder-radius: 0 0 160px 160px;\\\\r\\\\n\\\\t\\\\tclip-path: ellipse(160px 40px at 50% 100%);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Time Test Slider */\\\\r\\\\n\\\\t.time-test-slider {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmax-width: 320px;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder-radius: 12px;\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.close-time-test {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 0.5rem;\\\\r\\\\n\\\\t\\\\tright: 0.5rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\twidth: 24px;\\\\r\\\\n\\\\t\\\\theight: 24px;\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t\\\\ttext-decoration: none;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.close-time-test:hover {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-test-info {\\\\r\\\\n\\\\t\\\\tpadding: 0.625rem 0.75rem;\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 10%, transparent);\\\\r\\\\n\\\\t\\\\tborder: 1px solid color-mix(in srgb, var(--primary-color) 20%, transparent);\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tcolor: var(--primary-color);\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.25rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-test-slider label {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-test-slider input[type=\\\\\"range\\\\\"] {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 6px;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-radius: 3px;\\\\r\\\\n\\\\t\\\\toutline: none;\\\\r\\\\n\\\\t\\\\tappearance: none;\\\\r\\\\n\\\\t\\\\t-webkit-appearance: none;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-test-slider input[type=\\\\\"range\\\\\"]::-webkit-slider-thumb {\\\\r\\\\n\\\\t\\\\t-webkit-appearance: none;\\\\r\\\\n\\\\t\\\\tappearance: none;\\\\r\\\\n\\\\t\\\\twidth: 18px;\\\\r\\\\n\\\\t\\\\theight: 18px;\\\\r\\\\n\\\\t\\\\tbackground: var(--text-primary);\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 2px 4px var(--shadow);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-test-slider input[type=\\\\\"range\\\\\"]::-moz-range-thumb {\\\\r\\\\n\\\\t\\\\twidth: 18px;\\\\r\\\\n\\\\t\\\\theight: 18px;\\\\r\\\\n\\\\t\\\\tbackground: var(--text-primary);\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 2px 4px var(--shadow);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.slider-labels {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Time Test Link */\\\\r\\\\n\\\\t.time-test-link-container {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmax-width: 320px;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-test-link {\\\\r\\\\n\\\\t\\\\tfont-size: 0.8125rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\ttext-decoration: none;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem 1rem;\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.time-test-link:hover {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* No Location Message */\\\\r\\\\n\\\\t.no-location-message {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\tmin-height: 400px;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.no-location-message p {\\\\r\\\\n\\\\t\\\\tfont-size: 1.125rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t\\\\tmargin: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.share-location-button {\\\\r\\\\n\\\\t\\\\tpadding: 0.75rem 1.5rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.9375rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 20%, transparent);\\\\r\\\\n\\\\t\\\\tborder: 1px solid color-mix(in srgb, var(--primary-color) 40%, transparent);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\tcolor: var(--primary-color);\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.share-location-button:hover {\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 30%, transparent);\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 60%, transparent);\\\\r\\\\n\\\\t\\\\ttransform: translateY(-1px);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.share-location-button:active {\\\\r\\\\n\\\\t\\\\ttransform: translateY(0);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Location Controls */\\\\r\\\\n\\\\t.location-controls {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmax-width: 320px;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.zip-form {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.zip-input {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\tpadding: 0.6rem 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\toutline: none;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\tfont-family: inherit;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.zip-input::placeholder {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.zip-input:focus {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-color: var(--outline-variant);\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 0 0 3px color-mix(in srgb, var(--primary-color) 10%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.zip-submit {\\\\r\\\\n\\\\t\\\\tpadding: 0.6rem 1.25rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--outline-variant);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\twhite-space: nowrap;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.zip-submit:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-highest);\\\\r\\\\n\\\\t\\\\tborder-color: var(--outline-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.zip-submit:active {\\\\r\\\\n\\\\t\\\\ttransform: scale(0.98);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.reset-button {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tpadding: 0.6rem;\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 15%, transparent);\\\\r\\\\n\\\\t\\\\tborder: 1px solid color-mix(in srgb, var(--primary-color) 30%, transparent);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\tcolor: var(--primary-color);\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.reset-button:hover {\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 25%, transparent);\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 40%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.reset-button:active {\\\\r\\\\n\\\\t\\\\ttransform: scale(0.98);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Data Table */\\\\r\\\\n\\\\t.data-table {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmax-width: 500px;\\\\r\\\\n\\\\t\\\\tmargin-top: 1.5rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 12px;\\\\r\\\\n\\\\t\\\\tbackdrop-filter: blur(10px);\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table-header {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground: transparent;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: background 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table-header:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table-header h3 {\\\\r\\\\n\\\\t\\\\tmargin: 0;\\\\r\\\\n\\\\t\\\\tfont-size: 1rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\ttext-align: left;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.collapse-icon {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\ttransition: transform 0.3s ease;\\\\r\\\\n\\\\t\\\\tflex-shrink: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.collapse-icon.collapsed {\\\\r\\\\n\\\\t\\\\ttransform: rotate(-90deg);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table table {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tborder-collapse: collapse;\\\\r\\\\n\\\\t\\\\tfont-size: 0.8125rem;\\\\r\\\\n\\\\t\\\\tpadding: 0 1rem 1rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table tbody tr {\\\\r\\\\n\\\\t\\\\tborder-bottom: 1px solid color-mix(in srgb, var(--border) 50%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table tbody tr:last-child {\\\\r\\\\n\\\\t\\\\tborder-bottom: none;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table tbody tr.section-header {\\\\r\\\\n\\\\t\\\\tborder-bottom: 1px solid var(--border);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table tbody tr.section-header td {\\\\r\\\\n\\\\t\\\\tpadding: 0.75rem 0.5rem 0.5rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\ttext-transform: uppercase;\\\\r\\\\n\\\\t\\\\tletter-spacing: 0.05em;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\ttext-align: left;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table tbody tr.section-header:first-child td {\\\\r\\\\n\\\\t\\\\tpadding-top: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table td {\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--on-surface);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table td:first-child {\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\twidth: 45%;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.data-table td:last-child {\\\\r\\\\n\\\\t\\\\ttext-align: right;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Responsive adjustments */\\\\r\\\\n\\\\t@media (max-width: 768px) {\\\\r\\\\n\\\\t\\\\t.time {\\\\r\\\\n\\\\t\\\\t\\\\tfont-size: 1.5rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.temperature {\\\\r\\\\n\\\\t\\\\t\\\\tfont-size: 4rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.data-table {\\\\r\\\\n\\\\t\\\\t\\\\tmax-width: 100%;\\\\r\\\\n\\\\t\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.data-table td {\\\\r\\\\n\\\\t\\\\t\\\\tpadding: 0.4rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"AAy5BC,2CAAgB,CACf,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,MAAM,CACX,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,KAAK,CACjB,QAAQ,CAAE,QACX,CAEA,gDAAqB,CACpB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,YAAY,CAAC,MAAM,CAAC,CAC/B,MAAM,CAAE,IAAI,YAAY,CAAC,MAAM,CAAC,CAChC,WAAW,CAAE,CAAC,CACd,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,WAAW,CACvB,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,OAAO,CAAC,IAAI,CAAC,WAC1B,CAEA,oBAAoB,mCAAQ,CAC3B,OAAO,CAAE,CACV,CAEA,kCAAO,CACN,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,YAAY,CAAC,MAAM,CAAC,CAC/B,MAAM,CAAE,IAAI,YAAY,CAAC,MAAM,CAAC,CAChC,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,CACpC,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,UAAU,CAAE,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAC7C,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,CAAC,CACd,YAAY,CAAE,CAAC,CAAC,CAAC,CAAC,CACnB,CAEA,gCAAI,CACJ,iCAAM,CACL,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,KAAK,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAC9C,MAAM,CAAE,KAAK,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAC/C,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CACzB,OAAO,CAAE,CACV,CAEA,gCAAK,CACJ,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAChC,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAC7D,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAC5C,CAEA,iCAAM,CACL,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAC7D,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC7C,QAAQ,CAAE,MACX,CAEA,yCAAc,CACb,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAC7D,OAAO,CAAE,CACV,CAEA,wCAAa,CACZ,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAC1F,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAC/C,CAEA,0CAAe,CACd,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,KAAK,CAAE,GAAG,CACV,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAC/F,UAAU,CAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAClD,OAAO,CAAE,CACV,CAEA,kDAAuB,CACtB,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,KAAK,CAAE,CAAC,CACR,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,IAAI,SAAS,CAAC,CAC1B,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAC/B,aAAa,CAAE,GAAG,CAClB,QAAQ,CAAE,MAAM,CAChB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CACnC,CAEA,wCAAa,CACZ,OAAO,CAAE,MAAM,CAAC,MAAM,CACtB,SAAS,CAAE,QAAQ,CACnB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CACzB,SAAS,CAAE,IACZ,CAEA,wCAAY,MAAO,CAClB,UAAU,CAAE,IAAI,iBAAiB,CAClC,CAEA,YAAY,mCAAQ,CACnB,UAAU,CAAE,IAAI,eAAe,CAAC,CAChC,KAAK,CAAE,KACR,CAEA,iCAAM,CACL,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,YAAY,CAAC,oBAAoB,CAAC,CAC7C,cAAc,CAAE,KAAK,CACrB,WAAW,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,CACpC,oBAAoB,CAAE,YACvB,CAEA,iCAAM,CACL,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,OAAO,CAClB,KAAK,CAAE,IAAI,YAAY,CAAC,sBAAsB,CAAC,CAC/C,OAAO,CAAE,GAAG,CACZ,UAAU,CAAE,OAAO,CACnB,WAAW,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CACpC,CAEA,qCAAU,CACT,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,IAAI,YAAY,CAAC,oBAAoB,CAAC,CAC7C,OAAO,CAAE,GAAG,CACZ,UAAU,CAAE,MAAM,CAClB,WAAW,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CACpC,CAEA,8CAAmB,CAClB,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,MAAM,CACX,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,WAAW,IAAI,CAAC,CAC3B,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,IACR,CAEA,wCAAa,CACZ,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAChC,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,YAAY,CAAC,oBAAoB,CAAC,CAC7C,WAAW,CAAE,CAAC,CACd,WAAW,CACV,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,CAAC;AAC3B,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,CAAC;AAC3B,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,CACvB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,UAAU,CACvB,eAAe,CAAE,MAClB,CAEA,0CAAe,CACd,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,OAAO,CACpB,UAAU,CAAE,MACb,CAEA,4CAAiB,CAChB,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,WAAW,IAAI,CAAC,CAC3B,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,YAAY,CAAC,oBAAoB,CAAC,CAC7C,WAAW,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,CACpC,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,MACN,CAEA,2CAAgB,CACf,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,MACZ,CAEA,6CAAkB,CACjB,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,IAAI,CAAC,IAAI,CAChC,kBAAkB,CAAE,IAAI,CAAC,IAAI,CAC7B,GAAG,CAAE,MAAM,CACX,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,GAAG,CACZ,WAAW,CAAE,MAAM,CACnB,aAAa,CAAE,MAChB,CAEA,uCAAY,CACX,WAAW,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAClB,QAAQ,CAAE,CAAC,CACX,SAAS,CAAE,MACZ,CAEA,2CAAgB,CACf,WAAW,CAAE,CAAC,CACd,QAAQ,CAAE,CAAC,CACX,SAAS,CAAE,MACZ,CAEA,wCAAa,CACZ,WAAW,CAAE,CAAC,CACd,QAAQ,CAAE,CAAC,CACX,SAAS,CAAE,MACZ,CAEA,2CAAgB,CACf,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAChC,OAAO,CAAE,CAAC,CACV,OAAO,CAAE,GACV,CAEA,qCAAU,CACT,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,CAAC,CACT,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CACV,CAEA,0CAAe,CACd,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,CAAC,CACT,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,gBAAgB,MAAM,CAAC;AACrC,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;AAC/B,GAAG,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;AAC/B,GAAG,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI;AAC/B,GAAG,CACD,aAAa,CAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAC9B,SAAS,CAAE,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAC1C,CAGA,6CAAkB,CACjB,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,IAAI,iBAAiB,CAAC,CAClC,aAAa,CAAE,IAAI,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAC/B,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,MAAM,CACX,QAAQ,CAAE,QACX,CAEA,4CAAiB,CAChB,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,MAAM,CACX,KAAK,CAAE,MAAM,CACb,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CACzB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,eAAe,CAAE,IAClB,CAEA,4CAAgB,MAAO,CACtB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,UAAU,CAAE,IAAI,wBAAwB,CACzC,CAEA,2CAAgB,CACf,OAAO,CAAE,QAAQ,CAAC,OAAO,CACzB,UAAU,CAAE,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CACrE,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAC3E,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,IAAI,eAAe,CAAC,CAC3B,SAAS,CAAE,OAAO,CAClB,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,OACb,CAEA,+BAAiB,CAAC,mBAAM,CACvB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,SAAS,CAAE,QAAQ,CACnB,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,MACb,CAEA,+BAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,eAAE,CACrC,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,GAAG,CACX,UAAU,CAAE,IAAI,wBAAwB,CAAC,CACzC,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,IAAI,CAChB,kBAAkB,CAAE,IACrB,CAEA,+BAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,eAAC,sBAAuB,CAC3D,kBAAkB,CAAE,IAAI,CACxB,UAAU,CAAE,IAAI,CAChB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,IAAI,cAAc,CAAC,CAC/B,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CACnC,CAEA,+BAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,eAAC,kBAAmB,CACvD,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,IAAI,cAAc,CAAC,CAC/B,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,OAAO,CACf,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CACnC,CAEA,0CAAe,CACd,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,SAAS,CAAE,OACZ,CAGA,qDAA0B,CACzB,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,UAAU,CAAE,MACb,CAEA,2CAAgB,CACf,SAAS,CAAE,SAAS,CACpB,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,eAAe,CAAE,IAAI,CACrB,OAAO,CAAE,MAAM,CAAC,IAAI,CACpB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IACtB,CAEA,2CAAe,MAAO,CACrB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,UAAU,CAAE,IAAI,iBAAiB,CAClC,CAGA,gDAAqB,CACpB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,GAAG,CAAE,IAAI,CACT,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,IACR,CAEA,kCAAoB,CAAC,eAAE,CACtB,SAAS,CAAE,QAAQ,CACnB,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,UAAU,CAAE,MAAM,CAClB,MAAM,CAAE,CACT,CAEA,kDAAuB,CACtB,OAAO,CAAE,OAAO,CAAC,MAAM,CACvB,SAAS,CAAE,SAAS,CACpB,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CACrE,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAC3E,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,IAAI,eAAe,CAAC,CAC3B,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IACtB,CAEA,kDAAsB,MAAO,CAC5B,UAAU,CAAE,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CACrE,YAAY,CAAE,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CACvE,SAAS,CAAE,WAAW,IAAI,CAC3B,CAEA,kDAAsB,OAAQ,CAC7B,SAAS,CAAE,WAAW,CAAC,CACxB,CAGA,8CAAmB,CAClB,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,OAAO,CACZ,UAAU,CAAE,MACb,CAEA,qCAAU,CACT,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,MAAM,CACX,KAAK,CAAE,IACR,CAEA,sCAAW,CACV,IAAI,CAAE,CAAC,CACP,OAAO,CAAE,MAAM,CAAC,QAAQ,CACxB,SAAS,CAAE,QAAQ,CACnB,UAAU,CAAE,IAAI,iBAAiB,CAAC,CAClC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAC/B,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CACzB,WAAW,CAAE,OACd,CAEA,sCAAU,aAAc,CACvB,KAAK,CAAE,IAAI,gBAAgB,CAC5B,CAEA,sCAAU,MAAO,CAChB,UAAU,CAAE,IAAI,wBAAwB,CAAC,CACzC,YAAY,CAAE,IAAI,iBAAiB,CAAC,CACpC,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAC/E,CAEA,uCAAY,CACX,OAAO,CAAE,MAAM,CAAC,OAAO,CACvB,SAAS,CAAE,QAAQ,CACnB,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,IAAI,wBAAwB,CAAC,CACzC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,iBAAiB,CAAC,CACxC,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CACzB,WAAW,CAAE,MACd,CAEA,uCAAW,MAAO,CACjB,UAAU,CAAE,IAAI,2BAA2B,CAAC,CAC5C,YAAY,CAAE,IAAI,iBAAiB,CACpC,CAEA,uCAAW,OAAQ,CAClB,SAAS,CAAE,MAAM,IAAI,CACtB,CAEA,yCAAc,CACb,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,MAAM,CACf,UAAU,CAAE,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CACrE,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAC3E,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,IAAI,eAAe,CAAC,CAC3B,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CACzB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAClB,CAEA,yCAAa,MAAO,CACnB,UAAU,CAAE,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CACrE,YAAY,CAAE,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CACvE,CAEA,yCAAa,OAAQ,CACpB,SAAS,CAAE,MAAM,IAAI,CACtB,CAGA,uCAAY,CACX,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,CAChB,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,IAAI,iBAAiB,CAAC,CAClC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAC/B,aAAa,CAAE,IAAI,CACnB,eAAe,CAAE,KAAK,IAAI,CAAC,CAC3B,QAAQ,CAAE,MACX,CAEA,8CAAmB,CAClB,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aAAa,CAC9B,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,WAAW,CACvB,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,UAAU,CAAC,IAAI,CAAC,IAC7B,CAEA,8CAAkB,MAAO,CACxB,UAAU,CAAE,IAAI,wBAAwB,CACzC,CAEA,gCAAkB,CAAC,gBAAG,CACrB,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,UAAU,CAAE,IACb,CAEA,0CAAe,CACd,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,UAAU,CAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAC/B,WAAW,CAAE,CACd,CAEA,cAAc,sCAAW,CACxB,SAAS,CAAE,OAAO,MAAM,CACzB,CAEA,yBAAW,CAAC,mBAAM,CACjB,KAAK,CAAE,IAAI,CACX,eAAe,CAAE,QAAQ,CACzB,SAAS,CAAE,SAAS,CACpB,OAAO,CAAE,CAAC,CAAC,IAAI,CAAC,IACjB,CAEA,yBAAW,CAAC,KAAK,CAAC,gBAAG,CACpB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,CAC3E,CAEA,yBAAW,CAAC,KAAK,CAAC,gBAAE,WAAY,CAC/B,aAAa,CAAE,IAChB,CAEA,yBAAW,CAAC,KAAK,CAAC,EAAE,6BAAgB,CACnC,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CACtC,CAEA,yBAAW,CAAC,KAAK,CAAC,EAAE,eAAe,CAAC,gBAAG,CACtC,OAAO,CAAE,OAAO,CAAC,MAAM,CAAC,MAAM,CAC9B,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,OAAO,CAClB,cAAc,CAAE,SAAS,CACzB,cAAc,CAAE,MAAM,CACtB,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,UAAU,CAAE,IACb,CAEA,yBAAW,CAAC,KAAK,CAAC,EAAE,eAAe,YAAY,CAAC,gBAAG,CAClD,WAAW,CAAE,CACd,CAEA,yBAAW,CAAC,gBAAG,CACd,OAAO,CAAE,MAAM,CACf,KAAK,CAAE,IAAI,YAAY,CACxB,CAEA,yBAAW,CAAC,gBAAE,YAAa,CAC1B,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,KAAK,CAAE,GACR,CAEA,yBAAW,CAAC,gBAAE,WAAY,CACzB,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,WAAW,CAAE,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,aAAa,CAAC,CAAC,SACjE,CAGA,MAAO,YAAY,KAAK,CAAE,CACzB,iCAAM,CACL,SAAS,CAAE,MACZ,CAEA,wCAAa,CACZ,SAAS,CAAE,IACZ,CAEA,uCAAY,CACX,SAAS,CAAE,IAAI,CACf,SAAS,CAAE,OACZ,CAEA,yBAAW,CAAC,gBAAG,CACd,OAAO,CAAE,MACV,CACD\"}`\n};\nfunction generateTemperaturePath(hourly) {\n  if (hourly.length === 0) return \"\";\n  const width = 320;\n  const height = 80;\n  const padding2 = 0;\n  const temps = hourly.map((h) => h.temperature);\n  const minTemp = Math.min(...temps);\n  const maxTemp = Math.max(...temps);\n  const tempRange = maxTemp - minTemp || 10;\n  const points = hourly.map((hour, index) => {\n    const x = padding2 + index / (hourly.length - 1) * (width - 2 * padding2);\n    const normalizedTemp = (hour.temperature - minTemp) / tempRange;\n    const y = height - padding2 - normalizedTemp * (height - 2 * padding2);\n    return `${x},${y}`;\n  });\n  return `M ${points.join(\" L \")}`;\n}\nfunction calculateEarthColor(hour, weatherCondition) {\n  const hoursFromNoon = Math.abs(12 - hour);\n  const dayBrightness = 1 - hoursFromNoon / 12;\n  let baseColor1, baseColor2, baseColor3, baseColor4;\n  if (dayBrightness > 0.8) {\n    baseColor1 = { r: 245, g: 240, b: 235 };\n    baseColor2 = { r: 230, g: 220, b: 210 };\n    baseColor3 = { r: 215, g: 205, b: 195 };\n    baseColor4 = { r: 200, g: 190, b: 180 };\n  } else if (dayBrightness > 0.6) {\n    baseColor1 = { r: 212, g: 180, b: 140 };\n    baseColor2 = { r: 195, g: 165, b: 125 };\n    baseColor3 = { r: 180, g: 150, b: 115 };\n    baseColor4 = { r: 165, g: 140, b: 105 };\n  } else if (dayBrightness > 0.4) {\n    baseColor1 = { r: 150, g: 120, b: 100 };\n    baseColor2 = { r: 130, g: 105, b: 90 };\n    baseColor3 = { r: 115, g: 95, b: 80 };\n    baseColor4 = { r: 100, g: 85, b: 70 };\n  } else if (dayBrightness > 0.2) {\n    baseColor1 = { r: 90, g: 75, b: 85 };\n    baseColor2 = { r: 75, g: 65, b: 75 };\n    baseColor3 = { r: 65, g: 55, b: 65 };\n    baseColor4 = { r: 55, g: 48, b: 58 };\n  } else {\n    baseColor1 = { r: 45, g: 40, b: 55 };\n    baseColor2 = { r: 38, g: 35, b: 48 };\n    baseColor3 = { r: 32, g: 30, b: 42 };\n    baseColor4 = { r: 25, g: 23, b: 35 };\n  }\n  if (weatherCondition.includes(\"cloud\") || weatherCondition === \"partly-cloudy\") {\n    const grayFactor = 0.7;\n    baseColor1 = mixWithGray(baseColor1, grayFactor);\n    baseColor2 = mixWithGray(baseColor2, grayFactor);\n    baseColor3 = mixWithGray(baseColor3, grayFactor);\n    baseColor4 = mixWithGray(baseColor4, grayFactor);\n  } else if (weatherCondition.includes(\"rain\")) {\n    const blueTint = { r: 0, g: 20, b: 40 };\n    baseColor1 = mixColors(baseColor1, blueTint, 0.3);\n    baseColor2 = mixColors(baseColor2, blueTint, 0.35);\n    baseColor3 = mixColors(baseColor3, blueTint, 0.4);\n    baseColor4 = mixColors(baseColor4, blueTint, 0.45);\n    const grayFactor = 0.6;\n    baseColor1 = mixWithGray(baseColor1, grayFactor);\n    baseColor2 = mixWithGray(baseColor2, grayFactor);\n    baseColor3 = mixWithGray(baseColor3, grayFactor);\n    baseColor4 = mixWithGray(baseColor4, grayFactor);\n  }\n  const gradient = `linear-gradient(135deg, \n\t\t\trgba(${baseColor1.r}, ${baseColor1.g}, ${baseColor1.b}, 0.95) 0%,\n\t\t\trgba(${baseColor2.r}, ${baseColor2.g}, ${baseColor2.b}, 0.95) 30%,\n\t\t\trgba(${baseColor3.r}, ${baseColor3.g}, ${baseColor3.b}, 0.95) 60%,\n\t\t\trgba(${baseColor4.r}, ${baseColor4.g}, ${baseColor4.b}, 0.95) 100%\n\t\t)`;\n  const avgBrightness = (baseColor1.r + baseColor1.g + baseColor1.b + baseColor2.r + baseColor2.g + baseColor2.b) / 6;\n  const textColor2 = avgBrightness > 160 ? \"rgba(40, 40, 40, 0.95)\" : \"rgba(255, 255, 255, 0.95)\";\n  return { gradient, textColor: textColor2 };\n}\nfunction mixWithGray(color, factor) {\n  const avg = (color.r + color.g + color.b) / 3;\n  return {\n    r: Math.round(color.r * (1 - factor) + avg * factor),\n    g: Math.round(color.g * (1 - factor) + avg * factor),\n    b: Math.round(color.b * (1 - factor) + avg * factor)\n  };\n}\nfunction mixColors(color1, color2, ratio) {\n  return {\n    r: Math.round(color1.r * (1 - ratio) + color2.r * ratio),\n    g: Math.round(color1.g * (1 - ratio) + color2.g * ratio),\n    b: Math.round(color1.b * (1 - ratio) + color2.b * ratio)\n  };\n}\nfunction calculateMoonPhase(date) {\n  const knownNewMoon = /* @__PURE__ */ (/* @__PURE__ */ new Date(\"2000-01-06T18:14:00Z\")).getTime();\n  const lunarCycle = 29.53058770576;\n  const currentTime2 = date.getTime();\n  const daysSinceNewMoon = (currentTime2 - knownNewMoon) / (1e3 * 60 * 60 * 24);\n  const phase = daysSinceNewMoon % lunarCycle / lunarCycle;\n  return phase;\n}\nconst WeatherWidget = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let condition = \"partly-cloudy\";\n  let hourlyData = [];\n  let currentTimestamp = Date.now();\n  let earthSize = 320;\n  let padding = 40;\n  let zipCodeInput = \"\";\n  let testDateOffset = 0;\n  function getSunPosition(testDate) {\n    let sunriseTime = 6 * 3600;\n    let sunsetTime = 18 * 3600;\n    const secondsSinceMidnight = testDate.getHours() * 3600 + testDate.getMinutes() * 60 + testDate.getSeconds();\n    const earthRadius = earthSize / 2;\n    const sunRadius = earthSize * 0.09375;\n    let angle;\n    let orbitRadius;\n    if (secondsSinceMidnight >= sunriseTime && secondsSinceMidnight <= sunsetTime) {\n      const solarNoonTime = (sunriseTime + sunsetTime) / 2;\n      if (secondsSinceMidnight <= solarNoonTime) {\n        const morningDuration = solarNoonTime - sunriseTime;\n        const morningProgress = (secondsSinceMidnight - sunriseTime) / morningDuration;\n        angle = -Math.PI / 2 + morningProgress * Math.PI / 2;\n        const expansionProgress = Math.sin(morningProgress * Math.PI / 2);\n        const minOrbitRadius = earthRadius + sunRadius * 0.1;\n        const maxOrbitRadius = earthRadius + sunRadius;\n        orbitRadius = minOrbitRadius + expansionProgress * (maxOrbitRadius - minOrbitRadius);\n      } else {\n        const afternoonDuration = sunsetTime - solarNoonTime;\n        const afternoonProgress = (secondsSinceMidnight - solarNoonTime) / afternoonDuration;\n        angle = 0 + afternoonProgress * Math.PI / 2;\n        const contractionProgress = Math.cos(afternoonProgress * Math.PI / 2);\n        const minOrbitRadius = earthRadius + sunRadius * 0.1;\n        const maxOrbitRadius = earthRadius + sunRadius;\n        orbitRadius = minOrbitRadius + contractionProgress * (maxOrbitRadius - minOrbitRadius);\n      }\n    } else {\n      const solarMidnightTime = (sunsetTime + sunriseTime + 86400) / 2;\n      const nightOrbitRadius = earthRadius - sunRadius * 1.5;\n      if (secondsSinceMidnight <= sunriseTime) {\n        const effectiveMidnight = solarMidnightTime;\n        const preSunriseDuration = sunriseTime - effectiveMidnight;\n        const preSunriseProgress = (secondsSinceMidnight - effectiveMidnight) / preSunriseDuration;\n        angle = Math.PI + preSunriseProgress * Math.PI / 2;\n        orbitRadius = nightOrbitRadius;\n      } else {\n        const effectiveMidnight = solarMidnightTime;\n        const postSunsetDuration = effectiveMidnight + 0 - sunsetTime;\n        const postSunsetProgress = (secondsSinceMidnight - sunsetTime) / postSunsetDuration;\n        angle = Math.PI / 2 + postSunsetProgress * Math.PI / 2;\n        orbitRadius = nightOrbitRadius;\n      }\n    }\n    angle = angle - Math.PI / 2;\n    const x = padding + earthSize / 2 + Math.cos(angle) * orbitRadius;\n    const y = padding + earthSize / 2 + Math.sin(angle) * orbitRadius;\n    return { x, y };\n  }\n  function getMoonPosition(testDate) {\n    const secondsSinceMidnight = testDate.getHours() * 3600 + testDate.getMinutes() * 60 + testDate.getSeconds();\n    let moonriseTime = 18 * 3600;\n    let moonsetTime = 6 * 3600;\n    const earthRadius = earthSize / 2;\n    const moonRadius = earthSize * 0.09375;\n    const visibleOrbitRadius = earthRadius + moonRadius;\n    const hiddenOrbitRadius = earthRadius + moonRadius * 0.5;\n    const horizonScaleDuration = 30 * 60;\n    const maxScale = 1.9;\n    const normalScale = 1;\n    const hiddenScale = 0.7;\n    let scale = normalScale;\n    let angle;\n    let orbitRadius;\n    {\n      if (secondsSinceMidnight >= moonriseTime || secondsSinceMidnight <= moonsetTime) {\n        const visibleDuration = 86400 - moonriseTime + moonsetTime;\n        let visibleProgress;\n        let timeSinceRise, timeBeforeSet;\n        if (secondsSinceMidnight >= moonriseTime) {\n          visibleProgress = (secondsSinceMidnight - moonriseTime) / visibleDuration;\n          timeSinceRise = secondsSinceMidnight - moonriseTime;\n          timeBeforeSet = 86400 - secondsSinceMidnight + moonsetTime;\n        } else {\n          visibleProgress = (86400 - moonriseTime + secondsSinceMidnight) / visibleDuration;\n          timeSinceRise = 86400 - moonriseTime + secondsSinceMidnight;\n          timeBeforeSet = moonsetTime - secondsSinceMidnight;\n        }\n        angle = -Math.PI / 2 + visibleProgress * Math.PI;\n        orbitRadius = visibleOrbitRadius;\n        if (timeSinceRise <= horizonScaleDuration) {\n          const scaleProgress = timeSinceRise / horizonScaleDuration;\n          scale = maxScale - scaleProgress * (maxScale - normalScale);\n        } else if (timeBeforeSet <= horizonScaleDuration) {\n          const scaleProgress = timeBeforeSet / horizonScaleDuration;\n          scale = maxScale - scaleProgress * (maxScale - normalScale);\n        }\n      } else {\n        const hiddenDuration = moonriseTime - moonsetTime;\n        const hiddenProgress = (secondsSinceMidnight - moonsetTime) / hiddenDuration;\n        angle = Math.PI / 2 + hiddenProgress * Math.PI;\n        orbitRadius = hiddenOrbitRadius;\n        scale = hiddenScale;\n      }\n    }\n    angle = angle - Math.PI / 2;\n    const x = padding + earthSize / 2 + Math.cos(angle) * orbitRadius;\n    const y = padding + earthSize / 2 + Math.sin(angle) * orbitRadius;\n    return { x, y, scale };\n  }\n  $$result.css.add(css$8);\n  generateTemperaturePath(hourlyData);\n  {\n    {\n      const now = /* @__PURE__ */ new Date();\n      const hours = now.getHours() + now.getMinutes() / 60;\n      if (hours >= 6 && hours < 18) {\n        condition = \"partly-cloudy\";\n      } else {\n        condition = \"night\";\n      }\n    }\n  }\n  {\n    if (currentTimestamp && testDateOffset !== void 0) {\n      const now = new Date(currentTimestamp);\n      let testDate;\n      {\n        testDate = now;\n      }\n      getSunPosition(testDate);\n      getMoonPosition(testDate);\n      calculateMoonPhase(testDate);\n      let displayHour;\n      {\n        displayHour = testDate.getHours();\n      }\n      calculateEarthColor(displayHour, condition);\n    }\n  }\n  return `<div class=\"${[\"weather-widget svelte-dc2hjj\", \"\"].join(\" \").trim()}\">${` <div class=\"no-location-message svelte-dc2hjj\"><p class=\"svelte-dc2hjj\" data-svelte-h=\"svelte-5dijxk\">Set location for weather widget</p> <button class=\"share-location-button svelte-dc2hjj\" data-svelte-h=\"svelte-1szv6w0\">Share location from device</button></div>`}  <div class=\"location-controls svelte-dc2hjj\"><form class=\"zip-form svelte-dc2hjj\"><input type=\"text\" placeholder=\"Enter ZIP code\" inputmode=\"numeric\" maxlength=\"5\" class=\"zip-input svelte-dc2hjj\"${add_attribute(\"value\", zipCodeInput, 0)}> <button type=\"submit\" class=\"zip-submit svelte-dc2hjj\" data-svelte-h=\"svelte-l7q2lc\">Set Location</button></form> ${``}</div> </div>`;\n});\nconst css$7 = {\n  code: \".traffic-widget.svelte-4ec5kw{display:flex;flex-direction:column;height:100%;min-height:300px}.map-container.svelte-4ec5kw{width:100%;height:100%;min-height:300px;border-radius:0.5rem;overflow:hidden;background-color:rgba(0, 0, 0, 0.2)}.placeholder.svelte-4ec5kw{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;min-height:300px;background-color:rgba(0, 0, 0, 0.2);border-radius:0.5rem;border:2px dashed rgba(255, 255, 255, 0.2)}.placeholder-text.svelte-4ec5kw{font-size:1.125rem;font-weight:500;color:var(--text-primary);margin-bottom:0.5rem}.placeholder-hint.svelte-4ec5kw{font-size:0.875rem;color:var(--text-secondary)}.loading-text.svelte-4ec5kw{font-size:1rem;color:var(--text-secondary)}\",\n  map: '{\"version\":3,\"file\":\"TrafficWidget.svelte\",\"sources\":[\"TrafficWidget.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { onMount, onDestroy } from \\\\\"svelte\\\\\";\\\\nimport { browser } from \\\\\"$app/environment\\\\\";\\\\nimport { theme } from \\\\\"$lib/stores/theme\\\\\";\\\\nconst ZIP_CODE_KEY = \\\\\"dashboard-zip-code\\\\\";\\\\nconst WEATHER_CACHE_KEY = \\\\\"dashboard-weather-data\\\\\";\\\\nlet hasLocation = false;\\\\nlet mapCenter = { lat: 0, lng: 0 };\\\\nlet isLoading = true;\\\\nlet mapContainer;\\\\nlet map = null;\\\\nlet trafficLayer = null;\\\\nlet googleMapsApiKey = \\\\\"\\\\\";\\\\nlet apiKeyError = false;\\\\nlet currentTheme = \\\\\"dark\\\\\";\\\\nconst darkMapStyles = [\\\\n  { elementType: \\\\\"geometry\\\\\", stylers: [{ color: \\\\\"#242f3e\\\\\" }] },\\\\n  { elementType: \\\\\"labels.text.stroke\\\\\", stylers: [{ color: \\\\\"#242f3e\\\\\" }] },\\\\n  { elementType: \\\\\"labels.text.fill\\\\\", stylers: [{ color: \\\\\"#746855\\\\\" }] },\\\\n  {\\\\n    featureType: \\\\\"administrative.locality\\\\\",\\\\n    elementType: \\\\\"labels.text.fill\\\\\",\\\\n    stylers: [{ color: \\\\\"#d59563\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"poi\\\\\",\\\\n    elementType: \\\\\"labels.text.fill\\\\\",\\\\n    stylers: [{ color: \\\\\"#d59563\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"poi.park\\\\\",\\\\n    elementType: \\\\\"geometry\\\\\",\\\\n    stylers: [{ color: \\\\\"#263c3f\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"poi.park\\\\\",\\\\n    elementType: \\\\\"labels.text.fill\\\\\",\\\\n    stylers: [{ color: \\\\\"#6b9a76\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"road\\\\\",\\\\n    elementType: \\\\\"geometry\\\\\",\\\\n    stylers: [{ color: \\\\\"#38414e\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"road\\\\\",\\\\n    elementType: \\\\\"geometry.stroke\\\\\",\\\\n    stylers: [{ color: \\\\\"#212a37\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"road\\\\\",\\\\n    elementType: \\\\\"labels.text.fill\\\\\",\\\\n    stylers: [{ color: \\\\\"#9ca5b3\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"road.highway\\\\\",\\\\n    elementType: \\\\\"geometry\\\\\",\\\\n    stylers: [{ color: \\\\\"#746855\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"road.highway\\\\\",\\\\n    elementType: \\\\\"geometry.stroke\\\\\",\\\\n    stylers: [{ color: \\\\\"#1f2835\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"road.highway\\\\\",\\\\n    elementType: \\\\\"labels.text.fill\\\\\",\\\\n    stylers: [{ color: \\\\\"#f3d19c\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"transit\\\\\",\\\\n    elementType: \\\\\"geometry\\\\\",\\\\n    stylers: [{ color: \\\\\"#2f3948\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"transit.station\\\\\",\\\\n    elementType: \\\\\"labels.text.fill\\\\\",\\\\n    stylers: [{ color: \\\\\"#d59563\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"water\\\\\",\\\\n    elementType: \\\\\"geometry\\\\\",\\\\n    stylers: [{ color: \\\\\"#17263c\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"water\\\\\",\\\\n    elementType: \\\\\"labels.text.fill\\\\\",\\\\n    stylers: [{ color: \\\\\"#515c6d\\\\\" }]\\\\n  },\\\\n  {\\\\n    featureType: \\\\\"water\\\\\",\\\\n    elementType: \\\\\"labels.text.stroke\\\\\",\\\\n    stylers: [{ color: \\\\\"#17263c\\\\\" }]\\\\n  }\\\\n];\\\\nconst lightMapStyles = [];\\\\nfunction getCurrentTheme() {\\\\n  if (!browser) return \\\\\"dark\\\\\";\\\\n  const isDark = document.documentElement.classList.contains(\\\\\"dark\\\\\");\\\\n  return isDark ? \\\\\"dark\\\\\" : \\\\\"light\\\\\";\\\\n}\\\\n$: if (browser) {\\\\n  currentTheme = getCurrentTheme();\\\\n}\\\\nasync function loadGoogleMapsApiKey() {\\\\n  try {\\\\n    const response = await fetch(\\\\\"/api/maps-config\\\\\");\\\\n    const data = await response.json();\\\\n    if (data.error) {\\\\n      console.error(\\\\\"Google Maps API key error:\\\\\", data.error);\\\\n      apiKeyError = true;\\\\n      return false;\\\\n    }\\\\n    googleMapsApiKey = data.apiKey;\\\\n    return true;\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error loading Google Maps API key:\\\\\", error);\\\\n    apiKeyError = true;\\\\n    return false;\\\\n  }\\\\n}\\\\nfunction loadGoogleMapsScript() {\\\\n  return new Promise((resolve, reject) => {\\\\n    if (typeof google !== \\\\\"undefined\\\\\" && google.maps) {\\\\n      resolve();\\\\n      return;\\\\n    }\\\\n    const script = document.createElement(\\\\\"script\\\\\");\\\\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${googleMapsApiKey}&v=weekly`;\\\\n    script.async = true;\\\\n    script.defer = true;\\\\n    script.onload = () => resolve();\\\\n    script.onerror = () => reject(new Error(\\\\\"Failed to load Google Maps API\\\\\"));\\\\n    document.head.appendChild(script);\\\\n  });\\\\n}\\\\nfunction initMap() {\\\\n  if (!mapContainer || !hasLocation) return;\\\\n  const mapStyles = currentTheme === \\\\\"dark\\\\\" ? darkMapStyles : lightMapStyles;\\\\n  map = new google.maps.Map(mapContainer, {\\\\n    zoom: 13,\\\\n    center: mapCenter,\\\\n    mapTypeControl: true,\\\\n    streetViewControl: false,\\\\n    fullscreenControl: true,\\\\n    styles: mapStyles\\\\n  });\\\\n  trafficLayer = new google.maps.TrafficLayer();\\\\n  trafficLayer.setMap(map);\\\\n}\\\\nfunction updateMapTheme() {\\\\n  if (!map) return;\\\\n  const mapStyles = currentTheme === \\\\\"dark\\\\\" ? darkMapStyles : lightMapStyles;\\\\n  map.setOptions({ styles: mapStyles });\\\\n}\\\\nasync function loadLocationData() {\\\\n  if (!browser) return;\\\\n  const savedZip = localStorage.getItem(ZIP_CODE_KEY);\\\\n  if (savedZip) {\\\\n    await getCoordinatesFromZipCode(savedZip);\\\\n    return;\\\\n  }\\\\n  const cachedWeather = localStorage.getItem(WEATHER_CACHE_KEY);\\\\n  if (cachedWeather) {\\\\n    try {\\\\n      const data = JSON.parse(cachedWeather);\\\\n      if (data.location) {\\\\n        if (navigator.geolocation) {\\\\n          navigator.geolocation.getCurrentPosition(\\\\n            (position) => {\\\\n              mapCenter = {\\\\n                lat: position.coords.latitude,\\\\n                lng: position.coords.longitude\\\\n              };\\\\n              hasLocation = true;\\\\n              isLoading = false;\\\\n            },\\\\n            () => {\\\\n              isLoading = false;\\\\n            }\\\\n          );\\\\n        } else {\\\\n          isLoading = false;\\\\n        }\\\\n        return;\\\\n      }\\\\n    } catch (e) {\\\\n      console.log(\\\\\"Could not parse cached weather data\\\\\");\\\\n    }\\\\n  }\\\\n  if (navigator.geolocation) {\\\\n    navigator.geolocation.getCurrentPosition(\\\\n      (position) => {\\\\n        mapCenter = {\\\\n          lat: position.coords.latitude,\\\\n          lng: position.coords.longitude\\\\n        };\\\\n        hasLocation = true;\\\\n        isLoading = false;\\\\n      },\\\\n      () => {\\\\n        isLoading = false;\\\\n      }\\\\n    );\\\\n  } else {\\\\n    isLoading = false;\\\\n  }\\\\n}\\\\nasync function getCoordinatesFromZipCode(zipCode) {\\\\n  try {\\\\n    const response = await fetch(\\\\n      `https://nominatim.openstreetmap.org/search?postalcode=${zipCode}&country=us&format=json&limit=1`\\\\n    );\\\\n    const data = await response.json();\\\\n    if (data && data.length > 0) {\\\\n      mapCenter = {\\\\n        lat: parseFloat(data[0].lat),\\\\n        lng: parseFloat(data[0].lon)\\\\n      };\\\\n      hasLocation = true;\\\\n    }\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error geocoding zip code:\\\\\", error);\\\\n  } finally {\\\\n    isLoading = false;\\\\n  }\\\\n}\\\\nlet themeObserver = null;\\\\nonMount(() => {\\\\n  if (!browser) return;\\\\n  currentTheme = getCurrentTheme();\\\\n  (async () => {\\\\n    const hasApiKey = await loadGoogleMapsApiKey();\\\\n    if (!hasApiKey) {\\\\n      isLoading = false;\\\\n      return;\\\\n    }\\\\n    await loadLocationData();\\\\n    if (hasLocation) {\\\\n      try {\\\\n        await loadGoogleMapsScript();\\\\n        initMap();\\\\n      } catch (error) {\\\\n        console.error(\\\\\"Error initializing Google Maps:\\\\\", error);\\\\n        apiKeyError = true;\\\\n      }\\\\n    }\\\\n  })();\\\\n  themeObserver = new MutationObserver(() => {\\\\n    const newTheme = getCurrentTheme();\\\\n    if (newTheme !== currentTheme) {\\\\n      currentTheme = newTheme;\\\\n      updateMapTheme();\\\\n    }\\\\n  });\\\\n  themeObserver.observe(document.documentElement, {\\\\n    attributes: true,\\\\n    attributeFilter: [\\\\\"class\\\\\"]\\\\n  });\\\\n  return () => {\\\\n    if (themeObserver) {\\\\n      themeObserver.disconnect();\\\\n    }\\\\n  };\\\\n});\\\\nonDestroy(() => {\\\\n  if (trafficLayer) {\\\\n    trafficLayer.setMap(null);\\\\n  }\\\\n  if (themeObserver) {\\\\n    themeObserver.disconnect();\\\\n  }\\\\n});\\\\n$: if (hasLocation && googleMapsApiKey && mapContainer && !map) {\\\\n  loadGoogleMapsScript().then(() => {\\\\n    initMap();\\\\n  }).catch((error) => {\\\\n    console.error(\\\\\"Error loading Google Maps:\\\\\", error);\\\\n    apiKeyError = true;\\\\n  });\\\\n}\\\\n$: if (map && currentTheme) {\\\\n  updateMapTheme();\\\\n}\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"traffic-widget\\\\\">\\\\r\\\\n\\\\t{#if isLoading}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"placeholder\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"loading-text\\\\\">Loading...</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{:else if apiKeyError}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"placeholder\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"placeholder-text\\\\\">Google Maps API key not configured</div>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"placeholder-hint\\\\\">Add GOOGLE_MAPS_API_KEY to your .env file</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{:else if hasLocation}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"map-container\\\\\" bind:this={mapContainer}></div>\\\\r\\\\n\\\\t{:else}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"placeholder\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"placeholder-text\\\\\">Set location to see traffic map</div>\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"placeholder-hint\\\\\">Configure location in Weather widget</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.traffic-widget {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tmin-height: 300px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.map-container {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tmin-height: 300px;\\\\r\\\\n\\\\t\\\\tborder-radius: 0.5rem;\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(0, 0, 0, 0.2);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.placeholder {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tmin-height: 300px;\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(0, 0, 0, 0.2);\\\\r\\\\n\\\\t\\\\tborder-radius: 0.5rem;\\\\r\\\\n\\\\t\\\\tborder: 2px dashed rgba(255, 255, 255, 0.2);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.placeholder-text {\\\\r\\\\n\\\\t\\\\tfont-size: 1.125rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.placeholder-hint {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.loading-text {\\\\r\\\\n\\\\t\\\\tfont-size: 1rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"AAkTC,6BAAgB,CACf,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,KACb,CAEA,4BAAe,CACd,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,MAAM,CACrB,QAAQ,CAAE,MAAM,CAChB,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CACpC,CAEA,0BAAa,CACZ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,KAAK,CACjB,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACpC,aAAa,CAAE,MAAM,CACrB,MAAM,CAAE,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAC3C,CAEA,+BAAkB,CACjB,SAAS,CAAE,QAAQ,CACnB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,aAAa,CAAE,MAChB,CAEA,+BAAkB,CACjB,SAAS,CAAE,QAAQ,CACnB,KAAK,CAAE,IAAI,gBAAgB,CAC5B,CAEA,2BAAc,CACb,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,IAAI,gBAAgB,CAC5B\"}'\n};\nconst TrafficWidget = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  onDestroy(() => {\n  });\n  $$result.css.add(css$7);\n  return `<div class=\"traffic-widget svelte-4ec5kw\">${`<div class=\"placeholder svelte-4ec5kw\" data-svelte-h=\"svelte-pm6cd9\"><div class=\"loading-text svelte-4ec5kw\">Loading...</div></div>`} </div>`;\n});\nconst WIDGETS_STORAGE_KEY = \"dashboard-widgets\";\nconst SECTIONS_STORAGE_KEY = \"dashboard-sections\";\nconst defaultSections = [\n  { id: 0, gridColumn: 1, gridColumnSpan: 1, gridRow: 1 },\n  { id: 1, gridColumn: 2, gridColumnSpan: 1, gridRow: 1 },\n  { id: 2, gridColumn: 3, gridColumnSpan: 1, gridRow: 1 }\n];\nconst defaultWidgets = [\n  {\n    id: \"weather-1\",\n    type: \"weather\",\n    title: \"Weather\",\n    section: 0,\n    order: 0,\n    size: { width: 300, height: 200 }\n  },\n  {\n    id: \"traffic-1\",\n    type: \"traffic\",\n    title: \"Traffic\",\n    section: 1,\n    order: 0,\n    size: { width: 300, height: 200 }\n  },\n  {\n    id: \"calendar-1\",\n    type: \"calendar\",\n    title: \"Calendar\",\n    section: 1,\n    order: 1,\n    size: { width: 300, height: 200 }\n  },\n  {\n    id: \"github-projects-1\",\n    type: \"github-projects\",\n    title: \"GitHub Projects\",\n    section: 2,\n    order: 0,\n    size: { width: 0, height: 500 }\n  }\n];\nfunction loadWidgets() {\n  if (typeof window === \"undefined\") {\n    return defaultWidgets;\n  }\n  try {\n    const stored = localStorage.getItem(WIDGETS_STORAGE_KEY);\n    if (stored) {\n      const parsedWidgets = JSON.parse(stored);\n      if (Array.isArray(parsedWidgets) && parsedWidgets.every((w) => w.id && w.type && typeof w.section === \"number\" && typeof w.order === \"number\" && w.size)) {\n        return parsedWidgets;\n      }\n    }\n  } catch (error) {\n    console.warn(\"Failed to load widgets from localStorage:\", error);\n  }\n  return defaultWidgets;\n}\nfunction loadSections() {\n  if (typeof window === \"undefined\") {\n    return defaultSections;\n  }\n  try {\n    const stored = localStorage.getItem(SECTIONS_STORAGE_KEY);\n    if (stored) {\n      const parsedSections = JSON.parse(stored);\n      if (Array.isArray(parsedSections)) {\n        return parsedSections.map((s) => ({\n          id: s.id,\n          gridColumn: s.gridColumn ?? 1,\n          gridColumnSpan: s.gridColumnSpan ?? 1,\n          // Default to 1 if undefined\n          gridRow: s.gridRow ?? 1,\n          title: s.title\n        }));\n      }\n    }\n  } catch (error) {\n    console.warn(\"Failed to load sections from localStorage:\", error);\n  }\n  return defaultSections;\n}\nfunction saveWidgets(widgets2) {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  try {\n    localStorage.setItem(WIDGETS_STORAGE_KEY, JSON.stringify(widgets2));\n  } catch (error) {\n    console.warn(\"Failed to save widgets to localStorage:\", error);\n  }\n}\nfunction saveSections(sections2) {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  try {\n    localStorage.setItem(SECTIONS_STORAGE_KEY, JSON.stringify(sections2));\n  } catch (error) {\n    console.warn(\"Failed to save sections to localStorage:\", error);\n  }\n}\nfunction calculateSectionRows(sections2) {\n  const sorted = [...sections2].sort((a, b) => {\n    if (a.gridColumn !== b.gridColumn) return a.gridColumn - b.gridColumn;\n    return a.gridRow - b.gridRow;\n  });\n  const grid = Array(20).fill(null).map(() => Array(3).fill(false));\n  return sorted.map((section) => {\n    let row = 1;\n    let found = false;\n    while (!found && row < 20) {\n      const canPlace = Array(section.gridColumnSpan).fill(0).every((_, i) => {\n        const col = section.gridColumn - 1 + i;\n        return col < 3 && !grid[row - 1][col];\n      });\n      if (canPlace) {\n        for (let i = 0; i < section.gridColumnSpan; i++) {\n          grid[row - 1][section.gridColumn - 1 + i] = true;\n        }\n        found = true;\n      } else {\n        row++;\n      }\n    }\n    return { ...section, gridRow: row };\n  });\n}\nfunction reorderWidgets(widgets2, fromSection, fromOrder, toSection, toOrder) {\n  const movedWidget = widgets2.find((w) => w.section === fromSection && w.order === fromOrder);\n  if (!movedWidget) return widgets2;\n  return widgets2.map((widget) => {\n    if (widget.id === movedWidget.id) {\n      return { ...widget, section: toSection, order: toOrder };\n    }\n    if (widget.section === fromSection && widget.order > fromOrder) {\n      return { ...widget, order: widget.order - 1 };\n    }\n    if (widget.section === toSection && widget.order >= toOrder && widget.id !== movedWidget.id) {\n      return { ...widget, order: widget.order + 1 };\n    }\n    return widget;\n  });\n}\nfunction createWidgetStore() {\n  const initialWidgets = loadWidgets();\n  const { subscribe: subscribe2, set, update } = writable(initialWidgets);\n  return {\n    subscribe: subscribe2,\n    moveWidget: (widgetId, toSection, toOrder) => {\n      update((widgets2) => {\n        const widget = widgets2.find((w) => w.id === widgetId);\n        if (!widget) return widgets2;\n        const updatedWidgets = reorderWidgets(widgets2, widget.section, widget.order, toSection, toOrder);\n        saveWidgets(updatedWidgets);\n        return updatedWidgets;\n      });\n    },\n    addWidget: (widget) => {\n      update((widgets2) => {\n        const sectionWidgets = widgets2.filter((w) => w.section === widget.section);\n        const maxOrder = sectionWidgets.length > 0 ? Math.max(...sectionWidgets.map((w) => w.order)) : -1;\n        const newWidget = {\n          ...widget,\n          order: maxOrder + 1\n        };\n        const updatedWidgets = [...widgets2, newWidget];\n        saveWidgets(updatedWidgets);\n        return updatedWidgets;\n      });\n    },\n    removeWidget: (id) => {\n      update((widgets2) => {\n        const widgetToRemove = widgets2.find((w) => w.id === id);\n        if (!widgetToRemove) return widgets2;\n        const updatedWidgets = widgets2.filter((widget) => widget.id !== id).map((widget) => {\n          if (widget.section === widgetToRemove.section && widget.order > widgetToRemove.order) {\n            return { ...widget, order: widget.order - 1 };\n          }\n          return widget;\n        });\n        saveWidgets(updatedWidgets);\n        return updatedWidgets;\n      });\n    },\n    toggleCollapse: (id) => {\n      update((widgets2) => {\n        const updatedWidgets = widgets2.map(\n          (widget) => widget.id === id ? { ...widget, collapsed: !widget.collapsed } : widget\n        );\n        saveWidgets(updatedWidgets);\n        return updatedWidgets;\n      });\n    },\n    updateTitle: (id, title) => {\n      update((widgets2) => {\n        const updatedWidgets = widgets2.map(\n          (widget) => widget.id === id ? { ...widget, title } : widget\n        );\n        saveWidgets(updatedWidgets);\n        return updatedWidgets;\n      });\n    },\n    reset: () => {\n      set(defaultWidgets);\n      saveWidgets(defaultWidgets);\n    },\n    load: () => {\n      const loadedWidgets = loadWidgets();\n      set(loadedWidgets);\n    }\n  };\n}\nfunction createSectionStore() {\n  const initialSections = loadSections();\n  const { subscribe: subscribe2, set, update } = writable(initialSections);\n  return {\n    subscribe: subscribe2,\n    updateSectionGrid: (sectionId, gridColumn, gridColumnSpan) => {\n      update((sections2) => {\n        const updatedSections = sections2.map(\n          (section) => section.id === sectionId ? { ...section, gridColumn, gridColumnSpan } : section\n        );\n        const recalculatedSections = calculateSectionRows(updatedSections);\n        saveSections(recalculatedSections);\n        return recalculatedSections;\n      });\n    },\n    moveSection: (sectionId, newColumn) => {\n      update((sections2) => {\n        const updatedSections = sections2.map(\n          (section) => section.id === sectionId ? { ...section, gridColumn: newColumn } : section\n        );\n        const recalculatedSections = calculateSectionRows(updatedSections);\n        saveSections(recalculatedSections);\n        return recalculatedSections;\n      });\n    },\n    resizeSection: (sectionId, newSpan) => {\n      update((sections2) => {\n        const section = sections2.find((s) => s.id === sectionId);\n        if (!section) return sections2;\n        const maxSpan = 3 - section.gridColumn + 1;\n        const clampedSpan = Math.max(1, Math.min(newSpan, maxSpan));\n        const updatedSections = sections2.map(\n          (s) => s.id === sectionId ? { ...s, gridColumnSpan: clampedSpan } : s\n        );\n        const recalculatedSections = calculateSectionRows(updatedSections);\n        saveSections(recalculatedSections);\n        return recalculatedSections;\n      });\n    },\n    addSection: () => {\n      update((sections2) => {\n        const newSectionId = Math.max(...sections2.map((s) => s.id), -1) + 1;\n        const updatedSections = [\n          ...sections2,\n          { id: newSectionId, gridColumn: 1, gridColumnSpan: 1, gridRow: 1 }\n        ];\n        const recalculatedSections = calculateSectionRows(updatedSections);\n        saveSections(recalculatedSections);\n        return recalculatedSections;\n      });\n    },\n    removeSection: (sectionId) => {\n      update((sections2) => {\n        if (sections2.length <= 1) return sections2;\n        const updatedSections = sections2.filter((section) => section.id !== sectionId);\n        const recalculatedSections = calculateSectionRows(updatedSections);\n        saveSections(recalculatedSections);\n        return recalculatedSections;\n      });\n    },\n    reset: () => {\n      set(defaultSections);\n      saveSections(defaultSections);\n    },\n    load: () => {\n      const loadedSections = loadSections();\n      set(loadedSections);\n    }\n  };\n}\nconst widgets = createWidgetStore();\nconst sections = createSectionStore();\nconst css$6 = {\n  code: \".calendar-widget.svelte-1283sn3{display:flex;flex-direction:column;gap:1rem;width:100%}.calendar-header.svelte-1283sn3{display:flex;align-items:center;justify-content:space-between;gap:0.5rem}.nav-button.svelte-1283sn3{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--surface-variant);border:1px solid var(--border);border-radius:6px;color:var(--text-secondary);cursor:pointer;transition:all 0.2s ease}.nav-button.svelte-1283sn3:hover{background:var(--surface-container-high);border-color:var(--outline-variant);color:var(--text-primary)}.header-title.svelte-1283sn3{flex:1;padding:0.5rem 1rem;background:var(--surface-variant);border:1px solid var(--border);border-radius:6px;color:var(--text-primary);font-size:0.9375rem;font-weight:600;cursor:pointer;transition:all 0.2s ease;text-align:center}.header-title.svelte-1283sn3:hover{background:var(--surface-container-high);border-color:var(--outline-variant)}.today-button.svelte-1283sn3{width:100%;padding:0.5rem;background:color-mix(in srgb, var(--primary-color) 15%, transparent);border:1px solid color-mix(in srgb, var(--primary-color) 30%, transparent);border-radius:6px;color:var(--primary-color);font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.today-button.svelte-1283sn3:hover{background:color-mix(in srgb, var(--primary-color) 25%, transparent);border-color:color-mix(in srgb, var(--primary-color) 40%, transparent)}.calendar-grid.svelte-1283sn3{display:grid;grid-template-columns:repeat(7, 1fr);gap:2px}.day-header.svelte-1283sn3{padding:0.5rem;text-align:center;font-size:0.75rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:0.05em}.calendar-day.svelte-1283sn3{aspect-ratio:1;display:flex;align-items:center;justify-content:center;padding:0.5rem;background:var(--surface-variant);border-radius:4px;font-size:0.875rem;color:var(--text-primary);transition:all 0.2s ease;cursor:pointer}.calendar-day.svelte-1283sn3:hover{background:var(--surface-container-high)}.calendar-day.other-month.svelte-1283sn3{color:color-mix(in srgb, var(--text-secondary) 50%, transparent);background:color-mix(in srgb, var(--surface-variant) 30%, transparent)}.calendar-day.today.svelte-1283sn3{background:color-mix(in srgb, var(--primary-color) 30%, transparent);border:2px solid color-mix(in srgb, var(--primary-color) 60%, transparent);color:var(--text-primary);font-weight:700}.months-grid.svelte-1283sn3{display:grid;grid-template-columns:repeat(3, 1fr);gap:0.5rem}.month-item.svelte-1283sn3{padding:1rem;background:var(--surface-variant);border:1px solid var(--border);border-radius:6px;color:var(--text-primary);font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.month-item.svelte-1283sn3:hover{background:var(--surface-container-high);border-color:var(--outline-variant)}.month-item.current.svelte-1283sn3{border-color:color-mix(in srgb, var(--primary-color) 40%, transparent)}.month-item.selected.svelte-1283sn3{background:color-mix(in srgb, var(--primary-color) 20%, transparent);border-color:color-mix(in srgb, var(--primary-color) 50%, transparent)}.years-grid.svelte-1283sn3{display:grid;grid-template-columns:repeat(2, 1fr);gap:0.5rem}.year-item.svelte-1283sn3{padding:1rem;background:var(--surface-variant);border:1px solid var(--border);border-radius:6px;color:var(--text-primary);font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.year-item.svelte-1283sn3:hover{background:var(--surface-container-high);border-color:var(--outline-variant)}.year-item.current.svelte-1283sn3{border-color:color-mix(in srgb, var(--primary-color) 40%, transparent)}.year-item.selected.svelte-1283sn3{background:color-mix(in srgb, var(--primary-color) 20%, transparent);border-color:color-mix(in srgb, var(--primary-color) 50%, transparent)}.decades-grid.svelte-1283sn3{display:grid;grid-template-columns:repeat(2, 1fr);gap:0.5rem}.decade-item.svelte-1283sn3{padding:1rem;background:var(--surface-variant);border:1px solid var(--border);border-radius:6px;color:var(--text-primary);font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease}.decade-item.svelte-1283sn3:hover{background:var(--surface-container-high);border-color:var(--outline-variant)}.decade-item.current.svelte-1283sn3{border-color:color-mix(in srgb, var(--primary-color) 40%, transparent)}.decade-item.selected.svelte-1283sn3{background:color-mix(in srgb, var(--primary-color) 20%, transparent);border-color:color-mix(in srgb, var(--primary-color) 50%, transparent)}@media(max-width: 768px){.calendar-day.svelte-1283sn3{font-size:0.75rem;padding:0.25rem}.day-header.svelte-1283sn3{font-size:0.625rem;padding:0.375rem}.month-item.svelte-1283sn3,.year-item.svelte-1283sn3,.decade-item.svelte-1283sn3{padding:0.75rem;font-size:0.8125rem}}\",\n  map: `{\"version\":3,\"file\":\"CalendarWidget.svelte\",\"sources\":[\"CalendarWidget.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { onMount } from \\\\\"svelte\\\\\";\\\\nimport { widgets } from \\\\\"$lib/stores/widgets\\\\\";\\\\nconst today = /* @__PURE__ */ new Date();\\\\nconst currentYear = today.getFullYear();\\\\nconst currentMonth = today.getMonth();\\\\nconst currentDay = today.getDate();\\\\nlet viewMode = \\\\\"days\\\\\";\\\\nlet selectedYear = currentYear;\\\\nlet selectedMonth = currentMonth;\\\\nlet selectedDecade = Math.floor(currentYear / 10) * 10;\\\\nconst monthNames = [\\\\n  \\\\\"January\\\\\",\\\\n  \\\\\"February\\\\\",\\\\n  \\\\\"March\\\\\",\\\\n  \\\\\"April\\\\\",\\\\n  \\\\\"May\\\\\",\\\\n  \\\\\"June\\\\\",\\\\n  \\\\\"July\\\\\",\\\\n  \\\\\"August\\\\\",\\\\n  \\\\\"September\\\\\",\\\\n  \\\\\"October\\\\\",\\\\n  \\\\\"November\\\\\",\\\\n  \\\\\"December\\\\\"\\\\n];\\\\nconst dayNames = [\\\\\"Sun\\\\\", \\\\\"Mon\\\\\", \\\\\"Tue\\\\\", \\\\\"Wed\\\\\", \\\\\"Thu\\\\\", \\\\\"Fri\\\\\", \\\\\"Sat\\\\\"];\\\\nfunction getOrdinalSuffix(day) {\\\\n  if (day > 3 && day < 21) return \\\\\"th\\\\\";\\\\n  switch (day % 10) {\\\\n    case 1:\\\\n      return \\\\\"st\\\\\";\\\\n    case 2:\\\\n      return \\\\\"nd\\\\\";\\\\n    case 3:\\\\n      return \\\\\"rd\\\\\";\\\\n    default:\\\\n      return \\\\\"th\\\\\";\\\\n  }\\\\n}\\\\nconst todayFormatted = \\`(Today: \\${currentYear} \\${monthNames[currentMonth]} \\${currentDay}\\${getOrdinalSuffix(currentDay)})\\`;\\\\nonMount(() => {\\\\n  widgets.updateTitle(\\\\\"calendar-1\\\\\", \\`Calendar \\${todayFormatted}\\`);\\\\n});\\\\nfunction getDaysInMonth(year, month) {\\\\n  return new Date(year, month + 1, 0).getDate();\\\\n}\\\\nfunction getFirstDayOfMonth(year, month) {\\\\n  return new Date(year, month, 1).getDay();\\\\n}\\\\nfunction generateCalendarDays(year, month) {\\\\n  const daysInMonth = getDaysInMonth(year, month);\\\\n  const firstDay = getFirstDayOfMonth(year, month);\\\\n  const daysInPrevMonth = month === 0 ? getDaysInMonth(year - 1, 11) : getDaysInMonth(year, month - 1);\\\\n  const days = [];\\\\n  for (let i = firstDay - 1; i >= 0; i--) {\\\\n    days.push({\\\\n      day: daysInPrevMonth - i,\\\\n      isCurrentMonth: false,\\\\n      isToday: false\\\\n    });\\\\n  }\\\\n  for (let day = 1; day <= daysInMonth; day++) {\\\\n    const isToday = year === currentYear && month === currentMonth && day === currentDay;\\\\n    days.push({\\\\n      day,\\\\n      isCurrentMonth: true,\\\\n      isToday\\\\n    });\\\\n  }\\\\n  const remainingDays = 42 - days.length;\\\\n  for (let day = 1; day <= remainingDays; day++) {\\\\n    days.push({\\\\n      day,\\\\n      isCurrentMonth: false,\\\\n      isToday: false\\\\n    });\\\\n  }\\\\n  return days;\\\\n}\\\\nfunction previousMonth() {\\\\n  if (selectedMonth === 0) {\\\\n    selectedMonth = 11;\\\\n    selectedYear--;\\\\n  } else {\\\\n    selectedMonth--;\\\\n  }\\\\n}\\\\nfunction nextMonth() {\\\\n  if (selectedMonth === 11) {\\\\n    selectedMonth = 0;\\\\n    selectedYear++;\\\\n  } else {\\\\n    selectedMonth++;\\\\n  }\\\\n}\\\\nfunction previousYear() {\\\\n  selectedYear--;\\\\n}\\\\nfunction nextYear() {\\\\n  selectedYear++;\\\\n}\\\\nfunction previousDecade() {\\\\n  selectedDecade -= 10;\\\\n}\\\\nfunction nextDecade() {\\\\n  selectedDecade += 10;\\\\n}\\\\nfunction previousCentury() {\\\\n  selectedDecade -= 100;\\\\n}\\\\nfunction nextCentury() {\\\\n  selectedDecade += 100;\\\\n}\\\\nfunction goToToday() {\\\\n  selectedYear = currentYear;\\\\n  selectedMonth = currentMonth;\\\\n  selectedDecade = Math.floor(currentYear / 10) * 10;\\\\n  viewMode = \\\\\"days\\\\\";\\\\n}\\\\nfunction selectMonth(month) {\\\\n  selectedMonth = month;\\\\n  viewMode = \\\\\"days\\\\\";\\\\n}\\\\nfunction selectYear(year) {\\\\n  selectedYear = year;\\\\n  viewMode = \\\\\"months\\\\\";\\\\n}\\\\nfunction selectDecade(startYear) {\\\\n  selectedDecade = startYear;\\\\n  viewMode = \\\\\"years\\\\\";\\\\n}\\\\nfunction toggleViewMode() {\\\\n  if (viewMode === \\\\\"days\\\\\") viewMode = \\\\\"months\\\\\";\\\\n  else if (viewMode === \\\\\"months\\\\\") viewMode = \\\\\"years\\\\\";\\\\n  else if (viewMode === \\\\\"years\\\\\") viewMode = \\\\\"decades\\\\\";\\\\n  else viewMode = \\\\\"days\\\\\";\\\\n}\\\\n$: calendarDays = generateCalendarDays(selectedYear, selectedMonth);\\\\n$: yearRange = Array.from({ length: 10 }, (_, i) => selectedDecade + i);\\\\n$: decadeRanges = Array.from({ length: 10 }, (_, i) => {\\\\n  const start = selectedDecade + i * 10;\\\\n  return { start, end: start + 9 };\\\\n});\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"calendar-widget\\\\\">\\\\r\\\\n\\\\t<!-- Calendar Header -->\\\\r\\\\n\\\\t<div class=\\\\\"calendar-header\\\\\">\\\\r\\\\n\\\\t\\\\t<button class=\\\\\"nav-button\\\\\" on:click={viewMode === 'days' ? previousMonth : viewMode === 'months' ? previousYear : viewMode === 'years' ? previousDecade : previousCentury}>\\\\r\\\\n\\\\t\\\\t\\\\t<svg xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" width=\\\\\"20\\\\\" height=\\\\\"20\\\\\" viewBox=\\\\\"0 0 24 24\\\\\" fill=\\\\\"none\\\\\" stroke=\\\\\"currentColor\\\\\" stroke-width=\\\\\"2\\\\\" stroke-linecap=\\\\\"round\\\\\" stroke-linejoin=\\\\\"round\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<polyline points=\\\\\"15 18 9 12 15 6\\\\\"></polyline>\\\\r\\\\n\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t<button class=\\\\\"header-title\\\\\" on:click={toggleViewMode}>\\\\r\\\\n\\\\t\\\\t\\\\t{#if viewMode === 'days'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{monthNames[selectedMonth]} {selectedYear}\\\\r\\\\n\\\\t\\\\t\\\\t{:else if viewMode === 'months'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{selectedYear}\\\\r\\\\n\\\\t\\\\t\\\\t{:else if viewMode === 'years'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{selectedDecade} - {selectedDecade + 9}\\\\r\\\\n\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{selectedDecade} - {selectedDecade + 99}\\\\r\\\\n\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t<button class=\\\\\"nav-button\\\\\" on:click={viewMode === 'days' ? nextMonth : viewMode === 'months' ? nextYear : viewMode === 'years' ? nextDecade : nextCentury}>\\\\r\\\\n\\\\t\\\\t\\\\t<svg xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" width=\\\\\"20\\\\\" height=\\\\\"20\\\\\" viewBox=\\\\\"0 0 24 24\\\\\" fill=\\\\\"none\\\\\" stroke=\\\\\"currentColor\\\\\" stroke-width=\\\\\"2\\\\\" stroke-linecap=\\\\\"round\\\\\" stroke-linejoin=\\\\\"round\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<polyline points=\\\\\"9 18 15 12 9 6\\\\\"></polyline>\\\\r\\\\n\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t</button>\\\\r\\\\n\\\\t</div>\\\\r\\\\n\\\\r\\\\n\\\\t<!-- Today Button -->\\\\r\\\\n\\\\t<button class=\\\\\"today-button\\\\\" on:click={goToToday}>Today</button>\\\\r\\\\n\\\\r\\\\n\\\\t<!-- Days View -->\\\\r\\\\n\\\\t{#if viewMode === 'days'}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"calendar-grid\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<!-- Day Headers -->\\\\r\\\\n\\\\t\\\\t\\\\t{#each dayNames as dayName}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"day-header\\\\\">{dayName}</div>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t<!-- Calendar Days -->\\\\r\\\\n\\\\t\\\\t\\\\t{#each calendarDays as { day, isCurrentMonth, isToday }}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"calendar-day\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:other-month={!isCurrentMonth}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:today={isToday}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{day}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n\\\\r\\\\n\\\\t<!-- Months View -->\\\\r\\\\n\\\\t{#if viewMode === 'months'}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"months-grid\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t{#each monthNames as monthName, index}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"month-item\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:current={index === currentMonth && selectedYear === currentYear}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:selected={index === selectedMonth}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:click={() => selectMonth(index)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{monthName.substring(0, 3)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n\\\\r\\\\n\\\\t<!-- Years View -->\\\\r\\\\n\\\\t{#if viewMode === 'years'}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"years-grid\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t{#each yearRange as year}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"year-item\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:current={year === currentYear}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:selected={year === selectedYear}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:click={() => selectYear(year)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{year}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n\\\\r\\\\n\\\\t<!-- Decades View -->\\\\r\\\\n\\\\t{#if viewMode === 'decades'}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"decades-grid\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t{#each decadeRanges as { start, end }}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"decade-item\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:current={currentYear >= start && currentYear <= end}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass:selected={selectedYear >= start && selectedYear <= end}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:click={() => selectDecade(start)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{start} - {end}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.calendar-widget {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Calendar Header */\\\\r\\\\n\\\\t.calendar-header {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.nav-button {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\twidth: 32px;\\\\r\\\\n\\\\t\\\\theight: 32px;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.nav-button:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-color: var(--outline-variant);\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.header-title {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem 1rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-size: 0.9375rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.header-title:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-color: var(--outline-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Today Button */\\\\r\\\\n\\\\t.today-button {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 15%, transparent);\\\\r\\\\n\\\\t\\\\tborder: 1px solid color-mix(in srgb, var(--primary-color) 30%, transparent);\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tcolor: var(--primary-color);\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.today-button:hover {\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 25%, transparent);\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 40%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Calendar Grid - Days View */\\\\r\\\\n\\\\t.calendar-grid {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgrid-template-columns: repeat(7, 1fr);\\\\r\\\\n\\\\t\\\\tgap: 2px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.day-header {\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\ttext-transform: uppercase;\\\\r\\\\n\\\\t\\\\tletter-spacing: 0.05em;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.calendar-day {\\\\r\\\\n\\\\t\\\\taspect-ratio: 1;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.calendar-day:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.calendar-day.other-month {\\\\r\\\\n\\\\t\\\\tcolor: color-mix(in srgb, var(--text-secondary) 50%, transparent);\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--surface-variant) 30%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.calendar-day.today {\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 30%, transparent);\\\\r\\\\n\\\\t\\\\tborder: 2px solid color-mix(in srgb, var(--primary-color) 60%, transparent);\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-weight: 700;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Months Grid */\\\\r\\\\n\\\\t.months-grid {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgrid-template-columns: repeat(3, 1fr);\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.month-item {\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.month-item:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-color: var(--outline-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.month-item.current {\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 40%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.month-item.selected {\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 20%, transparent);\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 50%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Years Grid */\\\\r\\\\n\\\\t.years-grid {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgrid-template-columns: repeat(2, 1fr);\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.year-item {\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.year-item:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-color: var(--outline-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.year-item.current {\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 40%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.year-item.selected {\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 20%, transparent);\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 50%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Decades Grid */\\\\r\\\\n\\\\t.decades-grid {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgrid-template-columns: repeat(2, 1fr);\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.decade-item {\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.decade-item:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--surface-container-high);\\\\r\\\\n\\\\t\\\\tborder-color: var(--outline-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.decade-item.current {\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 40%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.decade-item.selected {\\\\r\\\\n\\\\t\\\\tbackground: color-mix(in srgb, var(--primary-color) 20%, transparent);\\\\r\\\\n\\\\t\\\\tborder-color: color-mix(in srgb, var(--primary-color) 50%, transparent);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Responsive Design */\\\\r\\\\n\\\\t@media (max-width: 768px) {\\\\r\\\\n\\\\t\\\\t.calendar-day {\\\\r\\\\n\\\\t\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\t\\\\tpadding: 0.25rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.day-header {\\\\r\\\\n\\\\t\\\\t\\\\tfont-size: 0.625rem;\\\\r\\\\n\\\\t\\\\t\\\\tpadding: 0.375rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t.month-item,\\\\r\\\\n\\\\t\\\\t.year-item,\\\\r\\\\n\\\\t\\\\t.decade-item {\\\\r\\\\n\\\\t\\\\t\\\\tpadding: 0.75rem;\\\\r\\\\n\\\\t\\\\t\\\\tfont-size: 0.8125rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"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\"}`\n};\nfunction getDaysInMonth(year, month) {\n  return new Date(year, month + 1, 0).getDate();\n}\nfunction getFirstDayOfMonth(year, month) {\n  return new Date(year, month, 1).getDay();\n}\nconst CalendarWidget = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let calendarDays;\n  const today = /* @__PURE__ */ new Date();\n  const currentYear = today.getFullYear();\n  const currentMonth = today.getMonth();\n  const currentDay = today.getDate();\n  let selectedYear = currentYear;\n  let selectedMonth = currentMonth;\n  let selectedDecade = Math.floor(currentYear / 10) * 10;\n  const monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ];\n  const dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n  function generateCalendarDays(year, month) {\n    const daysInMonth = getDaysInMonth(year, month);\n    const firstDay = getFirstDayOfMonth(year, month);\n    const daysInPrevMonth = month === 0 ? getDaysInMonth(year - 1, 11) : getDaysInMonth(year, month - 1);\n    const days = [];\n    for (let i = firstDay - 1; i >= 0; i--) {\n      days.push({\n        day: daysInPrevMonth - i,\n        isCurrentMonth: false,\n        isToday: false\n      });\n    }\n    for (let day = 1; day <= daysInMonth; day++) {\n      const isToday = year === currentYear && month === currentMonth && day === currentDay;\n      days.push({ day, isCurrentMonth: true, isToday });\n    }\n    const remainingDays = 42 - days.length;\n    for (let day = 1; day <= remainingDays; day++) {\n      days.push({\n        day,\n        isCurrentMonth: false,\n        isToday: false\n      });\n    }\n    return days;\n  }\n  $$result.css.add(css$6);\n  calendarDays = generateCalendarDays(selectedYear, selectedMonth);\n  Array.from({ length: 10 }, (_, i) => selectedDecade + i);\n  Array.from({ length: 10 }, (_, i) => {\n    const start = selectedDecade + i * 10;\n    return { start, end: start + 9 };\n  });\n  return `<div class=\"calendar-widget svelte-1283sn3\"> <div class=\"calendar-header svelte-1283sn3\"><button class=\"nav-button svelte-1283sn3\" data-svelte-h=\"svelte-11d59dy\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"15 18 9 12 15 6\"></polyline></svg></button> <button class=\"header-title svelte-1283sn3\">${`${escape(monthNames[selectedMonth])} ${escape(selectedYear)}`}</button> <button class=\"nav-button svelte-1283sn3\" data-svelte-h=\"svelte-8p5fwd\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"9 18 15 12 9 6\"></polyline></svg></button></div>  <button class=\"today-button svelte-1283sn3\" data-svelte-h=\"svelte-ofi5ui\">Today</button>  ${`<div class=\"calendar-grid svelte-1283sn3\"> ${each(dayNames, (dayName) => {\n    return `<div class=\"day-header svelte-1283sn3\">${escape(dayName)}</div>`;\n  })}  ${each(calendarDays, ({ day, isCurrentMonth, isToday }) => {\n    return `<div class=\"${[\n      \"calendar-day svelte-1283sn3\",\n      (!isCurrentMonth ? \"other-month\" : \"\") + \" \" + (isToday ? \"today\" : \"\")\n    ].join(\" \").trim()}\">${escape(day)} </div>`;\n  })}</div>`}  ${``}  ${``}  ${``} </div>`;\n});\nconst css$5 = {\n  code: \".github-widget.svelte-1bi7m2v.svelte-1bi7m2v{max-height:400px;overflow-y:auto}.empty-state.svelte-1bi7m2v.svelte-1bi7m2v{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.empty-icon.svelte-1bi7m2v.svelte-1bi7m2v{font-size:3rem;margin-bottom:1rem;opacity:0.5}.empty-state.svelte-1bi7m2v p.svelte-1bi7m2v{margin:0.25rem 0}.empty-hint.svelte-1bi7m2v.svelte-1bi7m2v{font-size:0.875rem;color:var(--text-secondary)}.projects-grid.svelte-1bi7m2v.svelte-1bi7m2v{display:flex;flex-direction:column;gap:0.75rem}.project-card.svelte-1bi7m2v.svelte-1bi7m2v{display:block;padding:1rem;background-color:rgba(0, 0, 0, 0.2);border-radius:0.375rem;border:1px solid var(--border);text-decoration:none;color:inherit;transition:all 0.2s}.project-card.svelte-1bi7m2v.svelte-1bi7m2v:hover{background-color:rgba(0, 0, 0, 0.3);border-color:var(--primary-color);transform:translateY(-2px)}.project-header.svelte-1bi7m2v.svelte-1bi7m2v{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem}.project-name.svelte-1bi7m2v.svelte-1bi7m2v{font-weight:600;font-size:1rem}.project-language.svelte-1bi7m2v.svelte-1bi7m2v{font-size:0.75rem;padding:0.125rem 0.5rem;background-color:var(--primary-color);border-radius:0.25rem}.project-description.svelte-1bi7m2v.svelte-1bi7m2v{font-size:0.875rem;color:var(--text-secondary);margin-bottom:0.75rem;line-height:1.4}.project-stats.svelte-1bi7m2v.svelte-1bi7m2v{display:flex;gap:1rem;font-size:0.75rem;color:var(--text-secondary)}\",\n  map: '{\"version\":3,\"file\":\"GithubWidget.svelte\",\"sources\":[\"GithubWidget.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">export let projects = [];\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"github-widget\\\\\">\\\\r\\\\n\\\\t{#if projects.length === 0}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"empty-state\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"empty-icon\\\\\">\uD83D\uDCE6</div>\\\\r\\\\n\\\\t\\\\t\\\\t<p>No personal repositories found</p>\\\\r\\\\n\\\\t\\\\t\\\\t<p class=\\\\\"empty-hint\\\\\">Create repositories on GitHub to see them here</p>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{:else}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"projects-grid\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t{#each projects as project}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<a href={project.html_url} target=\\\\\"_blank\\\\\" rel=\\\\\"noopener noreferrer\\\\\" class=\\\\\"project-card\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-name\\\\\">{project.name}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.language}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-language\\\\\">{project.language}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.description}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-description\\\\\">{project.description}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-stats\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span>\u2B50 {project.stargazers_count}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span>\uD83C\uDF74 {project.forks_count}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.open_issues_count > 0}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span>\uD83D\uDCCB {project.open_issues_count}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</a>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.github-widget {\\\\r\\\\n\\\\t\\\\tmax-height: 400px;\\\\r\\\\n\\\\t\\\\toverflow-y: auto;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-state {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tpadding: 2rem;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-icon {\\\\r\\\\n\\\\t\\\\tfont-size: 3rem;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t\\\\topacity: 0.5;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-state p {\\\\r\\\\n\\\\t\\\\tmargin: 0.25rem 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-hint {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.projects-grid {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-card {\\\\r\\\\n\\\\t\\\\tdisplay: block;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(0, 0, 0, 0.2);\\\\r\\\\n\\\\t\\\\tborder-radius: 0.375rem;\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\ttext-decoration: none;\\\\r\\\\n\\\\t\\\\tcolor: inherit;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-card:hover {\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(0, 0, 0, 0.3);\\\\r\\\\n\\\\t\\\\tborder-color: var(--primary-color);\\\\r\\\\n\\\\t\\\\ttransform: translateY(-2px);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-header {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-name {\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tfont-size: 1rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-language {\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tpadding: 0.125rem 0.5rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-color);\\\\r\\\\n\\\\t\\\\tborder-radius: 0.25rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-description {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.75rem;\\\\r\\\\n\\\\t\\\\tline-height: 1.4;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-stats {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"AAqCC,4CAAe,CACd,UAAU,CAAE,KAAK,CACjB,UAAU,CAAE,IACb,CAEA,0CAAa,CACZ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,OAAO,CAAE,IAAI,CACb,UAAU,CAAE,MACb,CAEA,yCAAY,CACX,SAAS,CAAE,IAAI,CACf,aAAa,CAAE,IAAI,CACnB,OAAO,CAAE,GACV,CAEA,2BAAY,CAAC,gBAAE,CACd,MAAM,CAAE,OAAO,CAAC,CACjB,CAEA,yCAAY,CACX,SAAS,CAAE,QAAQ,CACnB,KAAK,CAAE,IAAI,gBAAgB,CAC5B,CAEA,4CAAe,CACd,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,OACN,CAEA,2CAAc,CACb,OAAO,CAAE,KAAK,CACd,OAAO,CAAE,IAAI,CACb,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACpC,aAAa,CAAE,QAAQ,CACvB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAC/B,eAAe,CAAE,IAAI,CACrB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,GAAG,CAAC,IACjB,CAEA,2CAAa,MAAO,CACnB,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACpC,YAAY,CAAE,IAAI,eAAe,CAAC,CAClC,SAAS,CAAE,WAAW,IAAI,CAC3B,CAEA,6CAAgB,CACf,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,aAAa,CAAE,MAChB,CAEA,2CAAc,CACb,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,IACZ,CAEA,+CAAkB,CACjB,SAAS,CAAE,OAAO,CAClB,OAAO,CAAE,QAAQ,CAAC,MAAM,CACxB,gBAAgB,CAAE,IAAI,eAAe,CAAC,CACtC,aAAa,CAAE,OAChB,CAEA,kDAAqB,CACpB,SAAS,CAAE,QAAQ,CACnB,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,aAAa,CAAE,OAAO,CACtB,WAAW,CAAE,GACd,CAEA,4CAAe,CACd,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,IAAI,CACT,SAAS,CAAE,OAAO,CAClB,KAAK,CAAE,IAAI,gBAAgB,CAC5B\"}'\n};\nconst GithubWidget = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { projects = [] } = $$props;\n  if ($$props.projects === void 0 && $$bindings.projects && projects !== void 0) $$bindings.projects(projects);\n  $$result.css.add(css$5);\n  return `<div class=\"github-widget svelte-1bi7m2v\">${projects.length === 0 ? `<div class=\"empty-state svelte-1bi7m2v\" data-svelte-h=\"svelte-1wvpd00\"><div class=\"empty-icon svelte-1bi7m2v\">\uD83D\uDCE6</div> <p class=\"svelte-1bi7m2v\">No personal repositories found</p> <p class=\"empty-hint svelte-1bi7m2v\">Create repositories on GitHub to see them here</p></div>` : `<div class=\"projects-grid svelte-1bi7m2v\">${each(projects, (project) => {\n    return `<a${add_attribute(\"href\", project.html_url, 0)} target=\"_blank\" rel=\"noopener noreferrer\" class=\"project-card svelte-1bi7m2v\"><div class=\"project-header svelte-1bi7m2v\"><div class=\"project-name svelte-1bi7m2v\">${escape(project.name)}</div> ${project.language ? `<div class=\"project-language svelte-1bi7m2v\">${escape(project.language)}</div>` : ``}</div> ${project.description ? `<div class=\"project-description svelte-1bi7m2v\">${escape(project.description)}</div>` : ``} <div class=\"project-stats svelte-1bi7m2v\"><span>\u2B50 ${escape(project.stargazers_count)}</span> <span>\uD83C\uDF74 ${escape(project.forks_count)}</span> ${project.open_issues_count > 0 ? `<span>\uD83D\uDCCB ${escape(project.open_issues_count)}</span>` : ``}</div> </a>`;\n  })}</div>`} </div>`;\n});\nconst css$4 = {\n  code: \".organization-projects-widget.svelte-8sqfxh.svelte-8sqfxh{max-height:500px;overflow-y:auto}.empty-state.svelte-8sqfxh.svelte-8sqfxh{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.empty-icon.svelte-8sqfxh.svelte-8sqfxh{font-size:3rem;margin-bottom:1rem;opacity:0.5}.empty-state.svelte-8sqfxh p.svelte-8sqfxh{margin:0.25rem 0}.empty-hint.svelte-8sqfxh.svelte-8sqfxh{font-size:0.875rem;color:var(--text-secondary)}.organizations-container.svelte-8sqfxh.svelte-8sqfxh{display:flex;flex-direction:column;gap:1.5rem}.organization-section.svelte-8sqfxh.svelte-8sqfxh{border:1px solid var(--border);border-radius:0.5rem;padding:1rem;background-color:rgba(0, 0, 0, 0.1)}.organization-header.svelte-8sqfxh.svelte-8sqfxh{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;padding-bottom:0.75rem;border-bottom:1px solid var(--border)}.org-avatar.svelte-8sqfxh.svelte-8sqfxh{width:40px;height:40px;border-radius:50%;object-fit:cover}.org-info.svelte-8sqfxh.svelte-8sqfxh{flex:1}.org-name.svelte-8sqfxh.svelte-8sqfxh{margin:0;font-size:1.125rem;font-weight:600;color:var(--text-primary)}.org-description.svelte-8sqfxh.svelte-8sqfxh{margin:0.25rem 0 0 0;font-size:0.875rem;color:var(--text-secondary);line-height:1.4}.projects-grid.svelte-8sqfxh.svelte-8sqfxh{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:0.75rem}.project-tile.svelte-8sqfxh.svelte-8sqfxh{display:block;padding:0.875rem;background-color:rgba(255, 255, 255, 0.05);border-radius:0.375rem;border:1px solid rgba(255, 255, 255, 0.1);text-decoration:none;color:inherit;transition:all 0.2s}.project-tile.svelte-8sqfxh.svelte-8sqfxh:hover{background-color:rgba(255, 255, 255, 0.1);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 8px rgba(0, 0, 0, 0.1)}.project-header.svelte-8sqfxh.svelte-8sqfxh{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.5rem;gap:0.5rem}.project-name.svelte-8sqfxh.svelte-8sqfxh{font-weight:600;font-size:0.9rem;line-height:1.3;flex:1}.project-language.svelte-8sqfxh.svelte-8sqfxh{font-size:0.7rem;padding:0.125rem 0.4rem;background-color:var(--primary-color);border-radius:0.25rem;white-space:nowrap;flex-shrink:0}.project-description.svelte-8sqfxh.svelte-8sqfxh{font-size:0.8rem;color:var(--text-secondary);margin-bottom:0.75rem;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.project-stats.svelte-8sqfxh.svelte-8sqfxh{display:flex;gap:0.75rem;font-size:0.7rem;color:var(--text-secondary)}.no-projects.svelte-8sqfxh.svelte-8sqfxh{text-align:center;padding:1rem;color:var(--text-secondary);font-style:italic}.more-projects.svelte-8sqfxh.svelte-8sqfxh{text-align:center;margin-top:0.75rem;padding-top:0.75rem;border-top:1px solid rgba(255, 255, 255, 0.1);color:var(--text-secondary);font-size:0.875rem}.more-projects.svelte-8sqfxh p.svelte-8sqfxh{margin:0}\",\n  map: '{\"version\":3,\"file\":\"OrganizationProjectsWidget.svelte\",\"sources\":[\"OrganizationProjectsWidget.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">export let organizationProjects = [];\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"organization-projects-widget\\\\\">\\\\r\\\\n\\\\t{#if organizationProjects.length === 0}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"empty-state\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"empty-icon\\\\\">\uD83C\uDFE2</div>\\\\r\\\\n\\\\t\\\\t\\\\t<p>No organization projects found</p>\\\\r\\\\n\\\\t\\\\t\\\\t<p class=\\\\\"empty-hint\\\\\">Join organizations on GitHub to see their projects</p>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{:else}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"organizations-container\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t{#each organizationProjects as orgData}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"organization-section\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"organization-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<img src={orgData.organization.avatar_url} alt=\\\\\"{orgData.organization.login} avatar\\\\\" class=\\\\\"org-avatar\\\\\" />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"org-info\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<h3 class=\\\\\"org-name\\\\\">{orgData.organization.login}</h3>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if orgData.organization.description}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<p class=\\\\\"org-description\\\\\">{orgData.organization.description}</p>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{#if orgData.repositories.length > 0}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"projects-grid\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#each orgData.repositories.slice(0, 6) as project}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<a href={project.html_url} target=\\\\\"_blank\\\\\" rel=\\\\\"noopener noreferrer\\\\\" class=\\\\\"project-tile\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-name\\\\\">{project.name}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.language}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-language\\\\\">{project.language}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.description}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-description\\\\\">{project.description}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-stats\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span>\u2B50 {project.stargazers_count}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span>\uD83C\uDF74 {project.forks_count}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.open_issues_count > 0}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span>\uD83D\uDCCB {project.open_issues_count}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</a>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if orgData.repositories.length > 6}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"more-projects\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<p>+ {orgData.repositories.length - 6} more projects</p>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"no-projects\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<p>No repositories found in this organization</p>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.organization-projects-widget {\\\\r\\\\n\\\\t\\\\tmax-height: 500px;\\\\r\\\\n\\\\t\\\\toverflow-y: auto;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-state {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tpadding: 2rem;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-icon {\\\\r\\\\n\\\\t\\\\tfont-size: 3rem;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t\\\\topacity: 0.5;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-state p {\\\\r\\\\n\\\\t\\\\tmargin: 0.25rem 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-hint {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.organizations-container {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tgap: 1.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.organization-section {\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 0.5rem;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(0, 0, 0, 0.1);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.organization-header {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t\\\\tpadding-bottom: 0.75rem;\\\\r\\\\n\\\\t\\\\tborder-bottom: 1px solid var(--border);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.org-avatar {\\\\r\\\\n\\\\t\\\\twidth: 40px;\\\\r\\\\n\\\\t\\\\theight: 40px;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tobject-fit: cover;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.org-info {\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.org-name {\\\\r\\\\n\\\\t\\\\tmargin: 0;\\\\r\\\\n\\\\t\\\\tfont-size: 1.125rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.org-description {\\\\r\\\\n\\\\t\\\\tmargin: 0.25rem 0 0 0;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tline-height: 1.4;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.projects-grid {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgrid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\\\\r\\\\n\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-tile {\\\\r\\\\n\\\\t\\\\tdisplay: block;\\\\r\\\\n\\\\t\\\\tpadding: 0.875rem;\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(255, 255, 255, 0.05);\\\\r\\\\n\\\\t\\\\tborder-radius: 0.375rem;\\\\r\\\\n\\\\t\\\\tborder: 1px solid rgba(255, 255, 255, 0.1);\\\\r\\\\n\\\\t\\\\ttext-decoration: none;\\\\r\\\\n\\\\t\\\\tcolor: inherit;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-tile:hover {\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(255, 255, 255, 0.1);\\\\r\\\\n\\\\t\\\\tborder-color: var(--primary-color);\\\\r\\\\n\\\\t\\\\ttransform: translateY(-1px);\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-header {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\talign-items: flex-start;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.5rem;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-name {\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tfont-size: 0.9rem;\\\\r\\\\n\\\\t\\\\tline-height: 1.3;\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-language {\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t\\\\tpadding: 0.125rem 0.4rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-color);\\\\r\\\\n\\\\t\\\\tborder-radius: 0.25rem;\\\\r\\\\n\\\\t\\\\twhite-space: nowrap;\\\\r\\\\n\\\\t\\\\tflex-shrink: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-description {\\\\r\\\\n\\\\t\\\\tfont-size: 0.8rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.75rem;\\\\r\\\\n\\\\t\\\\tline-height: 1.4;\\\\r\\\\n\\\\t\\\\tdisplay: -webkit-box;\\\\r\\\\n\\\\t\\\\t-webkit-line-clamp: 2;\\\\r\\\\n\\\\t\\\\tline-clamp: 2;\\\\r\\\\n\\\\t\\\\t-webkit-box-orient: vertical;\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-stats {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.7rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.no-projects {\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tfont-style: italic;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.more-projects {\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t\\\\tmargin-top: 0.75rem;\\\\r\\\\n\\\\t\\\\tpadding-top: 0.75rem;\\\\r\\\\n\\\\t\\\\tborder-top: 1px solid rgba(255, 255, 255, 0.1);\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.more-projects p {\\\\r\\\\n\\\\t\\\\tmargin: 0;\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\"],\"names\":[],\"mappings\":\"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\"}'\n};\nconst OrganizationProjectsWidget = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { organizationProjects = [] } = $$props;\n  if ($$props.organizationProjects === void 0 && $$bindings.organizationProjects && organizationProjects !== void 0) $$bindings.organizationProjects(organizationProjects);\n  $$result.css.add(css$4);\n  return `<div class=\"organization-projects-widget svelte-8sqfxh\">${organizationProjects.length === 0 ? `<div class=\"empty-state svelte-8sqfxh\" data-svelte-h=\"svelte-acrlz2\"><div class=\"empty-icon svelte-8sqfxh\">\uD83C\uDFE2</div> <p class=\"svelte-8sqfxh\">No organization projects found</p> <p class=\"empty-hint svelte-8sqfxh\">Join organizations on GitHub to see their projects</p></div>` : `<div class=\"organizations-container svelte-8sqfxh\">${each(organizationProjects, (orgData) => {\n    return `<div class=\"organization-section svelte-8sqfxh\"><div class=\"organization-header svelte-8sqfxh\"><img${add_attribute(\"src\", orgData.organization.avatar_url, 0)} alt=\"${escape(orgData.organization.login, true) + \" avatar\"}\" class=\"org-avatar svelte-8sqfxh\"> <div class=\"org-info svelte-8sqfxh\"><h3 class=\"org-name svelte-8sqfxh\">${escape(orgData.organization.login)}</h3> ${orgData.organization.description ? `<p class=\"org-description svelte-8sqfxh\">${escape(orgData.organization.description)}</p>` : ``} </div></div> ${orgData.repositories.length > 0 ? `<div class=\"projects-grid svelte-8sqfxh\">${each(orgData.repositories.slice(0, 6), (project) => {\n      return `<a${add_attribute(\"href\", project.html_url, 0)} target=\"_blank\" rel=\"noopener noreferrer\" class=\"project-tile svelte-8sqfxh\"><div class=\"project-header svelte-8sqfxh\"><div class=\"project-name svelte-8sqfxh\">${escape(project.name)}</div> ${project.language ? `<div class=\"project-language svelte-8sqfxh\">${escape(project.language)}</div>` : ``}</div> ${project.description ? `<div class=\"project-description svelte-8sqfxh\">${escape(project.description)}</div>` : ``} <div class=\"project-stats svelte-8sqfxh\"><span>\u2B50 ${escape(project.stargazers_count)}</span> <span>\uD83C\uDF74 ${escape(project.forks_count)}</span> ${project.open_issues_count > 0 ? `<span>\uD83D\uDCCB ${escape(project.open_issues_count)}</span>` : ``}</div> </a>`;\n    })}</div> ${orgData.repositories.length > 6 ? `<div class=\"more-projects svelte-8sqfxh\"><p class=\"svelte-8sqfxh\">+ ${escape(orgData.repositories.length - 6)} more projects</p> </div>` : ``}` : `<div class=\"no-projects svelte-8sqfxh\" data-svelte-h=\"svelte-depaka\"><p>No repositories found in this organization</p> </div>`} </div>`;\n  })}</div>`} </div>`;\n});\nconst css$3 = {\n  code: \".github-projects-widget.svelte-1h822u5.svelte-1h822u5{max-height:500px;overflow-y:auto}.empty-state.svelte-1h822u5.svelte-1h822u5{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;color:var(--text-secondary);text-align:center}.empty-icon.svelte-1h822u5.svelte-1h822u5{font-size:3rem;margin-bottom:1rem;opacity:0.5}.empty-state.svelte-1h822u5 p.svelte-1h822u5{margin:0.25rem 0}.empty-hint.svelte-1h822u5.svelte-1h822u5{font-size:0.875rem;opacity:0.7}.login-button.svelte-1h822u5.svelte-1h822u5{margin-top:1rem;padding:0.75rem 1.5rem;background-color:var(--primary);color:white;text-decoration:none;border-radius:6px;font-weight:500;transition:all 0.2s ease;display:inline-block}.login-button.svelte-1h822u5.svelte-1h822u5:hover{background-color:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px var(--shadow-hover)}.projects-grid.svelte-1h822u5.svelte-1h822u5{display:grid;gap:0.75rem;padding:0.5rem}.project-card.svelte-1h822u5.svelte-1h822u5{display:flex;flex-direction:column;gap:0.5rem;padding:1rem;background-color:var(--surface);border:1px solid var(--border);border-radius:8px;text-decoration:none;color:inherit;transition:all 0.2s ease}.project-card.svelte-1h822u5.svelte-1h822u5:hover{border-color:var(--primary);box-shadow:0 2px 8px var(--shadow);transform:translateY(-2px)}.project-header.svelte-1h822u5.svelte-1h822u5{display:flex;justify-content:space-between;align-items:center;gap:0.5rem}.owner-info.svelte-1h822u5.svelte-1h822u5{display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;color:var(--text-secondary)}.owner-avatar.svelte-1h822u5.svelte-1h822u5{width:20px;height:20px;border-radius:50%;object-fit:cover}.owner-login.svelte-1h822u5.svelte-1h822u5{font-weight:500}.status-badge.svelte-1h822u5.svelte-1h822u5{padding:0.25rem 0.5rem;border-radius:4px;font-size:0.75rem;font-weight:600;text-transform:uppercase}.status-badge.open.svelte-1h822u5.svelte-1h822u5{background-color:rgba(34, 197, 94, 0.2);color:#22c55e}.status-badge.closed.svelte-1h822u5.svelte-1h822u5{background-color:rgba(156, 163, 175, 0.2);color:#9ca3af}.project-title.svelte-1h822u5.svelte-1h822u5{font-size:1.125rem;font-weight:600;color:var(--text-primary);line-height:1.3}.project-description.svelte-1h822u5.svelte-1h822u5{font-size:0.875rem;color:var(--text-secondary);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.project-footer.svelte-1h822u5.svelte-1h822u5{display:flex;align-items:center;gap:0.75rem;font-size:0.75rem;color:var(--text-secondary);padding-top:0.25rem;border-top:1px solid var(--border)}.project-number.svelte-1h822u5.svelte-1h822u5{font-weight:600;color:var(--primary)}.project-visibility.svelte-1h822u5.svelte-1h822u5{display:flex;align-items:center;gap:0.25rem}.project-updated.svelte-1h822u5.svelte-1h822u5{margin-left:auto}.github-projects-widget.svelte-1h822u5.svelte-1h822u5::-webkit-scrollbar{width:8px}.github-projects-widget.svelte-1h822u5.svelte-1h822u5::-webkit-scrollbar-track{background:transparent}.github-projects-widget.svelte-1h822u5.svelte-1h822u5::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}.github-projects-widget.svelte-1h822u5.svelte-1h822u5::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}\",\n  map: '{\"version\":3,\"file\":\"GithubProjectsWidget.svelte\",\"sources\":[\"GithubProjectsWidget.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">export let projects = [];\\\\nexport let isLoggedIn = false;\\\\nfunction formatDate(dateString) {\\\\n  const date = new Date(dateString);\\\\n  const now = /* @__PURE__ */ new Date();\\\\n  const diffMs = now.getTime() - date.getTime();\\\\n  const diffDays = Math.floor(diffMs / (1e3 * 60 * 60 * 24));\\\\n  if (diffDays === 0) return \\\\\"Today\\\\\";\\\\n  if (diffDays === 1) return \\\\\"Yesterday\\\\\";\\\\n  if (diffDays < 7) return `${diffDays} days ago`;\\\\n  if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;\\\\n  if (diffDays < 365) return `${Math.floor(diffDays / 30)} months ago`;\\\\n  return date.toLocaleDateString();\\\\n}\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"github-projects-widget\\\\\">\\\\r\\\\n\\\\t{#if !isLoggedIn}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"empty-state\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"empty-icon\\\\\">\uD83D\uDD12</div>\\\\r\\\\n\\\\t\\\\t\\\\t<p>Log in to GitHub to see your Projects</p>\\\\r\\\\n\\\\t\\\\t\\\\t<a href=\\\\\"/auth/signin\\\\\" class=\\\\\"login-button\\\\\">Sign in with GitHub</a>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{:else if projects.length === 0}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"empty-state\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"empty-icon\\\\\">\uD83D\uDCCA</div>\\\\r\\\\n\\\\t\\\\t\\\\t<p>No GitHub Projects found</p>\\\\r\\\\n\\\\t\\\\t\\\\t<p class=\\\\\"empty-hint\\\\\">Create projects on GitHub to see them here</p>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{:else}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"projects-grid\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t{#each projects as project}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<a href={project.url} target=\\\\\"_blank\\\\\" rel=\\\\\"noopener noreferrer\\\\\" class=\\\\\"project-card\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-header\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"owner-info\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.ownerAvatarUrl}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<img src={project.ownerAvatarUrl} alt={project.ownerLogin} class=\\\\\"owner-avatar\\\\\" />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"owner-login\\\\\">{project.ownerLogin}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.closed}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"status-badge closed\\\\\">Closed</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"status-badge open\\\\\">Open</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-title\\\\\">{project.title}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{#if project.shortDescription}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-description\\\\\">{project.shortDescription}</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"project-footer\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"project-number\\\\\">#{project.number}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"project-visibility\\\\\">{project.public ? \\'\uD83C\uDF10 Public\\' : \\'\uD83D\uDD12 Private\\'}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"project-updated\\\\\">Updated {formatDate(project.updatedAt)}</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</a>\\\\r\\\\n\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.github-projects-widget {\\\\r\\\\n\\\\t\\\\tmax-height: 500px;\\\\r\\\\n\\\\t\\\\toverflow-y: auto;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-state {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tpadding: 3rem 1rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-icon {\\\\r\\\\n\\\\t\\\\tfont-size: 3rem;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t\\\\topacity: 0.5;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-state p {\\\\r\\\\n\\\\t\\\\tmargin: 0.25rem 0;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.empty-hint {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\topacity: 0.7;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.login-button {\\\\r\\\\n\\\\t\\\\tmargin-top: 1rem;\\\\r\\\\n\\\\t\\\\tpadding: 0.75rem 1.5rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary);\\\\r\\\\n\\\\t\\\\tcolor: white;\\\\r\\\\n\\\\t\\\\ttext-decoration: none;\\\\r\\\\n\\\\t\\\\tborder-radius: 6px;\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t\\\\tdisplay: inline-block;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.login-button:hover {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-hover);\\\\r\\\\n\\\\t\\\\ttransform: translateY(-1px);\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 4px 12px var(--shadow-hover);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.projects-grid {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-card {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\ttext-decoration: none;\\\\r\\\\n\\\\t\\\\tcolor: inherit;\\\\r\\\\n\\\\t\\\\ttransition: all 0.2s ease;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-card:hover {\\\\r\\\\n\\\\t\\\\tborder-color: var(--primary);\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 2px 8px var(--shadow);\\\\r\\\\n\\\\t\\\\ttransform: translateY(-2px);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-header {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.owner-info {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.owner-avatar {\\\\r\\\\n\\\\t\\\\twidth: 20px;\\\\r\\\\n\\\\t\\\\theight: 20px;\\\\r\\\\n\\\\t\\\\tborder-radius: 50%;\\\\r\\\\n\\\\t\\\\tobject-fit: cover;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.owner-login {\\\\r\\\\n\\\\t\\\\tfont-weight: 500;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.status-badge {\\\\r\\\\n\\\\t\\\\tpadding: 0.25rem 0.5rem;\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\ttext-transform: uppercase;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.status-badge.open {\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(34, 197, 94, 0.2);\\\\r\\\\n\\\\t\\\\tcolor: #22c55e;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.status-badge.closed {\\\\r\\\\n\\\\t\\\\tbackground-color: rgba(156, 163, 175, 0.2);\\\\r\\\\n\\\\t\\\\tcolor: #9ca3af;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-title {\\\\r\\\\n\\\\t\\\\tfont-size: 1.125rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tline-height: 1.3;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-description {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tline-height: 1.4;\\\\r\\\\n\\\\t\\\\tdisplay: -webkit-box;\\\\r\\\\n\\\\t\\\\t-webkit-line-clamp: 2;\\\\r\\\\n\\\\t\\\\tline-clamp: 2;\\\\r\\\\n\\\\t\\\\t-webkit-box-orient: vertical;\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-footer {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tpadding-top: 0.25rem;\\\\r\\\\n\\\\t\\\\tborder-top: 1px solid var(--border);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-number {\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--primary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-visibility {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 0.25rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.project-updated {\\\\r\\\\n\\\\t\\\\tmargin-left: auto;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t/* Scrollbar styling */\\\\r\\\\n\\\\t.github-projects-widget::-webkit-scrollbar {\\\\r\\\\n\\\\t\\\\twidth: 8px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.github-projects-widget::-webkit-scrollbar-track {\\\\r\\\\n\\\\t\\\\tbackground: transparent;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.github-projects-widget::-webkit-scrollbar-thumb {\\\\r\\\\n\\\\t\\\\tbackground: var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.github-projects-widget::-webkit-scrollbar-thumb:hover {\\\\r\\\\n\\\\t\\\\tbackground: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"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\"}'\n};\nfunction formatDate(dateString) {\n  const date = new Date(dateString);\n  const now = /* @__PURE__ */ new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffDays = Math.floor(diffMs / (1e3 * 60 * 60 * 24));\n  if (diffDays === 0) return \"Today\";\n  if (diffDays === 1) return \"Yesterday\";\n  if (diffDays < 7) return `${diffDays} days ago`;\n  if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;\n  if (diffDays < 365) return `${Math.floor(diffDays / 30)} months ago`;\n  return date.toLocaleDateString();\n}\nconst GithubProjectsWidget = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { projects = [] } = $$props;\n  let { isLoggedIn = false } = $$props;\n  if ($$props.projects === void 0 && $$bindings.projects && projects !== void 0) $$bindings.projects(projects);\n  if ($$props.isLoggedIn === void 0 && $$bindings.isLoggedIn && isLoggedIn !== void 0) $$bindings.isLoggedIn(isLoggedIn);\n  $$result.css.add(css$3);\n  return `<div class=\"github-projects-widget svelte-1h822u5\">${!isLoggedIn ? `<div class=\"empty-state svelte-1h822u5\" data-svelte-h=\"svelte-bndtqd\"><div class=\"empty-icon svelte-1h822u5\">\uD83D\uDD12</div> <p class=\"svelte-1h822u5\">Log in to GitHub to see your Projects</p> <a href=\"/auth/signin\" class=\"login-button svelte-1h822u5\">Sign in with GitHub</a></div>` : `${projects.length === 0 ? `<div class=\"empty-state svelte-1h822u5\" data-svelte-h=\"svelte-7goofp\"><div class=\"empty-icon svelte-1h822u5\">\uD83D\uDCCA</div> <p class=\"svelte-1h822u5\">No GitHub Projects found</p> <p class=\"empty-hint svelte-1h822u5\">Create projects on GitHub to see them here</p></div>` : `<div class=\"projects-grid svelte-1h822u5\">${each(projects, (project) => {\n    return `<a${add_attribute(\"href\", project.url, 0)} target=\"_blank\" rel=\"noopener noreferrer\" class=\"project-card svelte-1h822u5\"><div class=\"project-header svelte-1h822u5\"><div class=\"owner-info svelte-1h822u5\">${project.ownerAvatarUrl ? `<img${add_attribute(\"src\", project.ownerAvatarUrl, 0)}${add_attribute(\"alt\", project.ownerLogin, 0)} class=\"owner-avatar svelte-1h822u5\">` : ``} <span class=\"owner-login svelte-1h822u5\">${escape(project.ownerLogin)}</span></div> ${project.closed ? `<span class=\"status-badge closed svelte-1h822u5\" data-svelte-h=\"svelte-yz1hjx\">Closed</span>` : `<span class=\"status-badge open svelte-1h822u5\" data-svelte-h=\"svelte-e541f1\">Open</span>`}</div> <div class=\"project-title svelte-1h822u5\">${escape(project.title)}</div> ${project.shortDescription ? `<div class=\"project-description svelte-1h822u5\">${escape(project.shortDescription)}</div>` : ``} <div class=\"project-footer svelte-1h822u5\"><span class=\"project-number svelte-1h822u5\">#${escape(project.number)}</span> <span class=\"project-visibility svelte-1h822u5\">${escape(project.public ? \"\uD83C\uDF10 Public\" : \"\uD83D\uDD12 Private\")}</span> <span class=\"project-updated svelte-1h822u5\">Updated ${escape(formatDate(project.updatedAt))}</span></div> </a>`;\n  })}</div>`}`} </div>`;\n});\nconst css$2 = {\n  code: \".widget.svelte-stst01.svelte-stst01{width:100%;background-color:var(--surface);border:1px solid var(--border);border-radius:0.5rem;box-shadow:0 4px 6px var(--shadow);overflow:hidden;transition:box-shadow 0.2s, transform 0.1s ease, background-color 0.3s ease;margin-bottom:1rem;position:relative}.widget.collapsed.svelte-stst01.svelte-stst01{margin-bottom:0.5rem}.widget.svelte-stst01.svelte-stst01:hover{box-shadow:0 6px 12px var(--shadow-hover)}.widget.dragging.svelte-stst01.svelte-stst01{opacity:0.6;cursor:grabbing;box-shadow:0 12px 24px var(--shadow-hover);z-index:1000;transform:translateY(-4px) scale(1.02);transition:none;pointer-events:none}.widget-header.svelte-stst01.svelte-stst01{background-color:var(--surface-variant);padding:0.75rem 1rem;display:flex;justify-content:space-between;align-items:center;cursor:move;user-select:none}.widget-header.svelte-stst01 h3.svelte-stst01{font-size:1rem;font-weight:600;margin:0;flex:1}.header-buttons.svelte-stst01.svelte-stst01{display:flex;align-items:center;gap:0.5rem}.collapse-button.svelte-stst01.svelte-stst01{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:0.875rem;padding:0.25rem;line-height:1;border-radius:0.25rem;transition:color 0.2s, background-color 0.2s}.collapse-button.svelte-stst01.svelte-stst01:hover{color:var(--text-primary);background-color:var(--surface-hover)}.drag-handle.svelte-stst01.svelte-stst01{background:none;border:none;color:var(--text-secondary);cursor:move;font-size:1.25rem;padding:0;line-height:1}.widget-content.svelte-stst01.svelte-stst01{padding:1rem}\",\n  map: `{\"version\":3,\"file\":\"Widget.svelte\",\"sources\":[\"Widget.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { widgets, isDraggingAny } from \\\\\"$lib/stores/widgets\\\\\";\\\\nimport { createEventDispatcher } from \\\\\"svelte\\\\\";\\\\nexport let widget;\\\\nconst dispatch = createEventDispatcher();\\\\nlet isDragging = false;\\\\nlet dragOffset = { x: 0, y: 0 };\\\\nlet dragElement;\\\\nfunction handleMouseDown(e) {\\\\n  if (e.target.closest(\\\\\".widget-header\\\\\")) {\\\\n    if (e.target.closest(\\\\\".collapse-button\\\\\")) {\\\\n      return;\\\\n    }\\\\n    isDragging = true;\\\\n    isDraggingAny.set(true);\\\\n    const rect = dragElement.getBoundingClientRect();\\\\n    dragOffset = {\\\\n      x: e.clientX - rect.left,\\\\n      y: e.clientY - rect.top\\\\n    };\\\\n    e.preventDefault();\\\\n  }\\\\n}\\\\nfunction handleMouseMove(e) {\\\\n  if (isDragging) {\\\\n    const columns = document.querySelectorAll(\\\\\".column-content\\\\\");\\\\n    let targetColumn = -1;\\\\n    let targetOrder = 0;\\\\n    columns.forEach((column, columnIndex) => {\\\\n      const rect = column.getBoundingClientRect();\\\\n      if (e.clientX >= rect.left && e.clientX <= rect.right) {\\\\n        targetColumn = columnIndex;\\\\n        const widgets2 = column.querySelectorAll(\\\\\".widget-container\\\\\");\\\\n        let insertIndex = widgets2.length;\\\\n        widgets2.forEach((w, index) => {\\\\n          const wRect = w.getBoundingClientRect();\\\\n          if (e.clientY < wRect.top + wRect.height / 2) {\\\\n            insertIndex = Math.min(insertIndex, index);\\\\n          }\\\\n        });\\\\n        targetOrder = insertIndex;\\\\n      }\\\\n    });\\\\n  }\\\\n}\\\\nfunction handleMouseUp(e) {\\\\n  if (isDragging) {\\\\n    const sections = document.querySelectorAll(\\\\\".section\\\\\");\\\\n    let targetSection = widget.section;\\\\n    let targetOrder = widget.order;\\\\n    let closestSectionElement = null;\\\\n    let closestSectionIndex = widget.section;\\\\n    let closestDistance = Infinity;\\\\n    sections.forEach((sectionEl, sectionIndex) => {\\\\n      const rect = sectionEl.getBoundingClientRect();\\\\n      const centerX = rect.left + rect.width / 2;\\\\n      const centerY = rect.top + rect.height / 2;\\\\n      const distance = Math.sqrt(\\\\n        Math.pow(e.clientX - centerX, 2) + Math.pow(e.clientY - centerY, 2)\\\\n      );\\\\n      if (e.clientX >= rect.left && e.clientX <= rect.right && e.clientY >= rect.top && e.clientY <= rect.bottom || distance < closestDistance) {\\\\n        closestDistance = distance;\\\\n        closestSectionElement = sectionEl;\\\\n        closestSectionIndex = sectionIndex;\\\\n      }\\\\n    });\\\\n    if (closestSectionElement) {\\\\n      targetSection = closestSectionIndex;\\\\n      const widgetElements = closestSectionElement.querySelectorAll(\\\\\".widget-container\\\\\");\\\\n      let insertIndex = widgetElements.length;\\\\n      widgetElements.forEach((w, index) => {\\\\n        const wRect = w.getBoundingClientRect();\\\\n        if (e.clientY < wRect.top + wRect.height / 2) {\\\\n          insertIndex = Math.min(insertIndex, index);\\\\n        }\\\\n      });\\\\n      targetOrder = insertIndex;\\\\n    }\\\\n    if (targetSection !== widget.section || targetOrder !== widget.order) {\\\\n      dispatch(\\\\\"widgetDrop\\\\\", {\\\\n        widgetId: widget.id,\\\\n        targetSection,\\\\n        targetOrder\\\\n      });\\\\n    }\\\\n    isDragging = false;\\\\n    isDraggingAny.set(false);\\\\n  }\\\\n}\\\\nfunction toggleCollapse() {\\\\n  widgets.toggleCollapse(widget.id);\\\\n}\\\\n$: if (typeof window !== \\\\\"undefined\\\\\") {\\\\n  if (isDragging) {\\\\n    document.addEventListener(\\\\\"mousemove\\\\\", handleMouseMove);\\\\n    document.addEventListener(\\\\\"mouseup\\\\\", handleMouseUp);\\\\n  } else {\\\\n    document.removeEventListener(\\\\\"mousemove\\\\\", handleMouseMove);\\\\n    document.removeEventListener(\\\\\"mouseup\\\\\", handleMouseUp);\\\\n  }\\\\n}\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div\\\\r\\\\n\\\\tbind:this={dragElement}\\\\r\\\\n\\\\tclass=\\\\\"widget\\\\\"\\\\r\\\\n\\\\tclass:dragging={isDragging}\\\\r\\\\n\\\\tclass:collapsed={widget.collapsed}\\\\r\\\\n>\\\\r\\\\n\\\\t<div class=\\\\\"widget-header\\\\\" on:mousedown={handleMouseDown} role=\\\\\"button\\\\\" tabindex=\\\\\"0\\\\\">\\\\r\\\\n\\\\t\\\\t<h3>{widget.title}</h3>\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"header-buttons\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\tclass=\\\\\"collapse-button\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\t\\\\ton:click={toggleCollapse}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\taria-label={widget.collapsed ? 'Expand widget' : 'Collapse widget'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttype=\\\\\"button\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{widget.collapsed ? '\u25BC' : '\u25B2'}\\\\r\\\\n\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t<button class=\\\\\"drag-handle\\\\\" aria-label=\\\\\"Drag widget\\\\\" type=\\\\\"button\\\\\">\u22EE\u22EE</button>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t</div>\\\\r\\\\n\\\\t{#if !widget.collapsed}\\\\r\\\\n\\\\t\\\\t<div class=\\\\\"widget-content\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t<slot />\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/if}\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.widget {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface);\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 0.5rem;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 4px 6px var(--shadow);\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\ttransition: box-shadow 0.2s, transform 0.1s ease, background-color 0.3s ease;\\\\r\\\\n\\\\t\\\\tmargin-bottom: 1rem;\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.widget.collapsed {\\\\r\\\\n\\\\t\\\\tmargin-bottom: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.widget:hover {\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 6px 12px var(--shadow-hover);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.widget.dragging {\\\\r\\\\n\\\\t\\\\topacity: 0.6;\\\\r\\\\n\\\\t\\\\tcursor: grabbing;\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 12px 24px var(--shadow-hover);\\\\r\\\\n\\\\t\\\\tz-index: 1000;\\\\r\\\\n\\\\t\\\\ttransform: translateY(-4px) scale(1.02);\\\\r\\\\n\\\\t\\\\ttransition: none;\\\\r\\\\n\\\\t\\\\tpointer-events: none;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.widget-header {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tpadding: 0.75rem 1rem;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tcursor: move;\\\\r\\\\n\\\\t\\\\tuser-select: none;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.widget-header h3 {\\\\r\\\\n\\\\t\\\\tfont-size: 1rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tmargin: 0;\\\\r\\\\n\\\\t\\\\tflex: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.header-buttons {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.collapse-button {\\\\r\\\\n\\\\t\\\\tbackground: none;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tpadding: 0.25rem;\\\\r\\\\n\\\\t\\\\tline-height: 1;\\\\r\\\\n\\\\t\\\\tborder-radius: 0.25rem;\\\\r\\\\n\\\\t\\\\ttransition: color 0.2s, background-color 0.2s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.collapse-button:hover {\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-hover);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.drag-handle {\\\\r\\\\n\\\\t\\\\tbackground: none;\\\\r\\\\n\\\\t\\\\tborder: none;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tcursor: move;\\\\r\\\\n\\\\t\\\\tfont-size: 1.25rem;\\\\r\\\\n\\\\t\\\\tpadding: 0;\\\\r\\\\n\\\\t\\\\tline-height: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t.widget-content {\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"AAkIC,mCAAQ,CACP,KAAK,CAAE,IAAI,CACX,gBAAgB,CAAE,IAAI,SAAS,CAAC,CAChC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,CAC/B,aAAa,CAAE,MAAM,CACrB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,CACnC,QAAQ,CAAE,MAAM,CAChB,UAAU,CAAE,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAC5E,aAAa,CAAE,IAAI,CACnB,QAAQ,CAAE,QACX,CAEA,OAAO,sCAAW,CACjB,aAAa,CAAE,MAChB,CAEA,mCAAO,MAAO,CACb,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,cAAc,CAC1C,CAEA,OAAO,qCAAU,CAChB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,QAAQ,CAChB,UAAU,CAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,cAAc,CAAC,CAC3C,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,WAAW,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CACvC,UAAU,CAAE,IAAI,CAChB,cAAc,CAAE,IACjB,CAEA,0CAAe,CACd,gBAAgB,CAAE,IAAI,iBAAiB,CAAC,CACxC,OAAO,CAAE,OAAO,CAAC,IAAI,CACrB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,MAAM,CAAE,IAAI,CACZ,WAAW,CAAE,IACd,CAEA,4BAAc,CAAC,gBAAG,CACjB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,CAAC,CACT,IAAI,CAAE,CACP,CAEA,2CAAgB,CACf,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,MACN,CAEA,4CAAiB,CAChB,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,MAAM,CAAE,OAAO,CACf,SAAS,CAAE,QAAQ,CACnB,OAAO,CAAE,OAAO,CAChB,WAAW,CAAE,CAAC,CACd,aAAa,CAAE,OAAO,CACtB,UAAU,CAAE,KAAK,CAAC,IAAI,CAAC,CAAC,gBAAgB,CAAC,IAC1C,CAEA,4CAAgB,MAAO,CACtB,KAAK,CAAE,IAAI,cAAc,CAAC,CAC1B,gBAAgB,CAAE,IAAI,eAAe,CACtC,CAEA,wCAAa,CACZ,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,gBAAgB,CAAC,CAC5B,MAAM,CAAE,IAAI,CACZ,SAAS,CAAE,OAAO,CAClB,OAAO,CAAE,CAAC,CACV,WAAW,CAAE,CACd,CAEA,2CAAgB,CACf,OAAO,CAAE,IACV\"}`\n};\nconst Widget = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { widget } = $$props;\n  createEventDispatcher();\n  let dragElement;\n  function handleMouseMove(e) {\n  }\n  function handleMouseUp(e) {\n  }\n  if ($$props.widget === void 0 && $$bindings.widget && widget !== void 0) $$bindings.widget(widget);\n  $$result.css.add(css$2);\n  {\n    if (typeof window !== \"undefined\") {\n      {\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n      }\n    }\n  }\n  return `<div class=\"${[\n    \"widget svelte-stst01\",\n    \" \" + (widget.collapsed ? \"collapsed\" : \"\")\n  ].join(\" \").trim()}\"${add_attribute(\"this\", dragElement, 0)}><div class=\"widget-header svelte-stst01\" role=\"button\" tabindex=\"0\"><h3 class=\"svelte-stst01\">${escape(widget.title)}</h3> <div class=\"header-buttons svelte-stst01\"><button class=\"collapse-button svelte-stst01\"${add_attribute(\"aria-label\", widget.collapsed ? \"Expand widget\" : \"Collapse widget\", 0)} type=\"button\">${escape(widget.collapsed ? \"\u25BC\" : \"\u25B2\")}</button> <button class=\"drag-handle svelte-stst01\" aria-label=\"Drag widget\" type=\"button\" data-svelte-h=\"svelte-1d4b2ek\">\u22EE\u22EE</button></div></div> ${!widget.collapsed ? `<div class=\"widget-content svelte-stst01\">${slots.default ? slots.default({}) : ``}</div>` : ``} </div>`;\n});\nconst css$1 = {\n  code: \".dashboard-layout.svelte-12g5v36{display:grid;grid-template-columns:repeat(3, 1fr);gap:1rem;width:100%;height:100%;padding:1rem;overflow-y:auto;position:relative;grid-auto-rows:minmax(min-content, max-content)}.drop-zone.svelte-12g5v36{position:absolute;top:0;bottom:0;pointer-events:none;opacity:0;transition:opacity 0.2s;display:flex;align-items:center;justify-content:center;background-color:var(--primary-container);border:2px dashed var(--primary);border-radius:8px;z-index:1}.drop-zone.active.svelte-12g5v36{pointer-events:all;opacity:1}.drop-zone-label.svelte-12g5v36{font-size:0.875rem;font-weight:600;color:var(--primary);text-transform:uppercase;letter-spacing:1px}.section.svelte-12g5v36{display:flex;flex-direction:column;background-color:var(--surface);border-radius:8px;border:2px solid var(--border);overflow:hidden;min-height:fit-content;height:fit-content;position:relative;z-index:2;transition:transform 0.2s, box-shadow 0.2s, border-color 0.2s;cursor:move}.section.svelte-12g5v36:hover{border-color:var(--primary);box-shadow:0 2px 8px var(--shadow)}.section.dragging.svelte-12g5v36{opacity:0.5;transform:scale(0.98)}.section-controls.svelte-12g5v36{display:flex;align-items:center;justify-content:space-between;padding:0.5rem 0.75rem;background-color:var(--surface-variant);border-bottom:1px solid var(--border);gap:0.5rem}.drag-handle.svelte-12g5v36{cursor:grab;color:var(--text-secondary)}.drag-handle.svelte-12g5v36:active{cursor:grabbing}.resize-controls.svelte-12g5v36{display:flex;align-items:center;gap:0.25rem}.control-btn.svelte-12g5v36{display:flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;background-color:transparent;border:1px solid var(--border);border-radius:4px;cursor:pointer;color:var(--text-primary);transition:background-color 0.2s, border-color 0.2s}.control-btn.svelte-12g5v36:hover:not(:disabled){background-color:var(--surface-hover);border-color:var(--primary)}.control-btn.svelte-12g5v36:active:not(:disabled){background-color:var(--surface-variant)}.control-btn.svelte-12g5v36:disabled{opacity:0.4;cursor:not-allowed}.span-indicator.svelte-12g5v36{font-size:0.75rem;font-weight:600;color:var(--text-secondary);padding:0 0.25rem;min-width:35px;text-align:center}.section-content.svelte-12g5v36{padding:1rem;display:flex;flex-direction:column;gap:1rem;cursor:default}.widget-container.svelte-12g5v36{width:100%}@media(max-width: 1024px){.dashboard-layout.svelte-12g5v36{grid-template-columns:repeat(2, 1fr);grid-auto-flow:row}.section.svelte-12g5v36{grid-column:auto / span 1 !important;grid-row:auto !important}}@media(max-width: 768px){.dashboard-layout.svelte-12g5v36{grid-template-columns:1fr;padding:0.5rem;gap:0.75rem;grid-auto-flow:row}.section.svelte-12g5v36{grid-column:1 / span 1 !important;grid-row:auto !important}.section-content.svelte-12g5v36{padding:0.75rem}.drop-zone.svelte-12g5v36{display:none}}\",\n  map: `{\"version\":3,\"file\":\"ColumnLayout.svelte\",\"sources\":[\"ColumnLayout.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { widgets, sections, isDraggingAny } from \\\\\"$lib/stores/widgets\\\\\";\\\\nimport Widget from \\\\\"$lib/components/Widget.svelte\\\\\";\\\\nexport let widgetComponents;\\\\nexport let data;\\\\nlet containerRef;\\\\nlet draggedSectionId = null;\\\\nlet isDraggingFromHandle = false;\\\\n$: widgetsBySection = $widgets.reduce((acc, widget) => {\\\\n  if (!acc[widget.section]) {\\\\n    acc[widget.section] = [];\\\\n  }\\\\n  acc[widget.section].push(widget);\\\\n  return acc;\\\\n}, {});\\\\n$: {\\\\n  Object.keys(widgetsBySection).forEach((sectionId) => {\\\\n    const widgets2 = widgetsBySection[parseInt(sectionId)];\\\\n    if (widgets2 && Array.isArray(widgets2)) {\\\\n      widgets2.sort((a, b) => a.order - b.order);\\\\n    }\\\\n  });\\\\n}\\\\n$: sortedSections = [...$sections].map((s) => ({\\\\n  ...s,\\\\n  gridColumnSpan: s.gridColumnSpan ?? 1\\\\n})).sort((a, b) => {\\\\n  if (a.gridRow !== b.gridRow) return a.gridRow - b.gridRow;\\\\n  return a.gridColumn - b.gridColumn;\\\\n});\\\\nfunction handleSectionDragStart(sectionId, event) {\\\\n  if (!isDraggingFromHandle) {\\\\n    event.preventDefault();\\\\n    return;\\\\n  }\\\\n  draggedSectionId = sectionId;\\\\n  isDraggingAny.set(true);\\\\n  if (event.dataTransfer) {\\\\n    event.dataTransfer.effectAllowed = \\\\\"move\\\\\";\\\\n    event.dataTransfer.setData(\\\\\"text/plain\\\\\", sectionId.toString());\\\\n  }\\\\n}\\\\nfunction handleDragHandleMouseDown() {\\\\n  isDraggingFromHandle = true;\\\\n}\\\\nfunction handleDragHandleMouseUp() {\\\\n  isDraggingFromHandle = false;\\\\n}\\\\nfunction handleSectionDragOver(event) {\\\\n  event.preventDefault();\\\\n  if (event.dataTransfer) {\\\\n    event.dataTransfer.dropEffect = \\\\\"move\\\\\";\\\\n  }\\\\n}\\\\nfunction handleSectionDrop(targetColumn, event) {\\\\n  event.preventDefault();\\\\n  if (draggedSectionId !== null) {\\\\n    const validColumn = Math.max(1, Math.min(3, targetColumn));\\\\n    sections.moveSection(draggedSectionId, validColumn);\\\\n  }\\\\n  draggedSectionId = null;\\\\n  isDraggingAny.set(false);\\\\n}\\\\nfunction handleSectionDragEnd() {\\\\n  draggedSectionId = null;\\\\n  isDraggingAny.set(false);\\\\n  isDraggingFromHandle = false;\\\\n}\\\\nfunction increaseSpan(sectionId) {\\\\n  const section = $sections.find((s) => s.id === sectionId);\\\\n  if (section) {\\\\n    sections.resizeSection(sectionId, section.gridColumnSpan + 1);\\\\n  }\\\\n}\\\\nfunction decreaseSpan(sectionId) {\\\\n  const section = $sections.find((s) => s.id === sectionId);\\\\n  if (section) {\\\\n    sections.resizeSection(sectionId, section.gridColumnSpan - 1);\\\\n  }\\\\n}\\\\nfunction handleWidgetDrop(event) {\\\\n  const { targetSection, targetOrder, widgetId } = event.detail;\\\\n  if (widgetId) {\\\\n    widgets.moveWidget(widgetId, targetSection, targetOrder);\\\\n  }\\\\n}\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"dashboard-layout\\\\\" bind:this={containerRef}>\\\\r\\\\n\\\\t<!-- Drop zones for each column -->\\\\r\\\\n\\\\t{#each [1, 2, 3] as columnNum}\\\\r\\\\n\\\\t\\\\t<div \\\\r\\\\n\\\\t\\\\t\\\\tclass=\\\\\"drop-zone\\\\\" \\\\r\\\\n\\\\t\\\\t\\\\tclass:active={draggedSectionId !== null}\\\\r\\\\n\\\\t\\\\t\\\\tstyle=\\\\\"grid-column: {columnNum}; grid-row: 1 / -1;\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\ton:dragover={handleSectionDragOver}\\\\r\\\\n\\\\t\\\\t\\\\ton:drop={(e) => handleSectionDrop(columnNum, e)}\\\\r\\\\n\\\\t\\\\t\\\\trole=\\\\\"region\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\taria-label=\\\\\"Drop zone for column {columnNum}\\\\\"\\\\r\\\\n\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t{#if draggedSectionId !== null}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"drop-zone-label\\\\\">Drop here</span>\\\\r\\\\n\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/each}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t{#each sortedSections as section (section.id)}\\\\r\\\\n\\\\t\\\\t<div \\\\r\\\\n\\\\t\\\\t\\\\tclass=\\\\\"section\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\tclass:dragging={draggedSectionId === section.id}\\\\r\\\\n\\\\t\\\\t\\\\tstyle=\\\\\"grid-column: {section.gridColumn} / span {section.gridColumnSpan}; grid-row: {section.gridRow};\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\tdraggable=\\\\\"true\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\ton:dragstart={(e) => handleSectionDragStart(section.id, e)}\\\\r\\\\n\\\\t\\\\t\\\\ton:dragend={handleSectionDragEnd}\\\\r\\\\n\\\\t\\\\t\\\\trole=\\\\\"region\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\taria-label=\\\\\"Section {section.id}\\\\\"\\\\r\\\\n\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t<!-- Section Controls -->\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"section-controls\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"control-btn drag-handle\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ttitle=\\\\\"Drag to move section\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\taria-label=\\\\\"Drag to move section\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:mousedown={handleDragHandleMouseDown}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ton:mouseup={handleDragHandleMouseUp}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<svg width=\\\\\"16\\\\\" height=\\\\\"16\\\\\" viewBox=\\\\\"0 0 16 16\\\\\" fill=\\\\\"currentColor\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<path d=\\\\\"M10 3a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\\\\\"/>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"resize-controls\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"control-btn\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\ton:click={() => decreaseSpan(section.id)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tdisabled={section.gridColumnSpan <= 1}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\ttitle=\\\\\"Decrease width\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\taria-label=\\\\\"Decrease section width\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svg width=\\\\\"16\\\\\" height=\\\\\"16\\\\\" viewBox=\\\\\"0 0 16 16\\\\\" fill=\\\\\"currentColor\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<path d=\\\\\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\\\\\"/>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\"span-indicator\\\\\">{section.gridColumnSpan}col</span>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<button \\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tclass=\\\\\"control-btn\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\ton:click={() => increaseSpan(section.id)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\tdisabled={section.gridColumn + section.gridColumnSpan > 3}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\ttitle=\\\\\"Increase width\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\taria-label=\\\\\"Increase section width\\\\\"\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svg width=\\\\\"16\\\\\" height=\\\\\"16\\\\\" viewBox=\\\\\"0 0 16 16\\\\\" fill=\\\\\"currentColor\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<path d=\\\\\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\\\\\"/>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</svg>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</button>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t<div class=\\\\\"section-content\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{#if widgetsBySection[section.id]}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{#each widgetsBySection[section.id] as widget (widget.id)}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\"widget-container\\\\\">\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<Widget {widget} on:widgetDrop={handleWidgetDrop}>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{#if widget.type === 'weather'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svelte:component this={widgetComponents.WeatherWidget} />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else if widget.type === 'traffic'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svelte:component this={widgetComponents.TrafficWidget} />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else if widget.type === 'calendar'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svelte:component this={widgetComponents.CalendarWidget} />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else if widget.type === 'github'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svelte:component this={widgetComponents.GithubWidget} projects={data.githubProjects || []} />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else if widget.type === 'organization-projects'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svelte:component this={widgetComponents.OrganizationProjectsWidget} organizationProjects={data.organizationProjects || []} />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{:else if widget.type === 'github-projects'}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<svelte:component this={widgetComponents.GithubProjectsWidget} projects={data.allGithubProjects || []} isLoggedIn={!!data.user} />\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</Widget>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t{/each}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t{/if}\\\\r\\\\n\\\\t\\\\t\\\\t</div>\\\\r\\\\n\\\\t\\\\t</div>\\\\r\\\\n\\\\t{/each}\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.dashboard-layout {\\\\r\\\\n\\\\t\\\\tdisplay: grid;\\\\r\\\\n\\\\t\\\\tgrid-template-columns: repeat(3, 1fr);\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\theight: 100%;\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\toverflow-y: auto;\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\tgrid-auto-rows: minmax(min-content, max-content);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.drop-zone {\\\\r\\\\n\\\\t\\\\tposition: absolute;\\\\r\\\\n\\\\t\\\\ttop: 0;\\\\r\\\\n\\\\t\\\\tbottom: 0;\\\\r\\\\n\\\\t\\\\tpointer-events: none;\\\\r\\\\n\\\\t\\\\topacity: 0;\\\\r\\\\n\\\\t\\\\ttransition: opacity 0.2s;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--primary-container);\\\\r\\\\n\\\\t\\\\tborder: 2px dashed var(--primary);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\tz-index: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.drop-zone.active {\\\\r\\\\n\\\\t\\\\tpointer-events: all;\\\\r\\\\n\\\\t\\\\topacity: 1;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.drop-zone-label {\\\\r\\\\n\\\\t\\\\tfont-size: 0.875rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--primary);\\\\r\\\\n\\\\t\\\\ttext-transform: uppercase;\\\\r\\\\n\\\\t\\\\tletter-spacing: 1px;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.section {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface);\\\\r\\\\n\\\\t\\\\tborder-radius: 8px;\\\\r\\\\n\\\\t\\\\tborder: 2px solid var(--border);\\\\r\\\\n\\\\t\\\\toverflow: hidden;\\\\r\\\\n\\\\t\\\\tmin-height: fit-content;\\\\r\\\\n\\\\t\\\\theight: fit-content;\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\tz-index: 2;\\\\r\\\\n\\\\t\\\\ttransition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;\\\\r\\\\n\\\\t\\\\tcursor: move;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.section:hover {\\\\r\\\\n\\\\t\\\\tborder-color: var(--primary);\\\\r\\\\n\\\\t\\\\tbox-shadow: 0 2px 8px var(--shadow);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.section.dragging {\\\\r\\\\n\\\\t\\\\topacity: 0.5;\\\\r\\\\n\\\\t\\\\ttransform: scale(0.98);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.section-controls {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: space-between;\\\\r\\\\n\\\\t\\\\tpadding: 0.5rem 0.75rem;\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-variant);\\\\r\\\\n\\\\t\\\\tborder-bottom: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tgap: 0.5rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.drag-handle {\\\\r\\\\n\\\\t\\\\tcursor: grab;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.drag-handle:active {\\\\r\\\\n\\\\t\\\\tcursor: grabbing;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.resize-controls {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tgap: 0.25rem;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.control-btn {\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\talign-items: center;\\\\r\\\\n\\\\t\\\\tjustify-content: center;\\\\r\\\\n\\\\t\\\\twidth: 28px;\\\\r\\\\n\\\\t\\\\theight: 28px;\\\\r\\\\n\\\\t\\\\tpadding: 0;\\\\r\\\\n\\\\t\\\\tbackground-color: transparent;\\\\r\\\\n\\\\t\\\\tborder: 1px solid var(--border);\\\\r\\\\n\\\\t\\\\tborder-radius: 4px;\\\\r\\\\n\\\\t\\\\tcursor: pointer;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-primary);\\\\r\\\\n\\\\t\\\\ttransition: background-color 0.2s, border-color 0.2s;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.control-btn:hover:not(:disabled) {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-hover);\\\\r\\\\n\\\\t\\\\tborder-color: var(--primary);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.control-btn:active:not(:disabled) {\\\\r\\\\n\\\\t\\\\tbackground-color: var(--surface-variant);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.control-btn:disabled {\\\\r\\\\n\\\\t\\\\topacity: 0.4;\\\\r\\\\n\\\\t\\\\tcursor: not-allowed;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.span-indicator {\\\\r\\\\n\\\\t\\\\tfont-size: 0.75rem;\\\\r\\\\n\\\\t\\\\tfont-weight: 600;\\\\r\\\\n\\\\t\\\\tcolor: var(--text-secondary);\\\\r\\\\n\\\\t\\\\tpadding: 0 0.25rem;\\\\r\\\\n\\\\t\\\\tmin-width: 35px;\\\\r\\\\n\\\\t\\\\ttext-align: center;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.section-content {\\\\r\\\\n\\\\t\\\\tpadding: 1rem;\\\\r\\\\n\\\\t\\\\tdisplay: flex;\\\\r\\\\n\\\\t\\\\tflex-direction: column;\\\\r\\\\n\\\\t\\\\tgap: 1rem;\\\\r\\\\n\\\\t\\\\tcursor: default;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t.widget-container {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t/* Tablet responsive - 2 columns */\\\\r\\\\n\\\\t@media (max-width: 1024px) {\\\\r\\\\n\\\\t\\\\t.dashboard-layout {\\\\r\\\\n\\\\t\\\\t\\\\tgrid-template-columns: repeat(2, 1fr);\\\\r\\\\n\\\\t\\\\t\\\\tgrid-auto-flow: row; /* Ensure sections flow in rows */\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t.section {\\\\r\\\\n\\\\t\\\\t\\\\tgrid-column: auto / span 1 !important;\\\\r\\\\n\\\\t\\\\t\\\\tgrid-row: auto !important; /* Let grid auto-place sections to prevent overlap */\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\t/* Mobile responsive - 1 column */\\\\r\\\\n\\\\t@media (max-width: 768px) {\\\\r\\\\n\\\\t\\\\t.dashboard-layout {\\\\r\\\\n\\\\t\\\\t\\\\tgrid-template-columns: 1fr;\\\\r\\\\n\\\\t\\\\t\\\\tpadding: 0.5rem;\\\\r\\\\n\\\\t\\\\t\\\\tgap: 0.75rem;\\\\r\\\\n\\\\t\\\\t\\\\tgrid-auto-flow: row; /* Ensure sections flow in rows */\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t.section {\\\\r\\\\n\\\\t\\\\t\\\\tgrid-column: 1 / span 1 !important;\\\\r\\\\n\\\\t\\\\t\\\\tgrid-row: auto !important; /* Let grid auto-place sections to prevent overlap */\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t.section-content {\\\\r\\\\n\\\\t\\\\t\\\\tpadding: 0.75rem;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t.drop-zone {\\\\r\\\\n\\\\t\\\\t\\\\tdisplay: none;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\"],\"names\":[],\"mappings\":\"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\"}`\n};\nconst ColumnLayout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let widgetsBySection;\n  let sortedSections;\n  let $sections, $$unsubscribe_sections;\n  let $widgets, $$unsubscribe_widgets;\n  $$unsubscribe_sections = subscribe(sections, (value) => $sections = value);\n  $$unsubscribe_widgets = subscribe(widgets, (value) => $widgets = value);\n  let { widgetComponents } = $$props;\n  let { data } = $$props;\n  let containerRef;\n  let draggedSectionId = null;\n  if ($$props.widgetComponents === void 0 && $$bindings.widgetComponents && widgetComponents !== void 0) $$bindings.widgetComponents(widgetComponents);\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  $$result.css.add(css$1);\n  widgetsBySection = $widgets.reduce(\n    (acc, widget) => {\n      if (!acc[widget.section]) {\n        acc[widget.section] = [];\n      }\n      acc[widget.section].push(widget);\n      return acc;\n    },\n    {}\n  );\n  {\n    {\n      Object.keys(widgetsBySection).forEach((sectionId) => {\n        const widgets2 = widgetsBySection[parseInt(sectionId)];\n        if (widgets2 && Array.isArray(widgets2)) {\n          widgets2.sort((a, b) => a.order - b.order);\n        }\n      });\n    }\n  }\n  sortedSections = [...$sections].map((s) => ({\n    ...s,\n    gridColumnSpan: s.gridColumnSpan ?? 1\n  })).sort((a, b) => {\n    if (a.gridRow !== b.gridRow) return a.gridRow - b.gridRow;\n    return a.gridColumn - b.gridColumn;\n  });\n  $$unsubscribe_sections();\n  $$unsubscribe_widgets();\n  return `<div class=\"dashboard-layout svelte-12g5v36\"${add_attribute(\"this\", containerRef, 0)}> ${each([1, 2, 3], (columnNum) => {\n    return `<div class=\"${[\"drop-zone svelte-12g5v36\", \"\"].join(\" \").trim()}\" style=\"${\"grid-column: \" + escape(columnNum, true) + \"; grid-row: 1 / -1;\"}\" role=\"region\" aria-label=\"${\"Drop zone for column \" + escape(columnNum, true)}\">${``} </div>`;\n  })} ${each(sortedSections, (section) => {\n    return `<div class=\"${[\"section svelte-12g5v36\", draggedSectionId === section.id ? \"dragging\" : \"\"].join(\" \").trim()}\" style=\"${\"grid-column: \" + escape(section.gridColumn, true) + \" / span \" + escape(section.gridColumnSpan, true) + \"; grid-row: \" + escape(section.gridRow, true) + \";\"}\" draggable=\"true\" role=\"region\" aria-label=\"${\"Section \" + escape(section.id, true)}\"> <div class=\"section-controls svelte-12g5v36\"><button class=\"control-btn drag-handle svelte-12g5v36\" title=\"Drag to move section\" aria-label=\"Drag to move section\" data-svelte-h=\"svelte-18ruqvt\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M10 3a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"></path></svg></button> <div class=\"resize-controls svelte-12g5v36\"><button class=\"control-btn svelte-12g5v36\" ${section.gridColumnSpan <= 1 ? \"disabled\" : \"\"} title=\"Decrease width\" aria-label=\"Decrease section width\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"></path></svg></button> <span class=\"span-indicator svelte-12g5v36\">${escape(section.gridColumnSpan)}col</span> <button class=\"control-btn svelte-12g5v36\" ${section.gridColumn + section.gridColumnSpan > 3 ? \"disabled\" : \"\"} title=\"Increase width\" aria-label=\"Increase section width\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path></svg></button> </div></div> <div class=\"section-content svelte-12g5v36\">${widgetsBySection[section.id] ? `${each(widgetsBySection[section.id], (widget) => {\n      return `<div class=\"widget-container svelte-12g5v36\">${validate_component(Widget, \"Widget\").$$render($$result, { widget }, {}, {\n        default: () => {\n          return `${widget.type === \"weather\" ? `${validate_component(widgetComponents.WeatherWidget || missing_component, \"svelte:component\").$$render($$result, {}, {}, {})}` : `${widget.type === \"traffic\" ? `${validate_component(widgetComponents.TrafficWidget || missing_component, \"svelte:component\").$$render($$result, {}, {}, {})}` : `${widget.type === \"calendar\" ? `${validate_component(widgetComponents.CalendarWidget || missing_component, \"svelte:component\").$$render($$result, {}, {}, {})}` : `${widget.type === \"github\" ? `${validate_component(widgetComponents.GithubWidget || missing_component, \"svelte:component\").$$render($$result, { projects: data.githubProjects || [] }, {}, {})}` : `${widget.type === \"organization-projects\" ? `${validate_component(widgetComponents.OrganizationProjectsWidget || missing_component, \"svelte:component\").$$render(\n            $$result,\n            {\n              organizationProjects: data.organizationProjects || []\n            },\n            {},\n            {}\n          )}` : `${widget.type === \"github-projects\" ? `${validate_component(widgetComponents.GithubProjectsWidget || missing_component, \"svelte:component\").$$render(\n            $$result,\n            {\n              projects: data.allGithubProjects || [],\n              isLoggedIn: !!data.user\n            },\n            {},\n            {}\n          )}` : ``}`}`}`}`}`} `;\n        }\n      })} </div>`;\n    })}` : ``}</div> </div>`;\n  })} </div>`;\n});\nconst css = {\n  code: \".dashboard.svelte-14zdhua{width:100%;min-height:calc(100vh - 100px);position:relative;overflow-y:auto;overflow-x:hidden}\",\n  map: '{\"version\":3,\"file\":\"+page.svelte\",\"sources\":[\"+page.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import WeatherWidget from \\\\\"$lib/components/WeatherWidget.svelte\\\\\";\\\\nimport TrafficWidget from \\\\\"$lib/components/TrafficWidget.svelte\\\\\";\\\\nimport CalendarWidget from \\\\\"$lib/components/CalendarWidget.svelte\\\\\";\\\\nimport GithubWidget from \\\\\"$lib/components/GithubWidget.svelte\\\\\";\\\\nimport OrganizationProjectsWidget from \\\\\"$lib/components/OrganizationProjectsWidget.svelte\\\\\";\\\\nimport GithubProjectsWidget from \\\\\"$lib/components/GithubProjectsWidget.svelte\\\\\";\\\\nimport ColumnLayout from \\\\\"$lib/components/ColumnLayout.svelte\\\\\";\\\\nimport { widgets, sections } from \\\\\"$lib/stores/widgets\\\\\";\\\\nimport { onMount } from \\\\\"svelte\\\\\";\\\\nexport let data;\\\\nconst widgetComponents = {\\\\n  WeatherWidget,\\\\n  TrafficWidget,\\\\n  CalendarWidget,\\\\n  GithubWidget,\\\\n  OrganizationProjectsWidget,\\\\n  GithubProjectsWidget\\\\n};\\\\nonMount(() => {\\\\n  widgets.load();\\\\n  sections.load();\\\\n  console.log(\\\\\"GitHub Projects Data:\\\\\", {\\\\n    allGithubProjects: data.allGithubProjects,\\\\n    count: data.allGithubProjects?.length\\\\n  });\\\\n});\\\\n<\\/script>\\\\r\\\\n\\\\r\\\\n<svelte:head>\\\\r\\\\n\\\\t<title>Dashboard</title>\\\\r\\\\n\\\\t<meta name=\\\\\"description\\\\\" content=\\\\\"Personal dashboard with widgets\\\\\" />\\\\r\\\\n</svelte:head>\\\\r\\\\n\\\\r\\\\n<div class=\\\\\"dashboard\\\\\">\\\\r\\\\n\\\\t<ColumnLayout {widgetComponents} {data} />\\\\r\\\\n</div>\\\\r\\\\n\\\\r\\\\n<style>\\\\r\\\\n\\\\t.dashboard {\\\\r\\\\n\\\\t\\\\twidth: 100%;\\\\r\\\\n\\\\t\\\\tmin-height: calc(100vh - 100px);\\\\r\\\\n\\\\t\\\\tposition: relative;\\\\r\\\\n\\\\t\\\\toverflow-y: auto;\\\\r\\\\n\\\\t\\\\toverflow-x: hidden;\\\\r\\\\n\\\\t}\\\\r\\\\n</style>\\\\r\\\\n\"],\"names\":[],\"mappings\":\"AAsCC,yBAAW,CACV,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,KAAK,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAC/B,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,MACb\"}'\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  const widgetComponents = {\n    WeatherWidget,\n    TrafficWidget,\n    CalendarWidget,\n    GithubWidget,\n    OrganizationProjectsWidget,\n    GithubProjectsWidget\n  };\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  $$result.css.add(css);\n  return `${$$result.head += `<!-- HEAD_svelte-5cyd0_START -->${$$result.title = `<title>Dashboard</title>`, \"\"}<meta name=\"description\" content=\"Personal dashboard with widgets\"><!-- HEAD_svelte-5cyd0_END -->`, \"\"} <div class=\"dashboard svelte-14zdhua\">${validate_component(ColumnLayout, \"ColumnLayout\").$$render($$result, { widgetComponents, data }, {}, {})} </div>`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/_page.server.ts.js';\n\nexport const index = 2;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/2.B4kgU9z-.js\",\"_app/immutable/chunks/qwSh76ll.js\",\"_app/immutable/chunks/IHki7fMi.js\",\"_app/immutable/chunks/Cy1WYuK-.js\",\"_app/immutable/chunks/DLCh3GBu.js\",\"_app/immutable/chunks/Q07G5V9A.js\"];\nexport const stylesheets = [\"_app/immutable/assets/2.BGc-Ouwx.css\"];\nexport const fonts = [];\n", "import { json } from \"@sveltejs/kit\";\nimport { b as private_env } from \"../../../../chunks/shared-server.js\";\nconst { GOOGLE_MAPS_API_KEY = \"\" } = private_env;\nconst GET = async () => {\n  if (!GOOGLE_MAPS_API_KEY.trim()) {\n    return json({ error: \"Google Maps API key not configured\" }, { status: 500 });\n  }\n  return json({ apiKey: GOOGLE_MAPS_API_KEY.trim() });\n};\nexport {\n  GET\n};\n", "import { b as private_env } from \"../../../../chunks/shared-server.js\";\nconst { CLOUDFLARE_ACCOUNT_ID = \"\", CLOUDFLARE_API_TOKEN = \"\" } = private_env;\nconst GET = async ({ request, platform }) => {\n  console.log(\"Realtime API called\");\n  const upgradeHeader = request.headers.get(\"Upgrade\");\n  if (!upgradeHeader || upgradeHeader !== \"websocket\") {\n    console.log(\"Not a WebSocket request\");\n    return new Response(\"Expected WebSocket\", { status: 426 });\n  }\n  if (!CLOUDFLARE_ACCOUNT_ID || !CLOUDFLARE_API_TOKEN) {\n    console.error(\"Cloudflare credentials not configured\");\n    console.log(\"CLOUDFLARE_ACCOUNT_ID:\", !!CLOUDFLARE_ACCOUNT_ID);\n    console.log(\"CLOUDFLARE_API_TOKEN:\", !!CLOUDFLARE_API_TOKEN);\n    return new Response(\"Cloudflare credentials not configured\", { status: 500 });\n  }\n  console.log(\"Credentials OK, checking runtime...\");\n  if (typeof WebSocketPair !== \"undefined\") {\n    console.log(\"Using Cloudflare Workers WebSocket\");\n    const pair = new WebSocketPair();\n    const [client, server] = Object.values(pair);\n    handleWebSocketSession(server);\n    return new Response(null, {\n      status: 101,\n      webSocket: client\n    });\n  } else {\n    console.error(\"WebSocket not supported in dev mode\");\n    return new Response(\n      JSON.stringify({\n        error: \"WebSocket not supported in development mode. Deploy to Cloudflare Pages to test.\"\n      }),\n      {\n        status: 501,\n        headers: { \"Content-Type\": \"application/json\" }\n      }\n    );\n  }\n};\nasync function handleWebSocketSession(webSocket, platform) {\n  webSocket.accept();\n  let sessionConfig = null;\n  let conversationHistory = [];\n  let audioBuffer = [];\n  let processingAudio = false;\n  webSocket.addEventListener(\"message\", async (event) => {\n    try {\n      const message = JSON.parse(event.data);\n      if (message.type === \"session.update\") {\n        sessionConfig = message.session;\n        conversationHistory.push({\n          role: \"system\",\n          content: message.session.instructions || \"You are a helpful AI assistant in a voice conversation. Be concise and conversational.\"\n        });\n        webSocket.send(JSON.stringify({\n          type: \"session.created\",\n          session: sessionConfig\n        }));\n      }\n      if (message.type === \"input_audio_buffer.append\") {\n        audioBuffer.push(message.audio);\n        webSocket.send(JSON.stringify({\n          type: \"input_audio_buffer.appended\"\n        }));\n      }\n      if (message.type === \"input_audio_buffer.commit\") {\n        webSocket.send(JSON.stringify({\n          type: \"input_audio_buffer.committed\"\n        }));\n        if (audioBuffer.length > 0 && !processingAudio) {\n          processingAudio = true;\n          console.log(\"Processing audio buffer with\", audioBuffer.length, \"chunks\");\n          const combinedAudio = audioBuffer.join(\"\");\n          audioBuffer = [];\n          console.log(\"Transcribing audio...\");\n          const transcription = await transcribeAudio(combinedAudio);\n          if (transcription) {\n            console.log(\"Transcription:\", transcription);\n            conversationHistory.push({\n              role: \"user\",\n              content: transcription\n            });\n            webSocket.send(JSON.stringify({\n              type: \"conversation.item.created\",\n              item: {\n                type: \"message\",\n                role: \"user\",\n                content: [{ type: \"text\", text: transcription }]\n              }\n            }));\n            console.log(\"Generating AI response...\");\n            const aiResponse = await generateAIResponse(conversationHistory);\n            if (aiResponse) {\n              console.log(\"AI Response:\", aiResponse);\n              conversationHistory.push({\n                role: \"assistant\",\n                content: aiResponse\n              });\n              webSocket.send(JSON.stringify({\n                type: \"response.text.delta\",\n                delta: aiResponse\n              }));\n              const audioResponse = await textToSpeech(aiResponse);\n              if (audioResponse) {\n                webSocket.send(JSON.stringify({\n                  type: \"response.audio.delta\",\n                  delta: audioResponse\n                }));\n              }\n              webSocket.send(JSON.stringify({\n                type: \"response.audio.done\"\n              }));\n            }\n          } else {\n            console.log(\"No transcription received\");\n            webSocket.send(JSON.stringify({\n              type: \"response.audio.done\"\n            }));\n          }\n          processingAudio = false;\n        }\n      }\n      if (message.type === \"conversation.item.create\") {\n        webSocket.send(JSON.stringify({\n          type: \"conversation.item.created\",\n          item: message.item\n        }));\n      }\n      if (message.type === \"response.create\") {\n        webSocket.send(JSON.stringify({\n          type: \"response.created\"\n        }));\n      }\n    } catch (error) {\n      console.error(\"WebSocket message error:\", error);\n      webSocket.send(JSON.stringify({\n        type: \"error\",\n        error: {\n          message: error instanceof Error ? error.message : \"Unknown error\",\n          code: \"internal_error\"\n        }\n      }));\n    }\n  });\n  webSocket.addEventListener(\"close\", () => {\n    conversationHistory = [];\n    audioBuffer = [];\n  });\n  webSocket.addEventListener(\"error\", (event) => {\n    console.error(\"WebSocket error:\", event);\n  });\n}\nasync function transcribeAudio(base64Audio) {\n  try {\n    const binaryString = atob(base64Audio);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    const response = await fetch(\n      `https://api.cloudflare.com/client/v4/accounts/${CLOUDFLARE_ACCOUNT_ID}/ai/run/@cf/openai/whisper`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${CLOUDFLARE_API_TOKEN}`\n        },\n        body: bytes.buffer\n      }\n    );\n    const result = await response.json();\n    return result.result?.text || null;\n  } catch (error) {\n    console.error(\"Error transcribing audio:\", error);\n    return null;\n  }\n}\nasync function generateAIResponse(messages) {\n  try {\n    const response = await fetch(\n      `https://api.cloudflare.com/client/v4/accounts/${CLOUDFLARE_ACCOUNT_ID}/ai/run/@cf/meta/llama-3.1-8b-instruct`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${CLOUDFLARE_API_TOKEN}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          messages,\n          max_tokens: 150\n        })\n      }\n    );\n    const result = await response.json();\n    return result.result?.response || null;\n  } catch (error) {\n    console.error(\"Error generating AI response:\", error);\n    return null;\n  }\n}\nasync function textToSpeech(text) {\n  try {\n    console.log(\"AI Response (text):\", text);\n    return null;\n  } catch (error) {\n    console.error(\"Error converting text to speech:\", error);\n    return null;\n  }\n}\nexport {\n  GET\n};\n", "import { json } from \"@sveltejs/kit\";\nimport { b as private_env } from \"../../../../chunks/shared-server.js\";\nconst { OPENWEATHER_API_KEY = \"\" } = private_env;\nconst GET = async ({ url }) => {\n  const lat = url.searchParams.get(\"lat\");\n  const lon = url.searchParams.get(\"lon\");\n  const zip = url.searchParams.get(\"zip\");\n  console.log(\"Weather API called with:\", { lat, lon, zip });\n  console.log(\"API Key configured:\", !!OPENWEATHER_API_KEY.trim());\n  if (!OPENWEATHER_API_KEY.trim()) {\n    console.error(\"OPENWEATHER_API_KEY is not set!\");\n    return json(\n      { error: \"OpenWeather API key not configured\" },\n      { status: 500 }\n    );\n  }\n  try {\n    let latitude;\n    let longitude;\n    if (zip) {\n      console.log(\"Converting zip code to coordinates:\", zip);\n      const coords = await getCoordinatesFromZip(zip);\n      if (!coords) {\n        return json(\n          { error: \"Invalid zip code or unable to geocode\" },\n          { status: 400 }\n        );\n      }\n      latitude = coords.lat;\n      longitude = coords.lon;\n    } else if (lat && lon) {\n      latitude = lat;\n      longitude = lon;\n    } else {\n      latitude = \"44.1004\";\n      longitude = \"-70.2148\";\n    }\n    console.log(\"Using coordinates:\", { latitude, longitude });\n    const weatherUrl = `https://api.openweathermap.org/data/3.0/onecall?lat=${latitude}&lon=${longitude}&units=imperial&exclude=minutely,alerts&appid=${OPENWEATHER_API_KEY.trim()}`;\n    console.log(\"Fetching from One Call API 3.0...\");\n    const response = await fetch(weatherUrl);\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error(\"OpenWeather API error:\", errorData);\n      console.log(\"Falling back to Current Weather API...\");\n      return await fallbackToCurrentWeather(latitude, longitude);\n    }\n    const data = await response.json();\n    console.log(\"One Call API 3.0 response received successfully\");\n    const hourlyForecast = data.hourly.slice(0, 24).map((hour) => ({\n      time: hour.dt,\n      temperature: Math.round(hour.temp),\n      feelsLike: Math.round(hour.feels_like),\n      humidity: hour.humidity,\n      condition: hour.weather[0].main.toLowerCase(),\n      icon: hour.weather[0].icon\n    }));\n    const weatherData = {\n      temperature: Math.round(data.current.temp),\n      humidity: data.current.humidity,\n      condition: data.current.weather[0].main.toLowerCase(),\n      description: data.current.weather[0].description,\n      location: await getLocationName(latitude, longitude),\n      icon: data.current.weather[0].icon,\n      hourly: hourlyForecast,\n      sunrise: data.current.sunrise,\n      sunset: data.current.sunset,\n      moonrise: data.daily?.[0]?.moonrise || 0,\n      moonset: data.daily?.[0]?.moonset || 0,\n      timezone: data.timezone,\n      timezoneOffset: data.timezone_offset,\n      timestamp: Date.now()\n    };\n    console.log(\"Returning weather data:\", weatherData);\n    return json(weatherData);\n  } catch (error) {\n    console.error(\"Error fetching weather:\", error);\n    return json(\n      { error: \"Failed to fetch weather data\" },\n      { status: 500 }\n    );\n  }\n};\nasync function fallbackToCurrentWeather(lat, lon) {\n  try {\n    console.log(\"Using Current Weather API 2.5 fallback...\");\n    const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=imperial&appid=${OPENWEATHER_API_KEY.trim()}`;\n    const response = await fetch(weatherUrl);\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error(\"Current Weather API error:\", errorData);\n      throw new Error(\"Current Weather API also failed\");\n    }\n    const data = await response.json();\n    console.log(\"Current Weather API 2.5 response received successfully\");\n    const weatherData = {\n      temperature: Math.round(data.main.temp),\n      humidity: data.main.humidity,\n      condition: data.weather[0].main.toLowerCase(),\n      description: data.weather[0].description,\n      location: `${data.name}, ${data.sys.country}`,\n      icon: data.weather[0].icon,\n      hourly: [],\n      // Fallback API doesn't have hourly data\n      timestamp: Date.now()\n    };\n    console.log(\"Returning fallback weather data:\", weatherData);\n    return json(weatherData);\n  } catch (error) {\n    console.error(\"Fallback API error:\", error);\n    return json(\n      { error: \"All weather APIs failed\" },\n      { status: 500 }\n    );\n  }\n}\nasync function getCoordinatesFromZip(zip) {\n  try {\n    const geoUrl = `https://api.openweathermap.org/geo/1.0/zip?zip=${zip},US&appid=${OPENWEATHER_API_KEY.trim()}`;\n    console.log(\"Geocoding zip code...\");\n    const response = await fetch(geoUrl);\n    if (response.ok) {\n      const data = await response.json();\n      console.log(\"Geocoding successful:\", data);\n      return {\n        lat: data.lat.toString(),\n        lon: data.lon.toString()\n      };\n    } else {\n      console.error(\"Geocoding failed:\", await response.text());\n    }\n  } catch (error) {\n    console.error(\"Error geocoding zip code:\", error);\n  }\n  return null;\n}\nasync function getLocationName(lat, lon) {\n  try {\n    const geoUrl = `https://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lon}&limit=1&appid=${OPENWEATHER_API_KEY.trim()}`;\n    const response = await fetch(geoUrl);\n    if (response.ok) {\n      const data = await response.json();\n      if (data.length > 0) {\n        const place = data[0];\n        return `${place.name}, ${place.state || place.country}`;\n      }\n    }\n  } catch (error) {\n    console.error(\"Error getting location name:\", error);\n  }\n  return \"Unknown Location\";\n}\nexport {\n  GET\n};\n", "import { B as BROWSER } from \"./chunks/false.js\";\nimport { json, text, error } from \"@sveltejs/kit\";\nimport { HttpError, SvelteKitError, Redirect, ActionFailure } from \"@sveltejs/kit/internal\";\nimport { with_request_store, merge_tracing, try_get_request_store } from \"@sveltejs/kit/internal/server\";\nimport { a as assets, b as base, c as app_dir, r as relative, o as override, d as reset } from \"./chunks/environment.js\";\nimport * as devalue from \"devalue\";\nimport { m as make_trackable, d as disable_search, a as decode_params, S as SCHEME, v as validate_layout_server_exports, b as validate_layout_exports, c as validate_page_server_exports, e as validate_page_exports, n as normalize_path, r as resolve, f as decode_pathname, g as validate_server_exports } from \"./chunks/exports.js\";\nimport { b as base64_encode, t as text_decoder, a as text_encoder, g as get_relative_path } from \"./chunks/utils.js\";\nimport { r as readable, w as writable } from \"./chunks/index.js\";\nimport { p as public_env, s as set_private_env, a as set_public_env } from \"./chunks/shared-server.js\";\nimport { c as create_remote_cache_key, p as parse_remote_arg, s as stringify, T as TRAILING_SLASH_PARAM, I as INVALIDATED_PARAM } from \"./chunks/shared.js\";\nimport { parse, serialize } from \"cookie\";\nimport * as set_cookie_parser from \"set-cookie-parser\";\nimport { r as read_implementation, o as options, g as get_hooks, s as set_read_implementation } from \"./chunks/internal.js\";\nfunction with_resolvers() {\n  let resolve2;\n  let reject;\n  const promise = new Promise((res, rej) => {\n    resolve2 = res;\n    reject = rej;\n  });\n  return { promise, resolve: resolve2, reject };\n}\nconst NULL_BODY_STATUS = [101, 103, 204, 205, 304];\nconst IN_WEBCONTAINER = !!globalThis.process?.versions?.webcontainer;\nconst SVELTE_KIT_ASSETS = \"/_svelte_kit_assets\";\nconst ENDPOINT_METHODS = [\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\", \"OPTIONS\", \"HEAD\"];\nconst PAGE_METHODS = [\"GET\", \"POST\", \"HEAD\"];\nfunction negotiate(accept, types) {\n  const parts = [];\n  accept.split(\",\").forEach((str, i) => {\n    const match = /([^/ \\t]+)\\/([^; \\t]+)[ \\t]*(?:;[ \\t]*q=([0-9.]+))?/.exec(str);\n    if (match) {\n      const [, type, subtype, q = \"1\"] = match;\n      parts.push({ type, subtype, q: +q, i });\n    }\n  });\n  parts.sort((a, b) => {\n    if (a.q !== b.q) {\n      return b.q - a.q;\n    }\n    if (a.subtype === \"*\" !== (b.subtype === \"*\")) {\n      return a.subtype === \"*\" ? 1 : -1;\n    }\n    if (a.type === \"*\" !== (b.type === \"*\")) {\n      return a.type === \"*\" ? 1 : -1;\n    }\n    return a.i - b.i;\n  });\n  let accepted;\n  let min_priority = Infinity;\n  for (const mimetype of types) {\n    const [type, subtype] = mimetype.split(\"/\");\n    const priority = parts.findIndex(\n      (part) => (part.type === type || part.type === \"*\") && (part.subtype === subtype || part.subtype === \"*\")\n    );\n    if (priority !== -1 && priority < min_priority) {\n      accepted = mimetype;\n      min_priority = priority;\n    }\n  }\n  return accepted;\n}\nfunction is_content_type(request, ...types) {\n  const type = request.headers.get(\"content-type\")?.split(\";\", 1)[0].trim() ?? \"\";\n  return types.includes(type.toLowerCase());\n}\nfunction is_form_content_type(request) {\n  return is_content_type(\n    request,\n    \"application/x-www-form-urlencoded\",\n    \"multipart/form-data\",\n    \"text/plain\"\n  );\n}\nfunction coalesce_to_error(err) {\n  return err instanceof Error || err && /** @type {any} */\n  err.name && /** @type {any} */\n  err.message ? (\n    /** @type {Error} */\n    err\n  ) : new Error(JSON.stringify(err));\n}\nfunction normalize_error(error2) {\n  return (\n    /** @type {import('../exports/internal/index.js').Redirect | HttpError | SvelteKitError | Error} */\n    error2\n  );\n}\nfunction get_status(error2) {\n  return error2 instanceof HttpError || error2 instanceof SvelteKitError ? error2.status : 500;\n}\nfunction get_message(error2) {\n  return error2 instanceof SvelteKitError ? error2.text : \"Internal Error\";\n}\nconst escape_html_attr_dict = {\n  \"&\": \"&amp;\",\n  '\"': \"&quot;\"\n  // Svelte also escapes < because the escape function could be called inside a `noscript` there\n  // https://github.com/sveltejs/svelte/security/advisories/GHSA-8266-84wp-wv5c\n  // However, that doesn't apply in SvelteKit\n};\nconst escape_html_dict = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\"\n};\nconst surrogates = (\n  // high surrogate without paired low surrogate\n  \"[\\\\ud800-\\\\udbff](?![\\\\udc00-\\\\udfff])|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]|[\\\\udc00-\\\\udfff]\"\n);\nconst escape_html_attr_regex = new RegExp(\n  `[${Object.keys(escape_html_attr_dict).join(\"\")}]|` + surrogates,\n  \"g\"\n);\nconst escape_html_regex = new RegExp(\n  `[${Object.keys(escape_html_dict).join(\"\")}]|` + surrogates,\n  \"g\"\n);\nfunction escape_html(str, is_attr) {\n  const dict = is_attr ? escape_html_attr_dict : escape_html_dict;\n  const escaped_str = str.replace(is_attr ? escape_html_attr_regex : escape_html_regex, (match) => {\n    if (match.length === 2) {\n      return match;\n    }\n    return dict[match] ?? `&#${match.charCodeAt(0)};`;\n  });\n  return escaped_str;\n}\nfunction method_not_allowed(mod, method) {\n  return text(`${method} method not allowed`, {\n    status: 405,\n    headers: {\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: allowed_methods(mod).join(\", \")\n    }\n  });\n}\nfunction allowed_methods(mod) {\n  const allowed = ENDPOINT_METHODS.filter((method) => method in mod);\n  if (\"GET\" in mod && !(\"HEAD\" in mod)) {\n    allowed.push(\"HEAD\");\n  }\n  return allowed;\n}\nfunction get_global_name(options2) {\n  return `__sveltekit_${options2.version_hash}`;\n}\nfunction static_error_page(options2, status, message) {\n  let page = options2.templates.error({ status, message: escape_html(message) });\n  return text(page, {\n    headers: { \"content-type\": \"text/html; charset=utf-8\" },\n    status\n  });\n}\nasync function handle_fatal_error(event, state, options2, error2) {\n  error2 = error2 instanceof HttpError ? error2 : coalesce_to_error(error2);\n  const status = get_status(error2);\n  const body2 = await handle_error_and_jsonify(event, state, options2, error2);\n  const type = negotiate(event.request.headers.get(\"accept\") || \"text/html\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  if (event.isDataRequest || type === \"application/json\") {\n    return json(body2, {\n      status\n    });\n  }\n  return static_error_page(options2, status, body2.message);\n}\nasync function handle_error_and_jsonify(event, state, options2, error2) {\n  if (error2 instanceof HttpError) {\n    return { message: \"Unknown Error\", ...error2.body };\n  }\n  const status = get_status(error2);\n  const message = get_message(error2);\n  return await with_request_store(\n    { event, state },\n    () => options2.hooks.handleError({ error: error2, event, status, message })\n  ) ?? { message };\n}\nfunction redirect_response(status, location) {\n  const response = new Response(void 0, {\n    status,\n    headers: { location }\n  });\n  return response;\n}\nfunction clarify_devalue_error(event, error2) {\n  if (error2.path) {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not serializable: ${error2.message} (${error2.path}). If you need to serialize/deserialize custom types, use transport hooks: https://svelte.dev/docs/kit/hooks#Universal-hooks-transport.`;\n  }\n  if (error2.path === \"\") {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not a plain object`;\n  }\n  return error2.message;\n}\nfunction serialize_uses(node) {\n  const uses = {};\n  if (node.uses && node.uses.dependencies.size > 0) {\n    uses.dependencies = Array.from(node.uses.dependencies);\n  }\n  if (node.uses && node.uses.search_params.size > 0) {\n    uses.search_params = Array.from(node.uses.search_params);\n  }\n  if (node.uses && node.uses.params.size > 0) {\n    uses.params = Array.from(node.uses.params);\n  }\n  if (node.uses?.parent) uses.parent = 1;\n  if (node.uses?.route) uses.route = 1;\n  if (node.uses?.url) uses.url = 1;\n  return uses;\n}\nfunction has_prerendered_path(manifest, pathname) {\n  return manifest._.prerendered_routes.has(pathname) || pathname.at(-1) === \"/\" && manifest._.prerendered_routes.has(pathname.slice(0, -1));\n}\nfunction format_server_error(status, error2, event) {\n  const formatted_text = `\n\\x1B[1;31m[${status}] ${event.request.method} ${event.url.pathname}\\x1B[0m`;\n  if (status === 404) {\n    return formatted_text;\n  }\n  return `${formatted_text}\n${error2.stack}`;\n}\nfunction get_node_type(node_id) {\n  const parts = node_id?.split(\"/\");\n  const filename = parts?.at(-1);\n  if (!filename) return \"unknown\";\n  const dot_parts = filename.split(\".\");\n  return dot_parts.slice(0, -1).join(\".\");\n}\nasync function render_endpoint(event, event_state, mod, state) {\n  const method = (\n    /** @type {import('types').HttpMethod} */\n    event.request.method\n  );\n  let handler = mod[method] || mod.fallback;\n  if (method === \"HEAD\" && !mod.HEAD && mod.GET) {\n    handler = mod.GET;\n  }\n  if (!handler) {\n    return method_not_allowed(mod, method);\n  }\n  const prerender = mod.prerender ?? state.prerender_default;\n  if (prerender && (mod.POST || mod.PATCH || mod.PUT || mod.DELETE)) {\n    throw new Error(\"Cannot prerender endpoints that have mutative methods\");\n  }\n  if (state.prerendering && !state.prerendering.inside_reroute && !prerender) {\n    if (state.depth > 0) {\n      throw new Error(`${event.route.id} is not prerenderable`);\n    } else {\n      return new Response(void 0, { status: 204 });\n    }\n  }\n  event_state.is_endpoint_request = true;\n  try {\n    const response = await with_request_store(\n      { event, state: event_state },\n      () => handler(\n        /** @type {import('@sveltejs/kit').RequestEvent<Record<string, any>>} */\n        event\n      )\n    );\n    if (!(response instanceof Response)) {\n      throw new Error(\n        `Invalid response from route ${event.url.pathname}: handler should return a Response object`\n      );\n    }\n    if (state.prerendering && (!state.prerendering.inside_reroute || prerender)) {\n      const cloned = new Response(response.clone().body, {\n        status: response.status,\n        statusText: response.statusText,\n        headers: new Headers(response.headers)\n      });\n      cloned.headers.set(\"x-sveltekit-prerender\", String(prerender));\n      if (state.prerendering.inside_reroute && prerender) {\n        cloned.headers.set(\n          \"x-sveltekit-routeid\",\n          encodeURI(\n            /** @type {string} */\n            event.route.id\n          )\n        );\n        state.prerendering.dependencies.set(event.url.pathname, { response: cloned, body: null });\n      } else {\n        return cloned;\n      }\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return new Response(void 0, {\n        status: e.status,\n        headers: { location: e.location }\n      });\n    }\n    throw e;\n  }\n}\nfunction is_endpoint_request(event) {\n  const { method, headers: headers2 } = event.request;\n  if (ENDPOINT_METHODS.includes(method) && !PAGE_METHODS.includes(method)) {\n    return true;\n  }\n  if (method === \"POST\" && headers2.get(\"x-sveltekit-action\") === \"true\") return false;\n  const accept = event.request.headers.get(\"accept\") ?? \"*/*\";\n  return negotiate(accept, [\"*\", \"text/html\"]) !== \"text/html\";\n}\nfunction compact(arr) {\n  return arr.filter(\n    /** @returns {val is NonNullable<T>} */\n    (val) => val != null\n  );\n}\nconst DATA_SUFFIX = \"/__data.json\";\nconst HTML_DATA_SUFFIX = \".html__data.json\";\nfunction has_data_suffix(pathname) {\n  return pathname.endsWith(DATA_SUFFIX) || pathname.endsWith(HTML_DATA_SUFFIX);\n}\nfunction add_data_suffix(pathname) {\n  if (pathname.endsWith(\".html\")) return pathname.replace(/\\.html$/, HTML_DATA_SUFFIX);\n  return pathname.replace(/\\/$/, \"\") + DATA_SUFFIX;\n}\nfunction strip_data_suffix(pathname) {\n  if (pathname.endsWith(HTML_DATA_SUFFIX)) {\n    return pathname.slice(0, -HTML_DATA_SUFFIX.length) + \".html\";\n  }\n  return pathname.slice(0, -DATA_SUFFIX.length);\n}\nconst ROUTE_SUFFIX = \"/__route.js\";\nfunction has_resolution_suffix(pathname) {\n  return pathname.endsWith(ROUTE_SUFFIX);\n}\nfunction add_resolution_suffix(pathname) {\n  return pathname.replace(/\\/$/, \"\") + ROUTE_SUFFIX;\n}\nfunction strip_resolution_suffix(pathname) {\n  return pathname.slice(0, -ROUTE_SUFFIX.length);\n}\nconst noop_span = {\n  spanContext() {\n    return noop_span_context;\n  },\n  setAttribute() {\n    return this;\n  },\n  setAttributes() {\n    return this;\n  },\n  addEvent() {\n    return this;\n  },\n  setStatus() {\n    return this;\n  },\n  updateName() {\n    return this;\n  },\n  end() {\n    return this;\n  },\n  isRecording() {\n    return false;\n  },\n  recordException() {\n    return this;\n  },\n  addLink() {\n    return this;\n  },\n  addLinks() {\n    return this;\n  }\n};\nconst noop_span_context = {\n  traceId: \"\",\n  spanId: \"\",\n  traceFlags: 0\n};\nasync function record_span({ name, attributes, fn }) {\n  {\n    return fn(noop_span);\n  }\n}\nfunction is_action_json_request(event) {\n  const accept = negotiate(event.request.headers.get(\"accept\") ?? \"*/*\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  return accept === \"application/json\" && event.request.method === \"POST\";\n}\nasync function handle_action_json_request(event, event_state, options2, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    const no_actions_error = new SvelteKitError(\n      405,\n      \"Method Not Allowed\",\n      `POST method not allowed. No form actions exist for ${\"this page\"}`\n    );\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, event_state, options2, no_actions_error)\n      },\n      {\n        status: no_actions_error.status,\n        headers: {\n          // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n          // \"The server must generate an Allow header field in a 405 status code response\"\n          allow: \"GET\"\n        }\n      }\n    );\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, event_state, actions);\n    if (BROWSER) ;\n    if (data instanceof ActionFailure) {\n      return action_json({\n        type: \"failure\",\n        status: data.status,\n        // @ts-expect-error we assign a string to what is supposed to be an object. That's ok\n        // because we don't use the object outside, and this way we have better code navigation\n        // through knowing where the related interface is used.\n        data: stringify_action_response(\n          data.data,\n          /** @type {string} */\n          event.route.id,\n          options2.hooks.transport\n        )\n      });\n    } else {\n      return action_json({\n        type: \"success\",\n        status: data ? 200 : 204,\n        // @ts-expect-error see comment above\n        data: stringify_action_response(\n          data,\n          /** @type {string} */\n          event.route.id,\n          options2.hooks.transport\n        )\n      });\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return action_json_redirect(err);\n    }\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(\n          event,\n          event_state,\n          options2,\n          check_incorrect_fail_use(err)\n        )\n      },\n      {\n        status: get_status(err)\n      }\n    );\n  }\n}\nfunction check_incorrect_fail_use(error2) {\n  return error2 instanceof ActionFailure ? new Error('Cannot \"throw fail()\". Use \"return fail()\"') : error2;\n}\nfunction action_json_redirect(redirect) {\n  return action_json({\n    type: \"redirect\",\n    status: redirect.status,\n    location: redirect.location\n  });\n}\nfunction action_json(data, init2) {\n  return json(data, init2);\n}\nfunction is_action_request(event) {\n  return event.request.method === \"POST\";\n}\nasync function handle_action_request(event, event_state, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    event.setHeaders({\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: \"GET\"\n    });\n    return {\n      type: \"error\",\n      error: new SvelteKitError(\n        405,\n        \"Method Not Allowed\",\n        `POST method not allowed. No form actions exist for ${\"this page\"}`\n      )\n    };\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, event_state, actions);\n    if (BROWSER) ;\n    if (data instanceof ActionFailure) {\n      return {\n        type: \"failure\",\n        status: data.status,\n        data: data.data\n      };\n    } else {\n      return {\n        type: \"success\",\n        status: 200,\n        // @ts-expect-error this will be removed upon serialization, so `undefined` is the same as omission\n        data\n      };\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return {\n        type: \"redirect\",\n        status: err.status,\n        location: err.location\n      };\n    }\n    return {\n      type: \"error\",\n      error: check_incorrect_fail_use(err)\n    };\n  }\n}\nfunction check_named_default_separate(actions) {\n  if (actions.default && Object.keys(actions).length > 1) {\n    throw new Error(\n      \"When using named actions, the default action cannot be used. See the docs for more info: https://svelte.dev/docs/kit/form-actions#named-actions\"\n    );\n  }\n}\nasync function call_action(event, event_state, actions) {\n  const url = new URL(event.request.url);\n  let name = \"default\";\n  for (const param of url.searchParams) {\n    if (param[0].startsWith(\"/\")) {\n      name = param[0].slice(1);\n      if (name === \"default\") {\n        throw new Error('Cannot use reserved action name \"default\"');\n      }\n      break;\n    }\n  }\n  const action = actions[name];\n  if (!action) {\n    throw new SvelteKitError(404, \"Not Found\", `No action with name '${name}' found`);\n  }\n  if (!is_form_content_type(event.request)) {\n    throw new SvelteKitError(\n      415,\n      \"Unsupported Media Type\",\n      `Form actions expect form-encoded data \u2014 received ${event.request.headers.get(\n        \"content-type\"\n      )}`\n    );\n  }\n  return record_span({\n    name: \"sveltekit.form_action\",\n    attributes: {\n      \"http.route\": event.route.id || \"unknown\"\n    },\n    fn: async (current2) => {\n      const traced_event = merge_tracing(event, current2);\n      const result = await with_request_store(\n        { event: traced_event, state: event_state },\n        () => action(traced_event)\n      );\n      if (result instanceof ActionFailure) {\n        current2.setAttributes({\n          \"sveltekit.form_action.result.type\": \"failure\",\n          \"sveltekit.form_action.result.status\": result.status\n        });\n      }\n      return result;\n    }\n  });\n}\nfunction validate_action_return(data) {\n  if (data instanceof Redirect) {\n    throw new Error(\"Cannot `return redirect(...)` \u2014 use `redirect(...)` instead\");\n  }\n  if (data instanceof HttpError) {\n    throw new Error(\"Cannot `return error(...)` \u2014 use `error(...)` or `return fail(...)` instead\");\n  }\n}\nfunction uneval_action_response(data, route_id, transport) {\n  const replacer = (thing) => {\n    for (const key2 in transport) {\n      const encoded = transport[key2].encode(thing);\n      if (encoded) {\n        return `app.decode('${key2}', ${devalue.uneval(encoded, replacer)})`;\n      }\n    }\n  };\n  return try_serialize(data, (value) => devalue.uneval(value, replacer), route_id);\n}\nfunction stringify_action_response(data, route_id, transport) {\n  const encoders = Object.fromEntries(\n    Object.entries(transport).map(([key2, value]) => [key2, value.encode])\n  );\n  return try_serialize(data, (value) => devalue.stringify(value, encoders), route_id);\n}\nfunction try_serialize(data, fn, route_id) {\n  try {\n    return fn(data);\n  } catch (e) {\n    const error2 = (\n      /** @type {any} */\n      e\n    );\n    if (data instanceof Response) {\n      throw new Error(\n        `Data returned from action inside ${route_id} is not serializable. Form actions need to return plain objects or fail(). E.g. return { success: true } or return fail(400, { message: \"invalid\" });`\n      );\n    }\n    if (\"path\" in error2) {\n      let message = `Data returned from action inside ${route_id} is not serializable: ${error2.message}`;\n      if (error2.path !== \"\") message += ` (data.${error2.path})`;\n      throw new Error(message);\n    }\n    throw error2;\n  }\n}\nfunction create_async_iterator() {\n  let resolved = -1;\n  let returned = -1;\n  const deferred = [];\n  return {\n    iterate: (transform = (x) => x) => {\n      return {\n        [Symbol.asyncIterator]() {\n          return {\n            next: async () => {\n              const next = deferred[++returned];\n              if (!next) return { value: null, done: true };\n              const value = await next.promise;\n              return { value: transform(value), done: false };\n            }\n          };\n        }\n      };\n    },\n    add: (promise) => {\n      deferred.push(with_resolvers());\n      void promise.then((value) => {\n        deferred[++resolved].resolve(value);\n      });\n    }\n  };\n}\nfunction server_data_serializer(event, event_state, options2) {\n  let promise_id = 1;\n  let max_nodes = -1;\n  const iterator = create_async_iterator();\n  const global = get_global_name(options2);\n  function get_replacer(index) {\n    return function replacer(thing) {\n      if (typeof thing?.then === \"function\") {\n        const id = promise_id++;\n        const promise = thing.then(\n          /** @param {any} data */\n          (data) => ({ data })\n        ).catch(\n          /** @param {any} error */\n          async (error2) => ({\n            error: await handle_error_and_jsonify(event, event_state, options2, error2)\n          })\n        ).then(\n          /**\n           * @param {{data: any; error: any}} result\n           */\n          async ({ data, error: error2 }) => {\n            let str;\n            try {\n              str = devalue.uneval(error2 ? [, error2] : [data], replacer);\n            } catch {\n              error2 = await handle_error_and_jsonify(\n                event,\n                event_state,\n                options2,\n                new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n              );\n              data = void 0;\n              str = devalue.uneval([, error2], replacer);\n            }\n            return {\n              index,\n              str: `${global}.resolve(${id}, ${str.includes(\"app.decode\") ? `(app) => ${str}` : `() => ${str}`})`\n            };\n          }\n        );\n        iterator.add(promise);\n        return `${global}.defer(${id})`;\n      } else {\n        for (const key2 in options2.hooks.transport) {\n          const encoded = options2.hooks.transport[key2].encode(thing);\n          if (encoded) {\n            return `app.decode('${key2}', ${devalue.uneval(encoded, replacer)})`;\n          }\n        }\n      }\n    };\n  }\n  const strings = (\n    /** @type {string[]} */\n    []\n  );\n  return {\n    set_max_nodes(i) {\n      max_nodes = i;\n    },\n    add_node(i, node) {\n      try {\n        if (!node) {\n          strings[i] = \"null\";\n          return;\n        }\n        const payload = { type: \"data\", data: node.data, uses: serialize_uses(node) };\n        if (node.slash) payload.slash = node.slash;\n        strings[i] = devalue.uneval(payload, get_replacer(i));\n      } catch (e) {\n        e.path = e.path.slice(1);\n        throw new Error(clarify_devalue_error(\n          event,\n          /** @type {any} */\n          e\n        ));\n      }\n    },\n    get_data(csp) {\n      const open = `<script${csp.script_needs_nonce ? ` nonce=\"${csp.nonce}\"` : \"\"}>`;\n      const close = `<\\/script>\n`;\n      return {\n        data: `[${compact(max_nodes > -1 ? strings.slice(0, max_nodes) : strings).join(\",\")}]`,\n        chunks: promise_id > 1 ? iterator.iterate(({ index, str }) => {\n          if (max_nodes > -1 && index >= max_nodes) {\n            return \"\";\n          }\n          return open + str + close;\n        }) : null\n      };\n    }\n  };\n}\nfunction server_data_serializer_json(event, event_state, options2) {\n  let promise_id = 1;\n  const iterator = create_async_iterator();\n  const reducers = {\n    ...Object.fromEntries(\n      Object.entries(options2.hooks.transport).map(([key2, value]) => [key2, value.encode])\n    ),\n    /** @param {any} thing */\n    Promise: (thing) => {\n      if (typeof thing?.then !== \"function\") {\n        return;\n      }\n      const id = promise_id++;\n      let key2 = \"data\";\n      const promise = thing.catch(\n        /** @param {any} e */\n        async (e) => {\n          key2 = \"error\";\n          return handle_error_and_jsonify(\n            event,\n            event_state,\n            options2,\n            /** @type {any} */\n            e\n          );\n        }\n      ).then(\n        /** @param {any} value */\n        async (value) => {\n          let str;\n          try {\n            str = devalue.stringify(value, reducers);\n          } catch {\n            const error2 = await handle_error_and_jsonify(\n              event,\n              event_state,\n              options2,\n              new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n            );\n            key2 = \"error\";\n            str = devalue.stringify(error2, reducers);\n          }\n          return `{\"type\":\"chunk\",\"id\":${id},\"${key2}\":${str}}\n`;\n        }\n      );\n      iterator.add(promise);\n      return id;\n    }\n  };\n  const strings = (\n    /** @type {string[]} */\n    []\n  );\n  return {\n    add_node(i, node) {\n      try {\n        if (!node) {\n          strings[i] = \"null\";\n          return;\n        }\n        if (node.type === \"error\" || node.type === \"skip\") {\n          strings[i] = JSON.stringify(node);\n          return;\n        }\n        strings[i] = `{\"type\":\"data\",\"data\":${devalue.stringify(node.data, reducers)},\"uses\":${JSON.stringify(\n          serialize_uses(node)\n        )}${node.slash ? `,\"slash\":${JSON.stringify(node.slash)}` : \"\"}}`;\n      } catch (e) {\n        e.path = \"data\" + e.path;\n        throw new Error(clarify_devalue_error(\n          event,\n          /** @type {any} */\n          e\n        ));\n      }\n    },\n    get_data() {\n      return {\n        data: `{\"type\":\"data\",\"nodes\":[${strings.join(\",\")}]}\n`,\n        chunks: promise_id > 1 ? iterator.iterate() : null\n      };\n    }\n  };\n}\nasync function load_server_data({ event, event_state, state, node, parent }) {\n  if (!node?.server) return null;\n  let is_tracking = true;\n  const uses = {\n    dependencies: /* @__PURE__ */ new Set(),\n    params: /* @__PURE__ */ new Set(),\n    parent: false,\n    route: false,\n    url: false,\n    search_params: /* @__PURE__ */ new Set()\n  };\n  const load = node.server.load;\n  const slash = node.server.trailingSlash;\n  if (!load) {\n    return { type: \"data\", data: null, uses, slash };\n  }\n  const url = make_trackable(\n    event.url,\n    () => {\n      if (is_tracking) {\n        uses.url = true;\n      }\n    },\n    (param) => {\n      if (is_tracking) {\n        uses.search_params.add(param);\n      }\n    }\n  );\n  if (state.prerendering) {\n    disable_search(url);\n  }\n  const result = await record_span({\n    name: \"sveltekit.load\",\n    attributes: {\n      \"sveltekit.load.node_id\": node.server_id || \"unknown\",\n      \"sveltekit.load.node_type\": get_node_type(node.server_id),\n      \"http.route\": event.route.id || \"unknown\"\n    },\n    fn: async (current2) => {\n      const traced_event = merge_tracing(event, current2);\n      const result2 = await with_request_store(\n        { event: traced_event, state: event_state },\n        () => load.call(null, {\n          ...traced_event,\n          fetch: (info, init2) => {\n            new URL(info instanceof Request ? info.url : info, event.url);\n            return event.fetch(info, init2);\n          },\n          /** @param {string[]} deps */\n          depends: (...deps) => {\n            for (const dep of deps) {\n              const { href } = new URL(dep, event.url);\n              uses.dependencies.add(href);\n            }\n          },\n          params: new Proxy(event.params, {\n            get: (target, key2) => {\n              if (is_tracking) {\n                uses.params.add(key2);\n              }\n              return target[\n                /** @type {string} */\n                key2\n              ];\n            }\n          }),\n          parent: async () => {\n            if (is_tracking) {\n              uses.parent = true;\n            }\n            return parent();\n          },\n          route: new Proxy(event.route, {\n            get: (target, key2) => {\n              if (is_tracking) {\n                uses.route = true;\n              }\n              return target[\n                /** @type {'id'} */\n                key2\n              ];\n            }\n          }),\n          url,\n          untrack(fn) {\n            is_tracking = false;\n            try {\n              return fn();\n            } finally {\n              is_tracking = true;\n            }\n          }\n        })\n      );\n      return result2;\n    }\n  });\n  return {\n    type: \"data\",\n    data: result ?? null,\n    uses,\n    slash\n  };\n}\nasync function load_data({\n  event,\n  event_state,\n  fetched,\n  node,\n  parent,\n  server_data_promise,\n  state,\n  resolve_opts,\n  csr\n}) {\n  const server_data_node = await server_data_promise;\n  const load = node?.universal?.load;\n  if (!load) {\n    return server_data_node?.data ?? null;\n  }\n  const result = await record_span({\n    name: \"sveltekit.load\",\n    attributes: {\n      \"sveltekit.load.node_id\": node.universal_id || \"unknown\",\n      \"sveltekit.load.node_type\": get_node_type(node.universal_id),\n      \"http.route\": event.route.id || \"unknown\"\n    },\n    fn: async (current2) => {\n      const traced_event = merge_tracing(event, current2);\n      return await with_request_store(\n        { event: traced_event, state: event_state },\n        () => load.call(null, {\n          url: event.url,\n          params: event.params,\n          data: server_data_node?.data ?? null,\n          route: event.route,\n          fetch: create_universal_fetch(event, state, fetched, csr, resolve_opts),\n          setHeaders: event.setHeaders,\n          depends: () => {\n          },\n          parent,\n          untrack: (fn) => fn(),\n          tracing: traced_event.tracing\n        })\n      );\n    }\n  });\n  return result ?? null;\n}\nfunction create_universal_fetch(event, state, fetched, csr, resolve_opts) {\n  const universal_fetch = async (input, init2) => {\n    const cloned_body = input instanceof Request && input.body ? input.clone().body : null;\n    const cloned_headers = input instanceof Request && [...input.headers].length ? new Headers(input.headers) : init2?.headers;\n    let response = await event.fetch(input, init2);\n    const url = new URL(input instanceof Request ? input.url : input, event.url);\n    const same_origin = url.origin === event.url.origin;\n    let dependency;\n    if (same_origin) {\n      if (state.prerendering) {\n        dependency = { response, body: null };\n        state.prerendering.dependencies.set(url.pathname, dependency);\n      }\n    } else if (url.protocol === \"https:\" || url.protocol === \"http:\") {\n      const mode = input instanceof Request ? input.mode : init2?.mode ?? \"cors\";\n      if (mode === \"no-cors\") {\n        response = new Response(\"\", {\n          status: response.status,\n          statusText: response.statusText,\n          headers: response.headers\n        });\n      } else {\n        const acao = response.headers.get(\"access-control-allow-origin\");\n        if (!acao || acao !== event.url.origin && acao !== \"*\") {\n          throw new Error(\n            `CORS error: ${acao ? \"Incorrect\" : \"No\"} 'Access-Control-Allow-Origin' header is present on the requested resource`\n          );\n        }\n      }\n    }\n    let teed_body;\n    const proxy = new Proxy(response, {\n      get(response2, key2, _receiver) {\n        async function push_fetched(body2, is_b64) {\n          const status_number = Number(response2.status);\n          if (isNaN(status_number)) {\n            throw new Error(\n              `response.status is not a number. value: \"${response2.status}\" type: ${typeof response2.status}`\n            );\n          }\n          fetched.push({\n            url: same_origin ? url.href.slice(event.url.origin.length) : url.href,\n            method: event.request.method,\n            request_body: (\n              /** @type {string | ArrayBufferView | undefined} */\n              input instanceof Request && cloned_body ? await stream_to_string(cloned_body) : init2?.body\n            ),\n            request_headers: cloned_headers,\n            response_body: body2,\n            response: response2,\n            is_b64\n          });\n        }\n        if (key2 === \"body\") {\n          if (response2.body === null) {\n            return null;\n          }\n          if (teed_body) {\n            return teed_body;\n          }\n          const [a, b] = response2.body.tee();\n          void (async () => {\n            let result = new Uint8Array();\n            for await (const chunk of a) {\n              const combined = new Uint8Array(result.length + chunk.length);\n              combined.set(result, 0);\n              combined.set(chunk, result.length);\n              result = combined;\n            }\n            if (dependency) {\n              dependency.body = new Uint8Array(result);\n            }\n            void push_fetched(base64_encode(result), true);\n          })();\n          return teed_body = b;\n        }\n        if (key2 === \"arrayBuffer\") {\n          return async () => {\n            const buffer = await response2.arrayBuffer();\n            const bytes = new Uint8Array(buffer);\n            if (dependency) {\n              dependency.body = bytes;\n            }\n            if (buffer instanceof ArrayBuffer) {\n              await push_fetched(base64_encode(bytes), true);\n            }\n            return buffer;\n          };\n        }\n        async function text2() {\n          const body2 = await response2.text();\n          if (body2 === \"\" && NULL_BODY_STATUS.includes(response2.status)) {\n            await push_fetched(void 0, false);\n            return void 0;\n          }\n          if (!body2 || typeof body2 === \"string\") {\n            await push_fetched(body2, false);\n          }\n          if (dependency) {\n            dependency.body = body2;\n          }\n          return body2;\n        }\n        if (key2 === \"text\") {\n          return text2;\n        }\n        if (key2 === \"json\") {\n          return async () => {\n            const body2 = await text2();\n            return body2 ? JSON.parse(body2) : void 0;\n          };\n        }\n        return Reflect.get(response2, key2, response2);\n      }\n    });\n    if (csr) {\n      const get = response.headers.get;\n      response.headers.get = (key2) => {\n        const lower = key2.toLowerCase();\n        const value = get.call(response.headers, lower);\n        if (value && !lower.startsWith(\"x-sveltekit-\")) {\n          const included = resolve_opts.filterSerializedResponseHeaders(lower, value);\n          if (!included) {\n            throw new Error(\n              `Failed to get response header \"${lower}\" \u2014 it must be included by the \\`filterSerializedResponseHeaders\\` option: https://svelte.dev/docs/kit/hooks#Server-hooks-handle (at ${event.route.id})`\n            );\n          }\n        }\n        return value;\n      };\n    }\n    return proxy;\n  };\n  return (input, init2) => {\n    const response = universal_fetch(input, init2);\n    response.catch(() => {\n    });\n    return response;\n  };\n}\nasync function stream_to_string(stream) {\n  let result = \"\";\n  const reader = stream.getReader();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    result += text_decoder.decode(value);\n  }\n  return result;\n}\nfunction hash(...values) {\n  let hash2 = 5381;\n  for (const value of values) {\n    if (typeof value === \"string\") {\n      let i = value.length;\n      while (i) hash2 = hash2 * 33 ^ value.charCodeAt(--i);\n    } else if (ArrayBuffer.isView(value)) {\n      const buffer = new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n      let i = buffer.length;\n      while (i) hash2 = hash2 * 33 ^ buffer[--i];\n    } else {\n      throw new TypeError(\"value must be a string or TypedArray\");\n    }\n  }\n  return (hash2 >>> 0).toString(36);\n}\nconst replacements = {\n  \"<\": \"\\\\u003C\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nconst pattern = new RegExp(`[${Object.keys(replacements).join(\"\")}]`, \"g\");\nfunction serialize_data(fetched, filter, prerendering = false) {\n  const headers2 = {};\n  let cache_control = null;\n  let age = null;\n  let varyAny = false;\n  for (const [key2, value] of fetched.response.headers) {\n    if (filter(key2, value)) {\n      headers2[key2] = value;\n    }\n    if (key2 === \"cache-control\") cache_control = value;\n    else if (key2 === \"age\") age = value;\n    else if (key2 === \"vary\" && value.trim() === \"*\") varyAny = true;\n  }\n  const payload = {\n    status: fetched.response.status,\n    statusText: fetched.response.statusText,\n    headers: headers2,\n    body: fetched.response_body\n  };\n  const safe_payload = JSON.stringify(payload).replace(pattern, (match) => replacements[match]);\n  const attrs = [\n    'type=\"application/json\"',\n    \"data-sveltekit-fetched\",\n    `data-url=\"${escape_html(fetched.url, true)}\"`\n  ];\n  if (fetched.is_b64) {\n    attrs.push(\"data-b64\");\n  }\n  if (fetched.request_headers || fetched.request_body) {\n    const values = [];\n    if (fetched.request_headers) {\n      values.push([...new Headers(fetched.request_headers)].join(\",\"));\n    }\n    if (fetched.request_body) {\n      values.push(fetched.request_body);\n    }\n    attrs.push(`data-hash=\"${hash(...values)}\"`);\n  }\n  if (!prerendering && fetched.method === \"GET\" && cache_control && !varyAny) {\n    const match = /s-maxage=(\\d+)/g.exec(cache_control) ?? /max-age=(\\d+)/g.exec(cache_control);\n    if (match) {\n      const ttl = +match[1] - +(age ?? \"0\");\n      attrs.push(`data-ttl=\"${ttl}\"`);\n    }\n  }\n  return `<script ${attrs.join(\" \")}>${safe_payload}<\\/script>`;\n}\nconst s = JSON.stringify;\nfunction sha256(data) {\n  if (!key[0]) precompute();\n  const out = init.slice(0);\n  const array2 = encode(data);\n  for (let i = 0; i < array2.length; i += 16) {\n    const w = array2.subarray(i, i + 16);\n    let tmp;\n    let a;\n    let b;\n    let out0 = out[0];\n    let out1 = out[1];\n    let out2 = out[2];\n    let out3 = out[3];\n    let out4 = out[4];\n    let out5 = out[5];\n    let out6 = out[6];\n    let out7 = out[7];\n    for (let i2 = 0; i2 < 64; i2++) {\n      if (i2 < 16) {\n        tmp = w[i2];\n      } else {\n        a = w[i2 + 1 & 15];\n        b = w[i2 + 14 & 15];\n        tmp = w[i2 & 15] = (a >>> 7 ^ a >>> 18 ^ a >>> 3 ^ a << 25 ^ a << 14) + (b >>> 17 ^ b >>> 19 ^ b >>> 10 ^ b << 15 ^ b << 13) + w[i2 & 15] + w[i2 + 9 & 15] | 0;\n      }\n      tmp = tmp + out7 + (out4 >>> 6 ^ out4 >>> 11 ^ out4 >>> 25 ^ out4 << 26 ^ out4 << 21 ^ out4 << 7) + (out6 ^ out4 & (out5 ^ out6)) + key[i2];\n      out7 = out6;\n      out6 = out5;\n      out5 = out4;\n      out4 = out3 + tmp | 0;\n      out3 = out2;\n      out2 = out1;\n      out1 = out0;\n      out0 = tmp + (out1 & out2 ^ out3 & (out1 ^ out2)) + (out1 >>> 2 ^ out1 >>> 13 ^ out1 >>> 22 ^ out1 << 30 ^ out1 << 19 ^ out1 << 10) | 0;\n    }\n    out[0] = out[0] + out0 | 0;\n    out[1] = out[1] + out1 | 0;\n    out[2] = out[2] + out2 | 0;\n    out[3] = out[3] + out3 | 0;\n    out[4] = out[4] + out4 | 0;\n    out[5] = out[5] + out5 | 0;\n    out[6] = out[6] + out6 | 0;\n    out[7] = out[7] + out7 | 0;\n  }\n  const bytes = new Uint8Array(out.buffer);\n  reverse_endianness(bytes);\n  return btoa(String.fromCharCode(...bytes));\n}\nconst init = new Uint32Array(8);\nconst key = new Uint32Array(64);\nfunction precompute() {\n  function frac(x) {\n    return (x - Math.floor(x)) * 4294967296;\n  }\n  let prime = 2;\n  for (let i = 0; i < 64; prime++) {\n    let is_prime = true;\n    for (let factor = 2; factor * factor <= prime; factor++) {\n      if (prime % factor === 0) {\n        is_prime = false;\n        break;\n      }\n    }\n    if (is_prime) {\n      if (i < 8) {\n        init[i] = frac(prime ** (1 / 2));\n      }\n      key[i] = frac(prime ** (1 / 3));\n      i++;\n    }\n  }\n}\nfunction reverse_endianness(bytes) {\n  for (let i = 0; i < bytes.length; i += 4) {\n    const a = bytes[i + 0];\n    const b = bytes[i + 1];\n    const c = bytes[i + 2];\n    const d = bytes[i + 3];\n    bytes[i + 0] = d;\n    bytes[i + 1] = c;\n    bytes[i + 2] = b;\n    bytes[i + 3] = a;\n  }\n}\nfunction encode(str) {\n  const encoded = text_encoder.encode(str);\n  const length = encoded.length * 8;\n  const size = 512 * Math.ceil((length + 65) / 512);\n  const bytes = new Uint8Array(size / 8);\n  bytes.set(encoded);\n  bytes[encoded.length] = 128;\n  reverse_endianness(bytes);\n  const words = new Uint32Array(bytes.buffer);\n  words[words.length - 2] = Math.floor(length / 4294967296);\n  words[words.length - 1] = length;\n  return words;\n}\nconst array = new Uint8Array(16);\nfunction generate_nonce() {\n  crypto.getRandomValues(array);\n  return btoa(String.fromCharCode(...array));\n}\nconst quoted = /* @__PURE__ */ new Set([\n  \"self\",\n  \"unsafe-eval\",\n  \"unsafe-hashes\",\n  \"unsafe-inline\",\n  \"none\",\n  \"strict-dynamic\",\n  \"report-sample\",\n  \"wasm-unsafe-eval\",\n  \"script\"\n]);\nconst crypto_pattern = /^(nonce|sha\\d\\d\\d)-/;\nclass BaseProvider {\n  /** @type {boolean} */\n  #use_hashes;\n  /** @type {boolean} */\n  #script_needs_csp;\n  /** @type {boolean} */\n  #script_src_needs_csp;\n  /** @type {boolean} */\n  #script_src_elem_needs_csp;\n  /** @type {boolean} */\n  #style_needs_csp;\n  /** @type {boolean} */\n  #style_src_needs_csp;\n  /** @type {boolean} */\n  #style_src_attr_needs_csp;\n  /** @type {boolean} */\n  #style_src_elem_needs_csp;\n  /** @type {import('types').CspDirectives} */\n  #directives;\n  /** @type {import('types').Csp.Source[]} */\n  #script_src;\n  /** @type {import('types').Csp.Source[]} */\n  #script_src_elem;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src_attr;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src_elem;\n  /** @type {string} */\n  #nonce;\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    this.#use_hashes = use_hashes;\n    this.#directives = directives;\n    const d = this.#directives;\n    this.#script_src = [];\n    this.#script_src_elem = [];\n    this.#style_src = [];\n    this.#style_src_attr = [];\n    this.#style_src_elem = [];\n    const effective_script_src = d[\"script-src\"] || d[\"default-src\"];\n    const script_src_elem = d[\"script-src-elem\"];\n    const effective_style_src = d[\"style-src\"] || d[\"default-src\"];\n    const style_src_attr = d[\"style-src-attr\"];\n    const style_src_elem = d[\"style-src-elem\"];\n    const needs_csp = (directive) => !!directive && !directive.some((value) => value === \"unsafe-inline\");\n    this.#script_src_needs_csp = needs_csp(effective_script_src);\n    this.#script_src_elem_needs_csp = needs_csp(script_src_elem);\n    this.#style_src_needs_csp = needs_csp(effective_style_src);\n    this.#style_src_attr_needs_csp = needs_csp(style_src_attr);\n    this.#style_src_elem_needs_csp = needs_csp(style_src_elem);\n    this.#script_needs_csp = this.#script_src_needs_csp || this.#script_src_elem_needs_csp;\n    this.#style_needs_csp = this.#style_src_needs_csp || this.#style_src_attr_needs_csp || this.#style_src_elem_needs_csp;\n    this.script_needs_nonce = this.#script_needs_csp && !this.#use_hashes;\n    this.style_needs_nonce = this.#style_needs_csp && !this.#use_hashes;\n    this.#nonce = nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    if (!this.#script_needs_csp) return;\n    const source = this.#use_hashes ? `sha256-${sha256(content)}` : `nonce-${this.#nonce}`;\n    if (this.#script_src_needs_csp) {\n      this.#script_src.push(source);\n    }\n    if (this.#script_src_elem_needs_csp) {\n      this.#script_src_elem.push(source);\n    }\n  }\n  /** @param {string} content */\n  add_style(content) {\n    if (!this.#style_needs_csp) return;\n    const source = this.#use_hashes ? `sha256-${sha256(content)}` : `nonce-${this.#nonce}`;\n    if (this.#style_src_needs_csp) {\n      this.#style_src.push(source);\n    }\n    if (this.#style_src_attr_needs_csp) {\n      this.#style_src_attr.push(source);\n    }\n    if (this.#style_src_elem_needs_csp) {\n      const sha256_empty_comment_hash = \"sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=\";\n      const d = this.#directives;\n      if (d[\"style-src-elem\"] && !d[\"style-src-elem\"].includes(sha256_empty_comment_hash) && !this.#style_src_elem.includes(sha256_empty_comment_hash)) {\n        this.#style_src_elem.push(sha256_empty_comment_hash);\n      }\n      if (source !== sha256_empty_comment_hash) {\n        this.#style_src_elem.push(source);\n      }\n    }\n  }\n  /**\n   * @param {boolean} [is_meta]\n   */\n  get_header(is_meta = false) {\n    const header = [];\n    const directives = { ...this.#directives };\n    if (this.#style_src.length > 0) {\n      directives[\"style-src\"] = [\n        ...directives[\"style-src\"] || directives[\"default-src\"] || [],\n        ...this.#style_src\n      ];\n    }\n    if (this.#style_src_attr.length > 0) {\n      directives[\"style-src-attr\"] = [\n        ...directives[\"style-src-attr\"] || [],\n        ...this.#style_src_attr\n      ];\n    }\n    if (this.#style_src_elem.length > 0) {\n      directives[\"style-src-elem\"] = [\n        ...directives[\"style-src-elem\"] || [],\n        ...this.#style_src_elem\n      ];\n    }\n    if (this.#script_src.length > 0) {\n      directives[\"script-src\"] = [\n        ...directives[\"script-src\"] || directives[\"default-src\"] || [],\n        ...this.#script_src\n      ];\n    }\n    if (this.#script_src_elem.length > 0) {\n      directives[\"script-src-elem\"] = [\n        ...directives[\"script-src-elem\"] || [],\n        ...this.#script_src_elem\n      ];\n    }\n    for (const key2 in directives) {\n      if (is_meta && (key2 === \"frame-ancestors\" || key2 === \"report-uri\" || key2 === \"sandbox\")) {\n        continue;\n      }\n      const value = (\n        /** @type {string[] | true} */\n        directives[key2]\n      );\n      if (!value) continue;\n      const directive = [key2];\n      if (Array.isArray(value)) {\n        value.forEach((value2) => {\n          if (quoted.has(value2) || crypto_pattern.test(value2)) {\n            directive.push(`'${value2}'`);\n          } else {\n            directive.push(value2);\n          }\n        });\n      }\n      header.push(directive.join(\" \"));\n    }\n    return header.join(\"; \");\n  }\n}\nclass CspProvider extends BaseProvider {\n  get_meta() {\n    const content = this.get_header(true);\n    if (!content) {\n      return;\n    }\n    return `<meta http-equiv=\"content-security-policy\" content=\"${escape_html(content, true)}\">`;\n  }\n}\nclass CspReportOnlyProvider extends BaseProvider {\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    super(use_hashes, directives, nonce);\n    if (Object.values(directives).filter((v) => !!v).length > 0) {\n      const has_report_to = directives[\"report-to\"]?.length ?? 0 > 0;\n      const has_report_uri = directives[\"report-uri\"]?.length ?? 0 > 0;\n      if (!has_report_to && !has_report_uri) {\n        throw Error(\n          \"`content-security-policy-report-only` must be specified with either the `report-to` or `report-uri` directives, or both\"\n        );\n      }\n    }\n  }\n}\nclass Csp {\n  /** @readonly */\n  nonce = generate_nonce();\n  /** @type {CspProvider} */\n  csp_provider;\n  /** @type {CspReportOnlyProvider} */\n  report_only_provider;\n  /**\n   * @param {import('./types.js').CspConfig} config\n   * @param {import('./types.js').CspOpts} opts\n   */\n  constructor({ mode, directives, reportOnly }, { prerender }) {\n    const use_hashes = mode === \"hash\" || mode === \"auto\" && prerender;\n    this.csp_provider = new CspProvider(use_hashes, directives, this.nonce);\n    this.report_only_provider = new CspReportOnlyProvider(use_hashes, reportOnly, this.nonce);\n  }\n  get script_needs_nonce() {\n    return this.csp_provider.script_needs_nonce || this.report_only_provider.script_needs_nonce;\n  }\n  get style_needs_nonce() {\n    return this.csp_provider.style_needs_nonce || this.report_only_provider.style_needs_nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    this.csp_provider.add_script(content);\n    this.report_only_provider.add_script(content);\n  }\n  /** @param {string} content */\n  add_style(content) {\n    this.csp_provider.add_style(content);\n    this.report_only_provider.add_style(content);\n  }\n}\nfunction exec(match, params, matchers) {\n  const result = {};\n  const values = match.slice(1);\n  const values_needing_match = values.filter((value) => value !== void 0);\n  let buffered = 0;\n  for (let i = 0; i < params.length; i += 1) {\n    const param = params[i];\n    let value = values[i - buffered];\n    if (param.chained && param.rest && buffered) {\n      value = values.slice(i - buffered, i + 1).filter((s2) => s2).join(\"/\");\n      buffered = 0;\n    }\n    if (value === void 0) {\n      if (param.rest) result[param.name] = \"\";\n      continue;\n    }\n    if (!param.matcher || matchers[param.matcher](value)) {\n      result[param.name] = value;\n      const next_param = params[i + 1];\n      const next_value = values[i + 1];\n      if (next_param && !next_param.rest && next_param.optional && next_value && param.chained) {\n        buffered = 0;\n      }\n      if (!next_param && !next_value && Object.keys(result).length === values_needing_match.length) {\n        buffered = 0;\n      }\n      continue;\n    }\n    if (param.optional && param.chained) {\n      buffered++;\n      continue;\n    }\n    return;\n  }\n  if (buffered) return;\n  return result;\n}\nfunction generate_route_object(route, url, manifest) {\n  const { errors, layouts, leaf } = route;\n  const nodes = [...errors, ...layouts.map((l) => l?.[1]), leaf[1]].filter((n) => typeof n === \"number\").map((n) => `'${n}': () => ${create_client_import(manifest._.client.nodes?.[n], url)}`).join(\",\\n\t\t\");\n  return [\n    `{\n\tid: ${s(route.id)}`,\n    `errors: ${s(route.errors)}`,\n    `layouts: ${s(route.layouts)}`,\n    `leaf: ${s(route.leaf)}`,\n    `nodes: {\n\t\t${nodes}\n\t}\n}`\n  ].join(\",\\n\t\");\n}\nfunction create_client_import(import_path, url) {\n  if (!import_path) return \"Promise.resolve({})\";\n  if (import_path[0] === \"/\") {\n    return `import('${import_path}')`;\n  }\n  if (assets !== \"\") {\n    return `import('${assets}/${import_path}')`;\n  }\n  let path = get_relative_path(url.pathname, `${base}/${import_path}`);\n  if (path[0] !== \".\") path = `./${path}`;\n  return `import('${path}')`;\n}\nasync function resolve_route(resolved_path, url, manifest) {\n  if (!manifest._.client.routes) {\n    return text(\"Server-side route resolution disabled\", { status: 400 });\n  }\n  let route = null;\n  let params = {};\n  const matchers = await manifest._.matchers();\n  for (const candidate of manifest._.client.routes) {\n    const match = candidate.pattern.exec(resolved_path);\n    if (!match) continue;\n    const matched = exec(match, candidate.params, matchers);\n    if (matched) {\n      route = candidate;\n      params = decode_params(matched);\n      break;\n    }\n  }\n  return create_server_routing_response(route, params, url, manifest).response;\n}\nfunction create_server_routing_response(route, params, url, manifest) {\n  const headers2 = new Headers({\n    \"content-type\": \"application/javascript; charset=utf-8\"\n  });\n  if (route) {\n    const csr_route = generate_route_object(route, url, manifest);\n    const body2 = `${create_css_import(route, url, manifest)}\nexport const route = ${csr_route}; export const params = ${JSON.stringify(params)};`;\n    return { response: text(body2, { headers: headers2 }), body: body2 };\n  } else {\n    return { response: text(\"\", { headers: headers2 }), body: \"\" };\n  }\n}\nfunction create_css_import(route, url, manifest) {\n  const { errors, layouts, leaf } = route;\n  let css = \"\";\n  for (const node of [...errors, ...layouts.map((l) => l?.[1]), leaf[1]]) {\n    if (typeof node !== \"number\") continue;\n    const node_css = manifest._.client.css?.[node];\n    for (const css_path of node_css ?? []) {\n      css += `'${assets || base}/${css_path}',`;\n    }\n  }\n  if (!css) return \"\";\n  return `${create_client_import(\n    /** @type {string} */\n    manifest._.client.start,\n    url\n  )}.then(x => x.load_css([${css}]));`;\n}\nconst updated = {\n  ...readable(false),\n  check: () => false\n};\nasync function render_response({\n  branch,\n  fetched,\n  options: options2,\n  manifest,\n  state,\n  page_config,\n  status,\n  error: error2 = null,\n  event,\n  event_state,\n  resolve_opts,\n  action_result,\n  data_serializer\n}) {\n  if (state.prerendering) {\n    if (options2.csp.mode === \"nonce\") {\n      throw new Error('Cannot use prerendering if config.kit.csp.mode === \"nonce\"');\n    }\n    if (options2.app_template_contains_nonce) {\n      throw new Error(\"Cannot use prerendering if page template contains %sveltekit.nonce%\");\n    }\n  }\n  const { client } = manifest._;\n  const modulepreloads = new Set(client.imports);\n  const stylesheets = new Set(client.stylesheets);\n  const fonts = new Set(client.fonts);\n  const link_headers = /* @__PURE__ */ new Set();\n  const link_tags = /* @__PURE__ */ new Set();\n  const inline_styles = /* @__PURE__ */ new Map();\n  let rendered;\n  const form_value = action_result?.type === \"success\" || action_result?.type === \"failure\" ? action_result.data ?? null : null;\n  let base$1 = base;\n  let assets$1 = assets;\n  let base_expression = s(base);\n  {\n    if (!state.prerendering?.fallback) {\n      const segments = event.url.pathname.slice(base.length).split(\"/\").slice(2);\n      base$1 = segments.map(() => \"..\").join(\"/\") || \".\";\n      base_expression = `new URL(${s(base$1)}, location).pathname.slice(0, -1)`;\n      if (!assets || assets[0] === \"/\" && assets !== SVELTE_KIT_ASSETS) {\n        assets$1 = base$1;\n      }\n    } else if (options2.hash_routing) {\n      base_expression = \"new URL('.', location).pathname.slice(0, -1)\";\n    }\n  }\n  if (page_config.ssr) {\n    const props = {\n      stores: {\n        page: writable(null),\n        navigating: writable(null),\n        updated\n      },\n      constructors: await Promise.all(\n        branch.map(({ node }) => {\n          if (!node.component) {\n            throw new Error(`Missing +page.svelte component for route ${event.route.id}`);\n          }\n          return node.component();\n        })\n      ),\n      form: form_value\n    };\n    let data2 = {};\n    for (let i = 0; i < branch.length; i += 1) {\n      data2 = { ...data2, ...branch[i].data };\n      props[`data_${i}`] = data2;\n    }\n    props.page = {\n      error: error2,\n      params: (\n        /** @type {Record<string, any>} */\n        event.params\n      ),\n      route: event.route,\n      status,\n      url: event.url,\n      data: data2,\n      form: form_value,\n      state: {}\n    };\n    const render_opts = {\n      context: /* @__PURE__ */ new Map([\n        [\n          \"__request__\",\n          {\n            page: props.page\n          }\n        ]\n      ])\n    };\n    const fetch2 = globalThis.fetch;\n    try {\n      if (BROWSER) ;\n      rendered = await with_request_store({ event, state: event_state }, async () => {\n        if (relative) override({ base: base$1, assets: assets$1 });\n        const maybe_promise = options2.root.render(props, render_opts);\n        const rendered2 = options2.async && \"then\" in maybe_promise ? (\n          /** @type {ReturnType<typeof options.root.render> & Promise<any>} */\n          maybe_promise.then((r) => r)\n        ) : maybe_promise;\n        if (options2.async) {\n          reset();\n        }\n        const { head: head2, html: html2, css } = options2.async ? await rendered2 : rendered2;\n        return { head: head2, html: html2, css };\n      });\n    } finally {\n      reset();\n    }\n    for (const { node } of branch) {\n      for (const url of node.imports) modulepreloads.add(url);\n      for (const url of node.stylesheets) stylesheets.add(url);\n      for (const url of node.fonts) fonts.add(url);\n      if (node.inline_styles && !client.inline) {\n        Object.entries(await node.inline_styles()).forEach(([k, v]) => inline_styles.set(k, v));\n      }\n    }\n  } else {\n    rendered = { head: \"\", html: \"\", css: { code: \"\", map: null } };\n  }\n  let head = \"\";\n  let body2 = rendered.html;\n  const csp = new Csp(options2.csp, {\n    prerender: !!state.prerendering\n  });\n  const prefixed = (path) => {\n    if (path.startsWith(\"/\")) {\n      return base + path;\n    }\n    return `${assets$1}/${path}`;\n  };\n  const style = client.inline ? client.inline?.style : Array.from(inline_styles.values()).join(\"\\n\");\n  if (style) {\n    const attributes = [];\n    if (csp.style_needs_nonce) attributes.push(` nonce=\"${csp.nonce}\"`);\n    csp.add_style(style);\n    head += `\n\t<style${attributes.join(\"\")}>${style}</style>`;\n  }\n  for (const dep of stylesheets) {\n    const path = prefixed(dep);\n    const attributes = ['rel=\"stylesheet\"'];\n    if (inline_styles.has(dep)) {\n      attributes.push(\"disabled\", 'media=\"(max-width: 0)\"');\n    } else {\n      if (resolve_opts.preload({ type: \"css\", path })) {\n        link_headers.add(`<${encodeURI(path)}>; rel=\"preload\"; as=\"style\"; nopush`);\n      }\n    }\n    head += `\n\t\t<link href=\"${path}\" ${attributes.join(\" \")}>`;\n  }\n  for (const dep of fonts) {\n    const path = prefixed(dep);\n    if (resolve_opts.preload({ type: \"font\", path })) {\n      const ext = dep.slice(dep.lastIndexOf(\".\") + 1);\n      link_tags.add(`<link rel=\"preload\" as=\"font\" type=\"font/${ext}\" href=\"${path}\" crossorigin>`);\n      link_headers.add(\n        `<${encodeURI(path)}>; rel=\"preload\"; as=\"font\"; type=\"font/${ext}\"; crossorigin; nopush`\n      );\n    }\n  }\n  const global = get_global_name(options2);\n  const { data, chunks } = data_serializer.get_data(csp);\n  if (page_config.ssr && page_config.csr) {\n    body2 += `\n\t\t\t${fetched.map(\n      (item) => serialize_data(item, resolve_opts.filterSerializedResponseHeaders, !!state.prerendering)\n    ).join(\"\\n\t\t\t\")}`;\n  }\n  if (page_config.csr) {\n    const route = manifest._.client.routes?.find((r) => r.id === event.route.id) ?? null;\n    if (client.uses_env_dynamic_public && state.prerendering) {\n      modulepreloads.add(`${app_dir}/env.js`);\n    }\n    if (!client.inline) {\n      const included_modulepreloads = Array.from(modulepreloads, (dep) => prefixed(dep)).filter(\n        (path) => resolve_opts.preload({ type: \"js\", path })\n      );\n      for (const path of included_modulepreloads) {\n        link_headers.add(`<${encodeURI(path)}>; rel=\"modulepreload\"; nopush`);\n        if (options2.preload_strategy !== \"modulepreload\") {\n          head += `\n\t\t<link rel=\"preload\" as=\"script\" crossorigin=\"anonymous\" href=\"${path}\">`;\n        } else {\n          link_tags.add(`<link rel=\"modulepreload\" href=\"${path}\">`);\n        }\n      }\n    }\n    if (state.prerendering && link_tags.size > 0) {\n      head += Array.from(link_tags).map((tag) => `\n\t\t${tag}`).join(\"\");\n    }\n    if (manifest._.client.routes && state.prerendering && !state.prerendering.fallback) {\n      const pathname = add_resolution_suffix(event.url.pathname);\n      state.prerendering.dependencies.set(\n        pathname,\n        create_server_routing_response(route, event.params, new URL(pathname, event.url), manifest)\n      );\n    }\n    const blocks = [];\n    const load_env_eagerly = client.uses_env_dynamic_public && state.prerendering;\n    const properties = [`base: ${base_expression}`];\n    if (assets) {\n      properties.push(`assets: ${s(assets)}`);\n    }\n    if (client.uses_env_dynamic_public) {\n      properties.push(`env: ${load_env_eagerly ? \"null\" : s(public_env)}`);\n    }\n    if (chunks) {\n      blocks.push(\"const deferred = new Map();\");\n      properties.push(`defer: (id) => new Promise((fulfil, reject) => {\n\t\t\t\t\t\t\tdeferred.set(id, { fulfil, reject });\n\t\t\t\t\t\t})`);\n      let app_declaration = \"\";\n      if (Object.keys(options2.hooks.transport).length > 0) {\n        if (client.inline) {\n          app_declaration = `const app = __sveltekit_${options2.version_hash}.app.app;`;\n        } else if (client.app) {\n          app_declaration = `const app = await import(${s(prefixed(client.app))});`;\n        } else {\n          app_declaration = `const { app } = await import(${s(prefixed(client.start))});`;\n        }\n      }\n      const prelude = app_declaration ? `${app_declaration}\n\t\t\t\t\t\t\tconst [data, error] = fn(app);` : `const [data, error] = fn();`;\n      properties.push(`resolve: async (id, fn) => {\n\t\t\t\t\t\t\t${prelude}\n\n\t\t\t\t\t\t\tconst try_to_resolve = () => {\n\t\t\t\t\t\t\t\tif (!deferred.has(id)) {\n\t\t\t\t\t\t\t\t\tsetTimeout(try_to_resolve, 0);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst { fulfil, reject } = deferred.get(id);\n\t\t\t\t\t\t\t\tdeferred.delete(id);\n\t\t\t\t\t\t\t\tif (error) reject(error);\n\t\t\t\t\t\t\t\telse fulfil(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttry_to_resolve();\n\t\t\t\t\t\t}`);\n    }\n    blocks.push(`${global} = {\n\t\t\t\t\t\t${properties.join(\",\\n\t\t\t\t\t\t\")}\n\t\t\t\t\t};`);\n    const args = [\"element\"];\n    blocks.push(\"const element = document.currentScript.parentElement;\");\n    if (page_config.ssr) {\n      const serialized = { form: \"null\", error: \"null\" };\n      if (form_value) {\n        serialized.form = uneval_action_response(\n          form_value,\n          /** @type {string} */\n          event.route.id,\n          options2.hooks.transport\n        );\n      }\n      if (error2) {\n        serialized.error = devalue.uneval(error2);\n      }\n      const hydrate = [\n        `node_ids: [${branch.map(({ node }) => node.index).join(\", \")}]`,\n        `data: ${data}`,\n        `form: ${serialized.form}`,\n        `error: ${serialized.error}`\n      ];\n      if (status !== 200) {\n        hydrate.push(`status: ${status}`);\n      }\n      if (manifest._.client.routes) {\n        if (route) {\n          const stringified = generate_route_object(route, event.url, manifest).replaceAll(\n            \"\\n\",\n            \"\\n\t\t\t\t\t\t\t\"\n          );\n          hydrate.push(`params: ${devalue.uneval(event.params)}`, `server_route: ${stringified}`);\n        }\n      } else if (options2.embedded) {\n        hydrate.push(`params: ${devalue.uneval(event.params)}`, `route: ${s(event.route)}`);\n      }\n      const indent = \"\t\".repeat(load_env_eagerly ? 7 : 6);\n      args.push(`{\n${indent}\t${hydrate.join(`,\n${indent}\t`)}\n${indent}}`);\n    }\n    const { remote_data: remote_cache } = event_state;\n    let serialized_remote_data = \"\";\n    if (remote_cache) {\n      const remote = {};\n      for (const [info, cache] of remote_cache) {\n        if (!info.id) continue;\n        for (const key2 in cache) {\n          remote[create_remote_cache_key(info.id, key2)] = await cache[key2];\n        }\n      }\n      const replacer = (thing) => {\n        for (const key2 in options2.hooks.transport) {\n          const encoded = options2.hooks.transport[key2].encode(thing);\n          if (encoded) {\n            return `app.decode('${key2}', ${devalue.uneval(encoded, replacer)})`;\n          }\n        }\n      };\n      serialized_remote_data = `${global}.data = ${devalue.uneval(remote, replacer)};\n\n\t\t\t\t\t\t`;\n    }\n    const boot = client.inline ? `${client.inline.script}\n\n\t\t\t\t\t${serialized_remote_data}${global}.app.start(${args.join(\", \")});` : client.app ? `Promise.all([\n\t\t\t\t\t\timport(${s(prefixed(client.start))}),\n\t\t\t\t\t\timport(${s(prefixed(client.app))})\n\t\t\t\t\t]).then(([kit, app]) => {\n\t\t\t\t\t\t${serialized_remote_data}kit.start(app, ${args.join(\", \")});\n\t\t\t\t\t});` : `import(${s(prefixed(client.start))}).then((app) => {\n\t\t\t\t\t\t${serialized_remote_data}app.start(${args.join(\", \")})\n\t\t\t\t\t});`;\n    if (load_env_eagerly) {\n      blocks.push(`import(${s(`${base$1}/${app_dir}/env.js`)}).then(({ env }) => {\n\t\t\t\t\t\t${global}.env = env;\n\n\t\t\t\t\t\t${boot.replace(/\\n/g, \"\\n\t\")}\n\t\t\t\t\t});`);\n    } else {\n      blocks.push(boot);\n    }\n    if (options2.service_worker) {\n      let opts = \"\";\n      if (options2.service_worker_options != null) {\n        const service_worker_options = { ...options2.service_worker_options };\n        opts = `, ${s(service_worker_options)}`;\n      }\n      blocks.push(`if ('serviceWorker' in navigator) {\n\t\t\t\t\t\taddEventListener('load', function () {\n\t\t\t\t\t\t\tnavigator.serviceWorker.register('${prefixed(\"service-worker.js\")}'${opts});\n\t\t\t\t\t\t});\n\t\t\t\t\t}`);\n    }\n    const init_app = `\n\t\t\t\t{\n\t\t\t\t\t${blocks.join(\"\\n\\n\t\t\t\t\t\")}\n\t\t\t\t}\n\t\t\t`;\n    csp.add_script(init_app);\n    body2 += `\n\t\t\t<script${csp.script_needs_nonce ? ` nonce=\"${csp.nonce}\"` : \"\"}>${init_app}<\\/script>\n\t\t`;\n  }\n  const headers2 = new Headers({\n    \"x-sveltekit-page\": \"true\",\n    \"content-type\": \"text/html\"\n  });\n  if (state.prerendering) {\n    const http_equiv = [];\n    const csp_headers = csp.csp_provider.get_meta();\n    if (csp_headers) {\n      http_equiv.push(csp_headers);\n    }\n    if (state.prerendering.cache) {\n      http_equiv.push(`<meta http-equiv=\"cache-control\" content=\"${state.prerendering.cache}\">`);\n    }\n    if (http_equiv.length > 0) {\n      head = http_equiv.join(\"\\n\") + head;\n    }\n  } else {\n    const csp_header = csp.csp_provider.get_header();\n    if (csp_header) {\n      headers2.set(\"content-security-policy\", csp_header);\n    }\n    const report_only_header = csp.report_only_provider.get_header();\n    if (report_only_header) {\n      headers2.set(\"content-security-policy-report-only\", report_only_header);\n    }\n    if (link_headers.size) {\n      headers2.set(\"link\", Array.from(link_headers).join(\", \"));\n    }\n  }\n  head += rendered.head;\n  const html = options2.templates.app({\n    head,\n    body: body2,\n    assets: assets$1,\n    nonce: (\n      /** @type {string} */\n      csp.nonce\n    ),\n    env: public_env\n  });\n  const transformed = await resolve_opts.transformPageChunk({\n    html,\n    done: true\n  }) || \"\";\n  if (!chunks) {\n    headers2.set(\"etag\", `\"${hash(transformed)}\"`);\n  }\n  return !chunks ? text(transformed, {\n    status,\n    headers: headers2\n  }) : new Response(\n    new ReadableStream({\n      async start(controller) {\n        controller.enqueue(text_encoder.encode(transformed + \"\\n\"));\n        for await (const chunk of chunks) {\n          if (chunk.length) controller.enqueue(text_encoder.encode(chunk));\n        }\n        controller.close();\n      },\n      type: \"bytes\"\n    }),\n    {\n      headers: headers2\n    }\n  );\n}\nclass PageNodes {\n  data;\n  /**\n   * @param {Array<import('types').SSRNode | undefined>} nodes\n   */\n  constructor(nodes) {\n    this.data = nodes;\n  }\n  layouts() {\n    return this.data.slice(0, -1);\n  }\n  page() {\n    return this.data.at(-1);\n  }\n  validate() {\n    for (const layout of this.layouts()) {\n      if (layout) {\n        validate_layout_server_exports(\n          layout.server,\n          /** @type {string} */\n          layout.server_id\n        );\n        validate_layout_exports(\n          layout.universal,\n          /** @type {string} */\n          layout.universal_id\n        );\n      }\n    }\n    const page = this.page();\n    if (page) {\n      validate_page_server_exports(\n        page.server,\n        /** @type {string} */\n        page.server_id\n      );\n      validate_page_exports(\n        page.universal,\n        /** @type {string} */\n        page.universal_id\n      );\n    }\n  }\n  /**\n   * @template {'prerender' | 'ssr' | 'csr' | 'trailingSlash'} Option\n   * @param {Option} option\n   * @returns {Value | undefined}\n   */\n  #get_option(option) {\n    return this.data.reduce(\n      (value, node) => {\n        return node?.universal?.[option] ?? node?.server?.[option] ?? value;\n      },\n      /** @type {Value | undefined} */\n      void 0\n    );\n  }\n  csr() {\n    return this.#get_option(\"csr\") ?? true;\n  }\n  ssr() {\n    return this.#get_option(\"ssr\") ?? true;\n  }\n  prerender() {\n    return this.#get_option(\"prerender\") ?? false;\n  }\n  trailing_slash() {\n    return this.#get_option(\"trailingSlash\") ?? \"never\";\n  }\n  get_config() {\n    let current2 = {};\n    for (const node of this.data) {\n      if (!node?.universal?.config && !node?.server?.config) continue;\n      current2 = {\n        ...current2,\n        // TODO: should we override the server config value with the universal value similar to other page options?\n        ...node?.universal?.config,\n        ...node?.server?.config\n      };\n    }\n    return Object.keys(current2).length ? current2 : void 0;\n  }\n  should_prerender_data() {\n    return this.data.some(\n      // prerender in case of trailingSlash because the client retrieves that value from the server\n      (node) => node?.server?.load || node?.server?.trailingSlash !== void 0\n    );\n  }\n}\nasync function respond_with_error({\n  event,\n  event_state,\n  options: options2,\n  manifest,\n  state,\n  status,\n  error: error2,\n  resolve_opts\n}) {\n  if (event.request.headers.get(\"x-sveltekit-error\")) {\n    return static_error_page(\n      options2,\n      status,\n      /** @type {Error} */\n      error2.message\n    );\n  }\n  const fetched = [];\n  try {\n    const branch = [];\n    const default_layout = await manifest._.nodes[0]();\n    const nodes = new PageNodes([default_layout]);\n    const ssr = nodes.ssr();\n    const csr = nodes.csr();\n    const data_serializer = server_data_serializer(event, event_state, options2);\n    if (ssr) {\n      state.error = true;\n      const server_data_promise = load_server_data({\n        event,\n        event_state,\n        state,\n        node: default_layout,\n        // eslint-disable-next-line @typescript-eslint/require-await\n        parent: async () => ({})\n      });\n      const server_data = await server_data_promise;\n      data_serializer.add_node(0, server_data);\n      const data = await load_data({\n        event,\n        event_state,\n        fetched,\n        node: default_layout,\n        // eslint-disable-next-line @typescript-eslint/require-await\n        parent: async () => ({}),\n        resolve_opts,\n        server_data_promise,\n        state,\n        csr\n      });\n      branch.push(\n        {\n          node: default_layout,\n          server_data,\n          data\n        },\n        {\n          node: await manifest._.nodes[1](),\n          // 1 is always the root error\n          data: null,\n          server_data: null\n        }\n      );\n    }\n    return await render_response({\n      options: options2,\n      manifest,\n      state,\n      page_config: {\n        ssr,\n        csr\n      },\n      status,\n      error: await handle_error_and_jsonify(event, event_state, options2, error2),\n      branch,\n      fetched,\n      event,\n      event_state,\n      resolve_opts,\n      data_serializer\n    });\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return redirect_response(e.status, e.location);\n    }\n    return static_error_page(\n      options2,\n      get_status(e),\n      (await handle_error_and_jsonify(event, event_state, options2, e)).message\n    );\n  }\n}\nasync function handle_remote_call(event, state, options2, manifest, id) {\n  return record_span({\n    name: \"sveltekit.remote.call\",\n    attributes: {},\n    fn: (current2) => {\n      const traced_event = merge_tracing(event, current2);\n      return with_request_store(\n        { event: traced_event, state },\n        () => handle_remote_call_internal(traced_event, state, options2, manifest, id)\n      );\n    }\n  });\n}\nasync function handle_remote_call_internal(event, state, options2, manifest, id) {\n  const [hash2, name, additional_args] = id.split(\"/\");\n  const remotes = manifest._.remotes;\n  if (!remotes[hash2]) error(404);\n  const module = await remotes[hash2]();\n  const fn = module.default[name];\n  if (!fn) error(404);\n  const info = fn.__;\n  const transport = options2.hooks.transport;\n  event.tracing.current.setAttributes({\n    \"sveltekit.remote.call.type\": info.type,\n    \"sveltekit.remote.call.name\": info.name\n  });\n  let form_client_refreshes;\n  try {\n    if (info.type === \"query_batch\") {\n      if (event.request.method !== \"POST\") {\n        throw new SvelteKitError(\n          405,\n          \"Method Not Allowed\",\n          `\\`query.batch\\` functions must be invoked via POST request, not ${event.request.method}`\n        );\n      }\n      const { payloads } = await event.request.json();\n      const args = payloads.map((payload2) => parse_remote_arg(payload2, transport));\n      const get_result = await with_request_store({ event, state }, () => info.run(args));\n      const results = await Promise.all(\n        args.map(async (arg, i) => {\n          try {\n            return { type: \"result\", data: get_result(arg, i) };\n          } catch (error2) {\n            return {\n              type: \"error\",\n              error: await handle_error_and_jsonify(event, state, options2, error2),\n              status: error2 instanceof HttpError || error2 instanceof SvelteKitError ? error2.status : 500\n            };\n          }\n        })\n      );\n      return json(\n        /** @type {RemoteFunctionResponse} */\n        {\n          type: \"result\",\n          result: stringify(results, transport)\n        }\n      );\n    }\n    if (info.type === \"form\") {\n      if (event.request.method !== \"POST\") {\n        throw new SvelteKitError(\n          405,\n          \"Method Not Allowed\",\n          `\\`form\\` functions must be invoked via POST request, not ${event.request.method}`\n        );\n      }\n      if (!is_form_content_type(event.request)) {\n        throw new SvelteKitError(\n          415,\n          \"Unsupported Media Type\",\n          `\\`form\\` functions expect form-encoded data \u2014 received ${event.request.headers.get(\n            \"content-type\"\n          )}`\n        );\n      }\n      const form_data = await event.request.formData();\n      form_client_refreshes = /** @type {string[]} */\n      JSON.parse(\n        /** @type {string} */\n        form_data.get(\"sveltekit:remote_refreshes\") ?? \"[]\"\n      );\n      form_data.delete(\"sveltekit:remote_refreshes\");\n      if (additional_args) {\n        form_data.set(\"sveltekit:id\", decodeURIComponent(additional_args));\n      }\n      const fn2 = info.fn;\n      const data2 = await with_request_store({ event, state }, () => fn2(form_data));\n      return json(\n        /** @type {RemoteFunctionResponse} */\n        {\n          type: \"result\",\n          result: stringify(data2, transport),\n          refreshes: data2.issues ? {} : await serialize_refreshes(form_client_refreshes)\n        }\n      );\n    }\n    if (info.type === \"command\") {\n      const { payload: payload2, refreshes } = await event.request.json();\n      const arg = parse_remote_arg(payload2, transport);\n      const data2 = await with_request_store({ event, state }, () => fn(arg));\n      return json(\n        /** @type {RemoteFunctionResponse} */\n        {\n          type: \"result\",\n          result: stringify(data2, transport),\n          refreshes: await serialize_refreshes(refreshes)\n        }\n      );\n    }\n    const payload = info.type === \"prerender\" ? additional_args : (\n      /** @type {string} */\n      // new URL(...) necessary because we're hiding the URL from the user in the event object\n      new URL(event.request.url).searchParams.get(\"payload\")\n    );\n    const data = await with_request_store(\n      { event, state },\n      () => fn(parse_remote_arg(payload, transport))\n    );\n    return json(\n      /** @type {RemoteFunctionResponse} */\n      {\n        type: \"result\",\n        result: stringify(data, transport)\n      }\n    );\n  } catch (error2) {\n    if (error2 instanceof Redirect) {\n      return json(\n        /** @type {RemoteFunctionResponse} */\n        {\n          type: \"redirect\",\n          location: error2.location,\n          refreshes: await serialize_refreshes(form_client_refreshes ?? [])\n        }\n      );\n    }\n    const status = error2 instanceof HttpError || error2 instanceof SvelteKitError ? error2.status : 500;\n    return json(\n      /** @type {RemoteFunctionResponse} */\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, state, options2, error2),\n        status\n      },\n      {\n        // By setting a non-200 during prerendering we fail the prerender process (unless handleHttpError handles it).\n        // Errors at runtime will be passed to the client and are handled there\n        status: state.prerendering ? status : void 0,\n        headers: {\n          \"cache-control\": \"private, no-store\"\n        }\n      }\n    );\n  }\n  async function serialize_refreshes(client_refreshes) {\n    const refreshes = state.refreshes ?? {};\n    for (const key2 of client_refreshes) {\n      if (refreshes[key2] !== void 0) continue;\n      const [hash3, name2, payload] = key2.split(\"/\");\n      const loader = manifest._.remotes[hash3];\n      const fn2 = (await loader?.())?.default?.[name2];\n      if (!fn2) error(400, \"Bad Request\");\n      refreshes[key2] = with_request_store(\n        { event, state },\n        () => fn2(parse_remote_arg(payload, transport))\n      );\n    }\n    if (Object.keys(refreshes).length === 0) {\n      return void 0;\n    }\n    return stringify(\n      Object.fromEntries(\n        await Promise.all(\n          Object.entries(refreshes).map(async ([key2, promise]) => [key2, await promise])\n        )\n      ),\n      transport\n    );\n  }\n}\nasync function handle_remote_form_post(event, state, manifest, id) {\n  return record_span({\n    name: \"sveltekit.remote.form.post\",\n    attributes: {},\n    fn: (current2) => {\n      const traced_event = merge_tracing(event, current2);\n      return with_request_store(\n        { event: traced_event, state },\n        () => handle_remote_form_post_internal(traced_event, state, manifest, id)\n      );\n    }\n  });\n}\nasync function handle_remote_form_post_internal(event, state, manifest, id) {\n  const [hash2, name, action_id] = id.split(\"/\");\n  const remotes = manifest._.remotes;\n  const module = await remotes[hash2]?.();\n  let form = (\n    /** @type {RemoteForm<any, any>} */\n    module?.default[name]\n  );\n  if (!form) {\n    event.setHeaders({\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: \"GET\"\n    });\n    return {\n      type: \"error\",\n      error: new SvelteKitError(\n        405,\n        \"Method Not Allowed\",\n        `POST method not allowed. No form actions exist for ${\"this page\"}`\n      )\n    };\n  }\n  if (action_id) {\n    form = with_request_store({ event, state }, () => form.for(JSON.parse(action_id)));\n  }\n  try {\n    const form_data = await event.request.formData();\n    const fn = (\n      /** @type {RemoteInfo & { type: 'form' }} */\n      /** @type {any} */\n      form.__.fn\n    );\n    if (action_id && !form_data.has(\"id\")) {\n      form_data.set(\"sveltekit:id\", decodeURIComponent(action_id));\n    }\n    await with_request_store({ event, state }, () => fn(form_data));\n    return {\n      type: \"success\",\n      status: 200\n    };\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return {\n        type: \"redirect\",\n        status: err.status,\n        location: err.location\n      };\n    }\n    return {\n      type: \"error\",\n      error: check_incorrect_fail_use(err)\n    };\n  }\n}\nfunction get_remote_id(url) {\n  return url.pathname.startsWith(`${base}/${app_dir}/remote/`) && url.pathname.replace(`${base}/${app_dir}/remote/`, \"\");\n}\nfunction get_remote_action(url) {\n  return url.searchParams.get(\"/remote\");\n}\nconst MAX_DEPTH = 10;\nasync function render_page(event, event_state, page, options2, manifest, state, nodes, resolve_opts) {\n  if (state.depth > MAX_DEPTH) {\n    return text(`Not found: ${event.url.pathname}`, {\n      status: 404\n      // TODO in some cases this should be 500. not sure how to differentiate\n    });\n  }\n  if (is_action_json_request(event)) {\n    const node = await manifest._.nodes[page.leaf]();\n    return handle_action_json_request(event, event_state, options2, node?.server);\n  }\n  try {\n    const leaf_node = (\n      /** @type {import('types').SSRNode} */\n      nodes.page()\n    );\n    let status = 200;\n    let action_result = void 0;\n    if (is_action_request(event)) {\n      const remote_id = get_remote_action(event.url);\n      if (remote_id) {\n        action_result = await handle_remote_form_post(event, event_state, manifest, remote_id);\n      } else {\n        action_result = await handle_action_request(event, event_state, leaf_node.server);\n      }\n      if (action_result?.type === \"redirect\") {\n        return redirect_response(action_result.status, action_result.location);\n      }\n      if (action_result?.type === \"error\") {\n        status = get_status(action_result.error);\n      }\n      if (action_result?.type === \"failure\") {\n        status = action_result.status;\n      }\n    }\n    const should_prerender = nodes.prerender();\n    if (should_prerender) {\n      const mod = leaf_node.server;\n      if (mod?.actions) {\n        throw new Error(\"Cannot prerender pages with actions\");\n      }\n    } else if (state.prerendering) {\n      return new Response(void 0, {\n        status: 204\n      });\n    }\n    state.prerender_default = should_prerender;\n    const should_prerender_data = nodes.should_prerender_data();\n    const data_pathname = add_data_suffix(event.url.pathname);\n    const fetched = [];\n    const ssr = nodes.ssr();\n    const csr = nodes.csr();\n    if (ssr === false && !(state.prerendering && should_prerender_data)) {\n      if (BROWSER && action_result && !event.request.headers.has(\"x-sveltekit-action\")) ;\n      return await render_response({\n        branch: [],\n        fetched,\n        page_config: {\n          ssr: false,\n          csr\n        },\n        status,\n        error: null,\n        event,\n        event_state,\n        options: options2,\n        manifest,\n        state,\n        resolve_opts,\n        data_serializer: server_data_serializer(event, event_state, options2)\n      });\n    }\n    const branch = [];\n    let load_error = null;\n    const data_serializer = server_data_serializer(event, event_state, options2);\n    const data_serializer_json = state.prerendering && should_prerender_data ? server_data_serializer_json(event, event_state, options2) : null;\n    const server_promises = nodes.data.map((node, i) => {\n      if (load_error) {\n        throw load_error;\n      }\n      return Promise.resolve().then(async () => {\n        try {\n          if (node === leaf_node && action_result?.type === \"error\") {\n            throw action_result.error;\n          }\n          const server_data = await load_server_data({\n            event,\n            event_state,\n            state,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = await server_promises[j];\n                if (parent) Object.assign(data, parent.data);\n              }\n              return data;\n            }\n          });\n          if (node) {\n            data_serializer.add_node(i, server_data);\n          }\n          data_serializer_json?.add_node(i, server_data);\n          return server_data;\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    const load_promises = nodes.data.map((node, i) => {\n      if (load_error) throw load_error;\n      return Promise.resolve().then(async () => {\n        try {\n          return await load_data({\n            event,\n            event_state,\n            fetched,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                Object.assign(data, await load_promises[j]);\n              }\n              return data;\n            },\n            resolve_opts,\n            server_data_promise: server_promises[i],\n            state,\n            csr\n          });\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    for (const p of server_promises) p.catch(() => {\n    });\n    for (const p of load_promises) p.catch(() => {\n    });\n    for (let i = 0; i < nodes.data.length; i += 1) {\n      const node = nodes.data[i];\n      if (node) {\n        try {\n          const server_data = await server_promises[i];\n          const data = await load_promises[i];\n          branch.push({ node, server_data, data });\n        } catch (e) {\n          const err = normalize_error(e);\n          if (err instanceof Redirect) {\n            if (state.prerendering && should_prerender_data) {\n              const body2 = JSON.stringify({\n                type: \"redirect\",\n                location: err.location\n              });\n              state.prerendering.dependencies.set(data_pathname, {\n                response: text(body2),\n                body: body2\n              });\n            }\n            return redirect_response(err.status, err.location);\n          }\n          const status2 = get_status(err);\n          const error2 = await handle_error_and_jsonify(event, event_state, options2, err);\n          while (i--) {\n            if (page.errors[i]) {\n              const index = (\n                /** @type {number} */\n                page.errors[i]\n              );\n              const node2 = await manifest._.nodes[index]();\n              let j = i;\n              while (!branch[j]) j -= 1;\n              data_serializer.set_max_nodes(j + 1);\n              const layouts = compact(branch.slice(0, j + 1));\n              const nodes2 = new PageNodes(layouts.map((layout) => layout.node));\n              return await render_response({\n                event,\n                event_state,\n                options: options2,\n                manifest,\n                state,\n                resolve_opts,\n                page_config: {\n                  ssr: nodes2.ssr(),\n                  csr: nodes2.csr()\n                },\n                status: status2,\n                error: error2,\n                branch: layouts.concat({\n                  node: node2,\n                  data: null,\n                  server_data: null\n                }),\n                fetched,\n                data_serializer\n              });\n            }\n          }\n          return static_error_page(options2, status2, error2.message);\n        }\n      } else {\n        branch.push(null);\n      }\n    }\n    if (state.prerendering && data_serializer_json) {\n      let { data, chunks } = data_serializer_json.get_data();\n      if (chunks) {\n        for await (const chunk of chunks) {\n          data += chunk;\n        }\n      }\n      state.prerendering.dependencies.set(data_pathname, {\n        response: text(data),\n        body: data\n      });\n    }\n    return await render_response({\n      event,\n      event_state,\n      options: options2,\n      manifest,\n      state,\n      resolve_opts,\n      page_config: {\n        csr,\n        ssr\n      },\n      status,\n      error: null,\n      branch: ssr === false ? [] : compact(branch),\n      action_result,\n      fetched,\n      data_serializer: ssr === false ? server_data_serializer(event, event_state, options2) : data_serializer\n    });\n  } catch (e) {\n    return await respond_with_error({\n      event,\n      event_state,\n      options: options2,\n      manifest,\n      state,\n      status: 500,\n      error: e,\n      resolve_opts\n    });\n  }\n}\nfunction once(fn) {\n  let done = false;\n  let result;\n  return () => {\n    if (done) return result;\n    done = true;\n    return result = fn();\n  };\n}\nasync function render_data(event, event_state, route, options2, manifest, state, invalidated_data_nodes, trailing_slash) {\n  if (!route.page) {\n    return new Response(void 0, {\n      status: 404\n    });\n  }\n  try {\n    const node_ids = [...route.page.layouts, route.page.leaf];\n    const invalidated = invalidated_data_nodes ?? node_ids.map(() => true);\n    let aborted = false;\n    const url = new URL(event.url);\n    url.pathname = normalize_path(url.pathname, trailing_slash);\n    const new_event = { ...event, url };\n    const functions = node_ids.map((n, i) => {\n      return once(async () => {\n        try {\n          if (aborted) {\n            return (\n              /** @type {import('types').ServerDataSkippedNode} */\n              {\n                type: \"skip\"\n              }\n            );\n          }\n          const node = n == void 0 ? n : await manifest._.nodes[n]();\n          return load_server_data({\n            event: new_event,\n            event_state,\n            state,\n            node,\n            parent: async () => {\n              const data2 = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = (\n                  /** @type {import('types').ServerDataNode | null} */\n                  await functions[j]()\n                );\n                if (parent) {\n                  Object.assign(data2, parent.data);\n                }\n              }\n              return data2;\n            }\n          });\n        } catch (e) {\n          aborted = true;\n          throw e;\n        }\n      });\n    });\n    const promises = functions.map(async (fn, i) => {\n      if (!invalidated[i]) {\n        return (\n          /** @type {import('types').ServerDataSkippedNode} */\n          {\n            type: \"skip\"\n          }\n        );\n      }\n      return fn();\n    });\n    let length = promises.length;\n    const nodes = await Promise.all(\n      promises.map(\n        (p, i) => p.catch(async (error2) => {\n          if (error2 instanceof Redirect) {\n            throw error2;\n          }\n          length = Math.min(length, i + 1);\n          return (\n            /** @type {import('types').ServerErrorNode} */\n            {\n              type: \"error\",\n              error: await handle_error_and_jsonify(event, event_state, options2, error2),\n              status: error2 instanceof HttpError || error2 instanceof SvelteKitError ? error2.status : void 0\n            }\n          );\n        })\n      )\n    );\n    const data_serializer = server_data_serializer_json(event, event_state, options2);\n    for (let i = 0; i < nodes.length; i++) data_serializer.add_node(i, nodes[i]);\n    const { data, chunks } = data_serializer.get_data();\n    if (!chunks) {\n      return json_response(data);\n    }\n    return new Response(\n      new ReadableStream({\n        async start(controller) {\n          controller.enqueue(text_encoder.encode(data));\n          for await (const chunk of chunks) {\n            controller.enqueue(text_encoder.encode(chunk));\n          }\n          controller.close();\n        },\n        type: \"bytes\"\n      }),\n      {\n        headers: {\n          // we use a proprietary content type to prevent buffering.\n          // the `text` prefix makes it inspectable\n          \"content-type\": \"text/sveltekit-data\",\n          \"cache-control\": \"private, no-store\"\n        }\n      }\n    );\n  } catch (e) {\n    const error2 = normalize_error(e);\n    if (error2 instanceof Redirect) {\n      return redirect_json_response(error2);\n    } else {\n      return json_response(await handle_error_and_jsonify(event, event_state, options2, error2), 500);\n    }\n  }\n}\nfunction json_response(json2, status = 200) {\n  return text(typeof json2 === \"string\" ? json2 : JSON.stringify(json2), {\n    status,\n    headers: {\n      \"content-type\": \"application/json\",\n      \"cache-control\": \"private, no-store\"\n    }\n  });\n}\nfunction redirect_json_response(redirect) {\n  return json_response(\n    /** @type {import('types').ServerRedirectNode} */\n    {\n      type: \"redirect\",\n      location: redirect.location\n    }\n  );\n}\nconst INVALID_COOKIE_CHARACTER_REGEX = /[\\x00-\\x1F\\x7F()<>@,;:\"/[\\]?={} \\t]/;\nfunction validate_options(options2) {\n  if (options2?.path === void 0) {\n    throw new Error(\"You must specify a `path` when setting, deleting or serializing cookies\");\n  }\n}\nfunction generate_cookie_key(domain, path, name) {\n  return `${domain || \"\"}${path}?${encodeURIComponent(name)}`;\n}\nfunction get_cookies(request, url) {\n  const header = request.headers.get(\"cookie\") ?? \"\";\n  const initial_cookies = parse(header, { decode: (value) => value });\n  let normalized_url;\n  const new_cookies = /* @__PURE__ */ new Map();\n  const defaults = {\n    httpOnly: true,\n    sameSite: \"lax\",\n    secure: url.hostname === \"localhost\" && url.protocol === \"http:\" ? false : true\n  };\n  const cookies = {\n    // The JSDoc param annotations appearing below for get, set and delete\n    // are necessary to expose the `cookie` library types to\n    // typescript users. `@type {import('@sveltejs/kit').Cookies}` above is not\n    // sufficient to do so.\n    /**\n     * @param {string} name\n     * @param {import('cookie').CookieParseOptions} [opts]\n     */\n    get(name, opts) {\n      const best_match = Array.from(new_cookies.values()).filter((c) => {\n        return c.name === name && domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path);\n      }).sort((a, b) => b.options.path.length - a.options.path.length)[0];\n      if (best_match) {\n        return best_match.options.maxAge === 0 ? void 0 : best_match.value;\n      }\n      const req_cookies = parse(header, { decode: opts?.decode });\n      const cookie = req_cookies[name];\n      return cookie;\n    },\n    /**\n     * @param {import('cookie').CookieParseOptions} [opts]\n     */\n    getAll(opts) {\n      const cookies2 = parse(header, { decode: opts?.decode });\n      const lookup = /* @__PURE__ */ new Map();\n      for (const c of new_cookies.values()) {\n        if (domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path)) {\n          const existing = lookup.get(c.name);\n          if (!existing || c.options.path.length > existing.options.path.length) {\n            lookup.set(c.name, c);\n          }\n        }\n      }\n      for (const c of lookup.values()) {\n        cookies2[c.name] = c.value;\n      }\n      return Object.entries(cookies2).map(([name, value]) => ({ name, value }));\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     * @param {import('./page/types.js').Cookie['options']} options\n     */\n    set(name, value, options2) {\n      const illegal_characters = name.match(INVALID_COOKIE_CHARACTER_REGEX);\n      if (illegal_characters) {\n        console.warn(\n          `The cookie name \"${name}\" will be invalid in SvelteKit 3.0 as it contains ${illegal_characters.join(\n            \" and \"\n          )}. See RFC 2616 for more details https://datatracker.ietf.org/doc/html/rfc2616#section-2.2`\n        );\n      }\n      validate_options(options2);\n      set_internal(name, value, { ...defaults, ...options2 });\n    },\n    /**\n     * @param {string} name\n     *  @param {import('./page/types.js').Cookie['options']} options\n     */\n    delete(name, options2) {\n      validate_options(options2);\n      cookies.set(name, \"\", { ...options2, maxAge: 0 });\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     *  @param {import('./page/types.js').Cookie['options']} options\n     */\n    serialize(name, value, options2) {\n      validate_options(options2);\n      let path = options2.path;\n      if (!options2.domain || options2.domain === url.hostname) {\n        if (!normalized_url) {\n          throw new Error(\"Cannot serialize cookies until after the route is determined\");\n        }\n        path = resolve(normalized_url, path);\n      }\n      return serialize(name, value, { ...defaults, ...options2, path });\n    }\n  };\n  function get_cookie_header(destination, header2) {\n    const combined_cookies = {\n      // cookies sent by the user agent have lowest precedence\n      ...initial_cookies\n    };\n    for (const cookie of new_cookies.values()) {\n      if (!domain_matches(destination.hostname, cookie.options.domain)) continue;\n      if (!path_matches(destination.pathname, cookie.options.path)) continue;\n      const encoder = cookie.options.encode || encodeURIComponent;\n      combined_cookies[cookie.name] = encoder(cookie.value);\n    }\n    if (header2) {\n      const parsed = parse(header2, { decode: (value) => value });\n      for (const name in parsed) {\n        combined_cookies[name] = parsed[name];\n      }\n    }\n    return Object.entries(combined_cookies).map(([name, value]) => `${name}=${value}`).join(\"; \");\n  }\n  const internal_queue = [];\n  function set_internal(name, value, options2) {\n    if (!normalized_url) {\n      internal_queue.push(() => set_internal(name, value, options2));\n      return;\n    }\n    let path = options2.path;\n    if (!options2.domain || options2.domain === url.hostname) {\n      path = resolve(normalized_url, path);\n    }\n    const cookie_key = generate_cookie_key(options2.domain, path, name);\n    const cookie = { name, value, options: { ...options2, path } };\n    new_cookies.set(cookie_key, cookie);\n  }\n  function set_trailing_slash(trailing_slash) {\n    normalized_url = normalize_path(url.pathname, trailing_slash);\n    internal_queue.forEach((fn) => fn());\n  }\n  return { cookies, new_cookies, get_cookie_header, set_internal, set_trailing_slash };\n}\nfunction domain_matches(hostname, constraint) {\n  if (!constraint) return true;\n  const normalized = constraint[0] === \".\" ? constraint.slice(1) : constraint;\n  if (hostname === normalized) return true;\n  return hostname.endsWith(\".\" + normalized);\n}\nfunction path_matches(path, constraint) {\n  if (!constraint) return true;\n  const normalized = constraint.endsWith(\"/\") ? constraint.slice(0, -1) : constraint;\n  if (path === normalized) return true;\n  return path.startsWith(normalized + \"/\");\n}\nfunction add_cookies_to_headers(headers2, cookies) {\n  for (const new_cookie of cookies) {\n    const { name, value, options: options2 } = new_cookie;\n    headers2.append(\"set-cookie\", serialize(name, value, options2));\n    if (options2.path.endsWith(\".html\")) {\n      const path = add_data_suffix(options2.path);\n      headers2.append(\"set-cookie\", serialize(name, value, { ...options2, path }));\n    }\n  }\n}\nfunction create_fetch({ event, options: options2, manifest, state, get_cookie_header, set_internal }) {\n  const server_fetch = async (info, init2) => {\n    const original_request = normalize_fetch_input(info, init2, event.url);\n    let mode = (info instanceof Request ? info.mode : init2?.mode) ?? \"cors\";\n    let credentials = (info instanceof Request ? info.credentials : init2?.credentials) ?? \"same-origin\";\n    return options2.hooks.handleFetch({\n      event,\n      request: original_request,\n      fetch: async (info2, init3) => {\n        const request = normalize_fetch_input(info2, init3, event.url);\n        const url = new URL(request.url);\n        if (!request.headers.has(\"origin\")) {\n          request.headers.set(\"origin\", event.url.origin);\n        }\n        if (info2 !== original_request) {\n          mode = (info2 instanceof Request ? info2.mode : init3?.mode) ?? \"cors\";\n          credentials = (info2 instanceof Request ? info2.credentials : init3?.credentials) ?? \"same-origin\";\n        }\n        if ((request.method === \"GET\" || request.method === \"HEAD\") && (mode === \"no-cors\" && url.origin !== event.url.origin || url.origin === event.url.origin)) {\n          request.headers.delete(\"origin\");\n        }\n        if (url.origin !== event.url.origin) {\n          if (`.${url.hostname}`.endsWith(`.${event.url.hostname}`) && credentials !== \"omit\") {\n            const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n            if (cookie) request.headers.set(\"cookie\", cookie);\n          }\n          return fetch(request);\n        }\n        const prefix = assets || base;\n        const decoded = decodeURIComponent(url.pathname);\n        const filename = (decoded.startsWith(prefix) ? decoded.slice(prefix.length) : decoded).slice(1);\n        const filename_html = `${filename}/index.html`;\n        const is_asset = manifest.assets.has(filename) || filename in manifest._.server_assets;\n        const is_asset_html = manifest.assets.has(filename_html) || filename_html in manifest._.server_assets;\n        if (is_asset || is_asset_html) {\n          const file = is_asset ? filename : filename_html;\n          if (state.read) {\n            const type = is_asset ? manifest.mimeTypes[filename.slice(filename.lastIndexOf(\".\"))] : \"text/html\";\n            return new Response(state.read(file), {\n              headers: type ? { \"content-type\": type } : {}\n            });\n          } else if (read_implementation && file in manifest._.server_assets) {\n            const length = manifest._.server_assets[file];\n            const type = manifest.mimeTypes[file.slice(file.lastIndexOf(\".\"))];\n            return new Response(read_implementation(file), {\n              headers: {\n                \"Content-Length\": \"\" + length,\n                \"Content-Type\": type\n              }\n            });\n          }\n          return await fetch(request);\n        }\n        if (has_prerendered_path(manifest, base + decoded)) {\n          return await fetch(request);\n        }\n        if (credentials !== \"omit\") {\n          const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n          if (cookie) {\n            request.headers.set(\"cookie\", cookie);\n          }\n          const authorization = event.request.headers.get(\"authorization\");\n          if (authorization && !request.headers.has(\"authorization\")) {\n            request.headers.set(\"authorization\", authorization);\n          }\n        }\n        if (!request.headers.has(\"accept\")) {\n          request.headers.set(\"accept\", \"*/*\");\n        }\n        if (!request.headers.has(\"accept-language\")) {\n          request.headers.set(\n            \"accept-language\",\n            /** @type {string} */\n            event.request.headers.get(\"accept-language\")\n          );\n        }\n        const response = await internal_fetch(request, options2, manifest, state);\n        const set_cookie = response.headers.get(\"set-cookie\");\n        if (set_cookie) {\n          for (const str of set_cookie_parser.splitCookiesString(set_cookie)) {\n            const { name, value, ...options3 } = set_cookie_parser.parseString(str, {\n              decodeValues: false\n            });\n            const path = options3.path ?? (url.pathname.split(\"/\").slice(0, -1).join(\"/\") || \"/\");\n            set_internal(name, value, {\n              path,\n              encode: (value2) => value2,\n              .../** @type {import('cookie').CookieSerializeOptions} */\n              options3\n            });\n          }\n        }\n        return response;\n      }\n    });\n  };\n  return (input, init2) => {\n    const response = server_fetch(input, init2);\n    response.catch(() => {\n    });\n    return response;\n  };\n}\nfunction normalize_fetch_input(info, init2, url) {\n  if (info instanceof Request) {\n    return info;\n  }\n  return new Request(typeof info === \"string\" ? new URL(info, url) : info, init2);\n}\nasync function internal_fetch(request, options2, manifest, state) {\n  if (request.signal) {\n    if (request.signal.aborted) {\n      throw new DOMException(\"The operation was aborted.\", \"AbortError\");\n    }\n    let remove_abort_listener = () => {\n    };\n    const abort_promise = new Promise((_, reject) => {\n      const on_abort = () => {\n        reject(new DOMException(\"The operation was aborted.\", \"AbortError\"));\n      };\n      request.signal.addEventListener(\"abort\", on_abort, { once: true });\n      remove_abort_listener = () => request.signal.removeEventListener(\"abort\", on_abort);\n    });\n    const result = await Promise.race([\n      respond(request, options2, manifest, {\n        ...state,\n        depth: state.depth + 1\n      }),\n      abort_promise\n    ]);\n    remove_abort_listener();\n    return result;\n  } else {\n    return await respond(request, options2, manifest, {\n      ...state,\n      depth: state.depth + 1\n    });\n  }\n}\nlet body;\nlet etag;\nlet headers;\nfunction get_public_env(request) {\n  body ??= `export const env=${JSON.stringify(public_env)}`;\n  etag ??= `W/${Date.now()}`;\n  headers ??= new Headers({\n    \"content-type\": \"application/javascript; charset=utf-8\",\n    etag\n  });\n  if (request.headers.get(\"if-none-match\") === etag) {\n    return new Response(void 0, { status: 304, headers });\n  }\n  return new Response(body, { headers });\n}\nconst default_transform = ({ html }) => html;\nconst default_filter = () => false;\nconst default_preload = ({ type }) => type === \"js\" || type === \"css\";\nconst page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"POST\"]);\nconst allowed_page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"OPTIONS\"]);\nlet warned_on_devtools_json_request = false;\nconst respond = propagate_context(internal_respond);\nasync function internal_respond(request, options2, manifest, state) {\n  const url = new URL(request.url);\n  const is_route_resolution_request = has_resolution_suffix(url.pathname);\n  const is_data_request = has_data_suffix(url.pathname);\n  const remote_id = get_remote_id(url);\n  {\n    const request_origin = request.headers.get(\"origin\");\n    if (remote_id) {\n      if (request.method !== \"GET\" && request_origin !== url.origin) {\n        const message = \"Cross-site remote requests are forbidden\";\n        return json({ message }, { status: 403 });\n      }\n    } else if (options2.csrf_check_origin) {\n      const forbidden = is_form_content_type(request) && (request.method === \"POST\" || request.method === \"PUT\" || request.method === \"PATCH\" || request.method === \"DELETE\") && request_origin !== url.origin && (!request_origin || !options2.csrf_trusted_origins.includes(request_origin));\n      if (forbidden) {\n        const message = `Cross-site ${request.method} form submissions are forbidden`;\n        const opts = { status: 403 };\n        if (request.headers.get(\"accept\") === \"application/json\") {\n          return json({ message }, opts);\n        }\n        return text(message, opts);\n      }\n    }\n  }\n  if (options2.hash_routing && url.pathname !== base + \"/\" && url.pathname !== \"/[fallback]\") {\n    return text(\"Not found\", { status: 404 });\n  }\n  let invalidated_data_nodes;\n  if (is_route_resolution_request) {\n    url.pathname = strip_resolution_suffix(url.pathname);\n  } else if (is_data_request) {\n    url.pathname = strip_data_suffix(url.pathname) + (url.searchParams.get(TRAILING_SLASH_PARAM) === \"1\" ? \"/\" : \"\") || \"/\";\n    url.searchParams.delete(TRAILING_SLASH_PARAM);\n    invalidated_data_nodes = url.searchParams.get(INVALIDATED_PARAM)?.split(\"\").map((node) => node === \"1\");\n    url.searchParams.delete(INVALIDATED_PARAM);\n  } else if (remote_id) {\n    url.pathname = request.headers.get(\"x-sveltekit-pathname\") ?? base;\n    url.search = request.headers.get(\"x-sveltekit-search\") ?? \"\";\n  }\n  const headers2 = {};\n  const { cookies, new_cookies, get_cookie_header, set_internal, set_trailing_slash } = get_cookies(\n    request,\n    url\n  );\n  const event_state = {\n    prerendering: state.prerendering,\n    transport: options2.hooks.transport,\n    handleValidationError: options2.hooks.handleValidationError,\n    tracing: {\n      record_span\n    },\n    is_in_remote_function: false\n  };\n  const event = {\n    cookies,\n    // @ts-expect-error `fetch` needs to be created after the `event` itself\n    fetch: null,\n    getClientAddress: state.getClientAddress || (() => {\n      throw new Error(\n        `${\"@sveltejs/adapter-cloudflare\"} does not specify getClientAddress. Please raise an issue`\n      );\n    }),\n    locals: {},\n    params: {},\n    platform: state.platform,\n    request,\n    route: { id: null },\n    setHeaders: (new_headers) => {\n      for (const key2 in new_headers) {\n        const lower = key2.toLowerCase();\n        const value = new_headers[key2];\n        if (lower === \"set-cookie\") {\n          throw new Error(\n            \"Use `event.cookies.set(name, value, options)` instead of `event.setHeaders` to set cookies\"\n          );\n        } else if (lower in headers2) {\n          throw new Error(`\"${key2}\" header is already set`);\n        } else {\n          headers2[lower] = value;\n          if (state.prerendering && lower === \"cache-control\") {\n            state.prerendering.cache = /** @type {string} */\n            value;\n          }\n        }\n      }\n    },\n    url,\n    isDataRequest: is_data_request,\n    isSubRequest: state.depth > 0,\n    isRemoteRequest: !!remote_id\n  };\n  event.fetch = create_fetch({\n    event,\n    options: options2,\n    manifest,\n    state,\n    get_cookie_header,\n    set_internal\n  });\n  if (state.emulator?.platform) {\n    event.platform = await state.emulator.platform({\n      config: {},\n      prerender: !!state.prerendering?.fallback\n    });\n  }\n  let resolved_path = url.pathname;\n  if (!remote_id) {\n    const prerendering_reroute_state = state.prerendering?.inside_reroute;\n    try {\n      if (state.prerendering) state.prerendering.inside_reroute = true;\n      resolved_path = await options2.hooks.reroute({ url: new URL(url), fetch: event.fetch }) ?? url.pathname;\n    } catch {\n      return text(\"Internal Server Error\", {\n        status: 500\n      });\n    } finally {\n      if (state.prerendering) state.prerendering.inside_reroute = prerendering_reroute_state;\n    }\n  }\n  try {\n    resolved_path = decode_pathname(resolved_path);\n  } catch {\n    return text(\"Malformed URI\", { status: 400 });\n  }\n  if (resolved_path !== url.pathname && !state.prerendering?.fallback && has_prerendered_path(manifest, resolved_path)) {\n    const url2 = new URL(request.url);\n    url2.pathname = is_data_request ? add_data_suffix(resolved_path) : is_route_resolution_request ? add_resolution_suffix(resolved_path) : resolved_path;\n    const response = await fetch(url2, request);\n    const headers22 = new Headers(response.headers);\n    if (headers22.has(\"content-encoding\")) {\n      headers22.delete(\"content-encoding\");\n      headers22.delete(\"content-length\");\n    }\n    return new Response(response.body, {\n      headers: headers22,\n      status: response.status,\n      statusText: response.statusText\n    });\n  }\n  let route = null;\n  if (base && !state.prerendering?.fallback) {\n    if (!resolved_path.startsWith(base)) {\n      return text(\"Not found\", { status: 404 });\n    }\n    resolved_path = resolved_path.slice(base.length) || \"/\";\n  }\n  if (is_route_resolution_request) {\n    return resolve_route(resolved_path, new URL(request.url), manifest);\n  }\n  if (resolved_path === `/${app_dir}/env.js`) {\n    return get_public_env(request);\n  }\n  if (!remote_id && resolved_path.startsWith(`/${app_dir}`)) {\n    const headers22 = new Headers();\n    headers22.set(\"cache-control\", \"public, max-age=0, must-revalidate\");\n    return text(\"Not found\", { status: 404, headers: headers22 });\n  }\n  if (!state.prerendering?.fallback) {\n    const matchers = await manifest._.matchers();\n    for (const candidate of manifest._.routes) {\n      const match = candidate.pattern.exec(resolved_path);\n      if (!match) continue;\n      const matched = exec(match, candidate.params, matchers);\n      if (matched) {\n        route = candidate;\n        event.route = { id: route.id };\n        event.params = decode_params(matched);\n        break;\n      }\n    }\n  }\n  let resolve_opts = {\n    transformPageChunk: default_transform,\n    filterSerializedResponseHeaders: default_filter,\n    preload: default_preload\n  };\n  let trailing_slash = \"never\";\n  try {\n    const page_nodes = route?.page ? new PageNodes(await load_page_nodes(route.page, manifest)) : void 0;\n    if (route && !remote_id) {\n      if (url.pathname === base || url.pathname === base + \"/\") {\n        trailing_slash = \"always\";\n      } else if (page_nodes) {\n        if (BROWSER) ;\n        trailing_slash = page_nodes.trailing_slash();\n      } else if (route.endpoint) {\n        const node = await route.endpoint();\n        trailing_slash = node.trailingSlash ?? \"never\";\n        if (BROWSER) ;\n      }\n      if (!is_data_request) {\n        const normalized = normalize_path(url.pathname, trailing_slash);\n        if (normalized !== url.pathname && !state.prerendering?.fallback) {\n          return new Response(void 0, {\n            status: 308,\n            headers: {\n              \"x-sveltekit-normalize\": \"1\",\n              location: (\n                // ensure paths starting with '//' are not treated as protocol-relative\n                (normalized.startsWith(\"//\") ? url.origin + normalized : normalized) + (url.search === \"?\" ? \"\" : url.search)\n              )\n            }\n          });\n        }\n      }\n      if (state.before_handle || state.emulator?.platform) {\n        let config = {};\n        let prerender = false;\n        if (route.endpoint) {\n          const node = await route.endpoint();\n          config = node.config ?? config;\n          prerender = node.prerender ?? prerender;\n        } else if (page_nodes) {\n          config = page_nodes.get_config() ?? config;\n          prerender = page_nodes.prerender();\n        }\n        if (state.before_handle) {\n          state.before_handle(event, config, prerender);\n        }\n        if (state.emulator?.platform) {\n          event.platform = await state.emulator.platform({ config, prerender });\n        }\n      }\n    }\n    set_trailing_slash(trailing_slash);\n    if (state.prerendering && !state.prerendering.fallback && !state.prerendering.inside_reroute) {\n      disable_search(url);\n    }\n    const response = await record_span({\n      name: \"sveltekit.handle.root\",\n      attributes: {\n        \"http.route\": event.route.id || \"unknown\",\n        \"http.method\": event.request.method,\n        \"http.url\": event.url.href,\n        \"sveltekit.is_data_request\": is_data_request,\n        \"sveltekit.is_sub_request\": event.isSubRequest\n      },\n      fn: async (root_span) => {\n        const traced_event = {\n          ...event,\n          tracing: {\n            enabled: false,\n            root: root_span,\n            current: root_span\n          }\n        };\n        return await with_request_store(\n          { event: traced_event, state: event_state },\n          () => options2.hooks.handle({\n            event: traced_event,\n            resolve: (event2, opts) => {\n              return record_span({\n                name: \"sveltekit.resolve\",\n                attributes: {\n                  \"http.route\": event2.route.id || \"unknown\"\n                },\n                fn: (resolve_span) => {\n                  return with_request_store(\n                    null,\n                    () => resolve2(merge_tracing(event2, resolve_span), page_nodes, opts).then(\n                      (response2) => {\n                        for (const key2 in headers2) {\n                          const value = headers2[key2];\n                          response2.headers.set(\n                            key2,\n                            /** @type {string} */\n                            value\n                          );\n                        }\n                        add_cookies_to_headers(response2.headers, new_cookies.values());\n                        if (state.prerendering && event2.route.id !== null) {\n                          response2.headers.set(\"x-sveltekit-routeid\", encodeURI(event2.route.id));\n                        }\n                        resolve_span.setAttributes({\n                          \"http.response.status_code\": response2.status,\n                          \"http.response.body.size\": response2.headers.get(\"content-length\") || \"unknown\"\n                        });\n                        return response2;\n                      }\n                    )\n                  );\n                }\n              });\n            }\n          })\n        );\n      }\n    });\n    if (response.status === 200 && response.headers.has(\"etag\")) {\n      let if_none_match_value = request.headers.get(\"if-none-match\");\n      if (if_none_match_value?.startsWith('W/\"')) {\n        if_none_match_value = if_none_match_value.substring(2);\n      }\n      const etag2 = (\n        /** @type {string} */\n        response.headers.get(\"etag\")\n      );\n      if (if_none_match_value === etag2) {\n        const headers22 = new Headers({ etag: etag2 });\n        for (const key2 of [\n          \"cache-control\",\n          \"content-location\",\n          \"date\",\n          \"expires\",\n          \"vary\",\n          \"set-cookie\"\n        ]) {\n          const value = response.headers.get(key2);\n          if (value) headers22.set(key2, value);\n        }\n        return new Response(void 0, {\n          status: 304,\n          headers: headers22\n        });\n      }\n    }\n    if (is_data_request && response.status >= 300 && response.status <= 308) {\n      const location = response.headers.get(\"location\");\n      if (location) {\n        return redirect_json_response(new Redirect(\n          /** @type {any} */\n          response.status,\n          location\n        ));\n      }\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      const response = is_data_request || remote_id ? redirect_json_response(e) : route?.page && is_action_json_request(event) ? action_json_redirect(e) : redirect_response(e.status, e.location);\n      add_cookies_to_headers(response.headers, new_cookies.values());\n      return response;\n    }\n    return await handle_fatal_error(event, event_state, options2, e);\n  }\n  async function resolve2(event2, page_nodes, opts) {\n    try {\n      if (opts) {\n        resolve_opts = {\n          transformPageChunk: opts.transformPageChunk || default_transform,\n          filterSerializedResponseHeaders: opts.filterSerializedResponseHeaders || default_filter,\n          preload: opts.preload || default_preload\n        };\n      }\n      if (options2.hash_routing || state.prerendering?.fallback) {\n        return await render_response({\n          event: event2,\n          event_state,\n          options: options2,\n          manifest,\n          state,\n          page_config: { ssr: false, csr: true },\n          status: 200,\n          error: null,\n          branch: [],\n          fetched: [],\n          resolve_opts,\n          data_serializer: server_data_serializer(event2, event_state, options2)\n        });\n      }\n      if (remote_id) {\n        return await handle_remote_call(event2, event_state, options2, manifest, remote_id);\n      }\n      if (route) {\n        const method = (\n          /** @type {import('types').HttpMethod} */\n          event2.request.method\n        );\n        let response2;\n        if (is_data_request) {\n          response2 = await render_data(\n            event2,\n            event_state,\n            route,\n            options2,\n            manifest,\n            state,\n            invalidated_data_nodes,\n            trailing_slash\n          );\n        } else if (route.endpoint && (!route.page || is_endpoint_request(event2))) {\n          response2 = await render_endpoint(event2, event_state, await route.endpoint(), state);\n        } else if (route.page) {\n          if (!page_nodes) {\n            throw new Error(\"page_nodes not found. This should never happen\");\n          } else if (page_methods.has(method)) {\n            response2 = await render_page(\n              event2,\n              event_state,\n              route.page,\n              options2,\n              manifest,\n              state,\n              page_nodes,\n              resolve_opts\n            );\n          } else {\n            const allowed_methods2 = new Set(allowed_page_methods);\n            const node = await manifest._.nodes[route.page.leaf]();\n            if (node?.server?.actions) {\n              allowed_methods2.add(\"POST\");\n            }\n            if (method === \"OPTIONS\") {\n              response2 = new Response(null, {\n                status: 204,\n                headers: {\n                  allow: Array.from(allowed_methods2.values()).join(\", \")\n                }\n              });\n            } else {\n              const mod = [...allowed_methods2].reduce(\n                (acc, curr) => {\n                  acc[curr] = true;\n                  return acc;\n                },\n                /** @type {Record<string, any>} */\n                {}\n              );\n              response2 = method_not_allowed(mod, method);\n            }\n          }\n        } else {\n          throw new Error(\"Route is neither page nor endpoint. This should never happen\");\n        }\n        if (request.method === \"GET\" && route.page && route.endpoint) {\n          const vary = response2.headers.get(\"vary\")?.split(\",\")?.map((v) => v.trim().toLowerCase());\n          if (!(vary?.includes(\"accept\") || vary?.includes(\"*\"))) {\n            response2 = new Response(response2.body, {\n              status: response2.status,\n              statusText: response2.statusText,\n              headers: new Headers(response2.headers)\n            });\n            response2.headers.append(\"Vary\", \"Accept\");\n          }\n        }\n        return response2;\n      }\n      if (state.error && event2.isSubRequest) {\n        const headers22 = new Headers(request.headers);\n        headers22.set(\"x-sveltekit-error\", \"true\");\n        return await fetch(request, { headers: headers22 });\n      }\n      if (state.error) {\n        return text(\"Internal Server Error\", {\n          status: 500\n        });\n      }\n      if (state.depth === 0) {\n        if (BROWSER && event2.url.pathname === \"/.well-known/appspecific/com.chrome.devtools.json\") ;\n        return await respond_with_error({\n          event: event2,\n          event_state,\n          options: options2,\n          manifest,\n          state,\n          status: 404,\n          error: new SvelteKitError(404, \"Not Found\", `Not found: ${event2.url.pathname}`),\n          resolve_opts\n        });\n      }\n      if (state.prerendering) {\n        return text(\"not found\", { status: 404 });\n      }\n      const response = await fetch(request);\n      return new Response(response.body, response);\n    } catch (e) {\n      return await handle_fatal_error(event2, event_state, options2, e);\n    } finally {\n      event2.cookies.set = () => {\n        throw new Error(\"Cannot use `cookies.set(...)` after the response has been generated\");\n      };\n      event2.setHeaders = () => {\n        throw new Error(\"Cannot use `setHeaders(...)` after the response has been generated\");\n      };\n    }\n  }\n}\nfunction load_page_nodes(page, manifest) {\n  return Promise.all([\n    // we use == here rather than === because [undefined] serializes as \"[null]\"\n    ...page.layouts.map((n) => n == void 0 ? n : manifest._.nodes[n]()),\n    manifest._.nodes[page.leaf]()\n  ]);\n}\nfunction propagate_context(fn) {\n  return async (req, ...rest) => {\n    {\n      return fn(req, ...rest);\n    }\n  };\n}\nfunction filter_env(env, allowed, disallowed) {\n  return Object.fromEntries(\n    Object.entries(env).filter(\n      ([k]) => k.startsWith(allowed) && (disallowed === \"\" || !k.startsWith(disallowed))\n    )\n  );\n}\nfunction set_app(value) {\n}\nlet init_promise;\nlet current = null;\nclass Server {\n  /** @type {import('types').SSROptions} */\n  #options;\n  /** @type {import('@sveltejs/kit').SSRManifest} */\n  #manifest;\n  /** @param {import('@sveltejs/kit').SSRManifest} manifest */\n  constructor(manifest) {\n    this.#options = options;\n    this.#manifest = manifest;\n    if (IN_WEBCONTAINER) {\n      const respond2 = this.respond.bind(this);\n      this.respond = async (...args) => {\n        const { promise, resolve: resolve2 } = (\n          /** @type {PromiseWithResolvers<void>} */\n          with_resolvers()\n        );\n        const previous = current;\n        current = promise;\n        await previous;\n        return respond2(...args).finally(resolve2);\n      };\n    }\n  }\n  /**\n   * @param {import('@sveltejs/kit').ServerInitOptions} opts\n   */\n  async init({ env, read }) {\n    const { env_public_prefix, env_private_prefix } = this.#options;\n    set_private_env(filter_env(env, env_private_prefix, env_public_prefix));\n    set_public_env(filter_env(env, env_public_prefix, env_private_prefix));\n    if (read) {\n      const wrapped_read = (file) => {\n        const result = read(file);\n        if (result instanceof ReadableStream) {\n          return result;\n        } else {\n          return new ReadableStream({\n            async start(controller) {\n              try {\n                const stream = await Promise.resolve(result);\n                if (!stream) {\n                  controller.close();\n                  return;\n                }\n                const reader = stream.getReader();\n                while (true) {\n                  const { done, value } = await reader.read();\n                  if (done) break;\n                  controller.enqueue(value);\n                }\n                controller.close();\n              } catch (error2) {\n                controller.error(error2);\n              }\n            }\n          });\n        }\n      };\n      set_read_implementation(wrapped_read);\n    }\n    await (init_promise ??= (async () => {\n      try {\n        const module = await get_hooks();\n        this.#options.hooks = {\n          handle: module.handle || (({ event, resolve: resolve2 }) => resolve2(event)),\n          handleError: module.handleError || (({ status, error: error2, event }) => {\n            const error_message = format_server_error(\n              status,\n              /** @type {Error} */\n              error2,\n              event\n            );\n            console.error(error_message);\n          }),\n          handleFetch: module.handleFetch || (({ request, fetch: fetch2 }) => fetch2(request)),\n          handleValidationError: module.handleValidationError || (({ issues }) => {\n            console.error(\"Remote function schema validation failed:\", issues);\n            return { message: \"Bad Request\" };\n          }),\n          reroute: module.reroute || (() => {\n          }),\n          transport: module.transport || {}\n        };\n        set_app({\n          decoders: module.transport ? Object.fromEntries(Object.entries(module.transport).map(([k, v]) => [k, v.decode])) : {}\n        });\n        if (module.init) {\n          await module.init();\n        }\n      } catch (e) {\n        {\n          throw e;\n        }\n      }\n    })());\n  }\n  /**\n   * @param {Request} request\n   * @param {import('types').RequestOptions} options\n   */\n  async respond(request, options2) {\n    return respond(request, this.#options, this.#manifest, {\n      ...options2,\n      error: false,\n      depth: 0\n    });\n  }\n}\nexport {\n  Server\n};\n", "/** @type {Record<string, string>} */\nexport const escaped = {\n\t'<': '\\\\u003C',\n\t'\\\\': '\\\\\\\\',\n\t'\\b': '\\\\b',\n\t'\\f': '\\\\f',\n\t'\\n': '\\\\n',\n\t'\\r': '\\\\r',\n\t'\\t': '\\\\t',\n\t'\\u2028': '\\\\u2028',\n\t'\\u2029': '\\\\u2029'\n};\n\nexport class DevalueError extends Error {\n\t/**\n\t * @param {string} message\n\t * @param {string[]} keys\n\t */\n\tconstructor(message, keys) {\n\t\tsuper(message);\n\t\tthis.name = 'DevalueError';\n\t\tthis.path = keys.join('');\n\t}\n}\n\n/** @param {any} thing */\nexport function is_primitive(thing) {\n\treturn Object(thing) !== thing;\n}\n\nconst object_proto_names = /* @__PURE__ */ Object.getOwnPropertyNames(\n\tObject.prototype\n)\n\t.sort()\n\t.join('\\0');\n\n/** @param {any} thing */\nexport function is_plain_object(thing) {\n\tconst proto = Object.getPrototypeOf(thing);\n\n\treturn (\n\t\tproto === Object.prototype ||\n\t\tproto === null ||\n\t\tObject.getPrototypeOf(proto) === null ||\n\t\tObject.getOwnPropertyNames(proto).sort().join('\\0') === object_proto_names\n\t);\n}\n\n/** @param {any} thing */\nexport function get_type(thing) {\n\treturn Object.prototype.toString.call(thing).slice(8, -1);\n}\n\n/** @param {string} char */\nfunction get_escaped_char(char) {\n\tswitch (char) {\n\t\tcase '\"':\n\t\t\treturn '\\\\\"';\n\t\tcase '<':\n\t\t\treturn '\\\\u003C';\n\t\tcase '\\\\':\n\t\t\treturn '\\\\\\\\';\n\t\tcase '\\n':\n\t\t\treturn '\\\\n';\n\t\tcase '\\r':\n\t\t\treturn '\\\\r';\n\t\tcase '\\t':\n\t\t\treturn '\\\\t';\n\t\tcase '\\b':\n\t\t\treturn '\\\\b';\n\t\tcase '\\f':\n\t\t\treturn '\\\\f';\n\t\tcase '\\u2028':\n\t\t\treturn '\\\\u2028';\n\t\tcase '\\u2029':\n\t\t\treturn '\\\\u2029';\n\t\tdefault:\n\t\t\treturn char < ' '\n\t\t\t\t? `\\\\u${char.charCodeAt(0).toString(16).padStart(4, '0')}`\n\t\t\t\t: '';\n\t}\n}\n\n/** @param {string} str */\nexport function stringify_string(str) {\n\tlet result = '';\n\tlet last_pos = 0;\n\tconst len = str.length;\n\n\tfor (let i = 0; i < len; i += 1) {\n\t\tconst char = str[i];\n\t\tconst replacement = get_escaped_char(char);\n\t\tif (replacement) {\n\t\t\tresult += str.slice(last_pos, i) + replacement;\n\t\t\tlast_pos = i + 1;\n\t\t}\n\t}\n\n\treturn `\"${last_pos === 0 ? str : result + str.slice(last_pos)}\"`;\n}\n\n/** @param {Record<string | symbol, any>} object */\nexport function enumerable_symbols(object) {\n\treturn Object.getOwnPropertySymbols(object).filter(\n\t\t(symbol) => Object.getOwnPropertyDescriptor(object, symbol).enumerable\n\t);\n}\n\nconst is_identifier = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;\n\n/** @param {string} key */\nexport function stringify_key(key) {\n\treturn is_identifier.test(key) ? '.' + key : '[' + JSON.stringify(key) + ']';\n}\n", "import {\n\tDevalueError,\n\tenumerable_symbols,\n\tescaped,\n\tget_type,\n\tis_plain_object,\n\tis_primitive,\n\tstringify_key,\n\tstringify_string\n} from './utils.js';\n\nconst chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$';\nconst unsafe_chars = /[<\\b\\f\\n\\r\\t\\0\\u2028\\u2029]/g;\nconst reserved =\n\t/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;\n\n/**\n * Turn a value into the JavaScript that creates an equivalent value\n * @param {any} value\n * @param {(value: any, uneval: (value: any) => string) => string | void} [replacer]\n */\nexport function uneval(value, replacer) {\n\tconst counts = new Map();\n\n\t/** @type {string[]} */\n\tconst keys = [];\n\n\tconst custom = new Map();\n\n\t/** @param {any} thing */\n\tfunction walk(thing) {\n\t\tif (typeof thing === 'function') {\n\t\t\tthrow new DevalueError(`Cannot stringify a function`, keys);\n\t\t}\n\n\t\tif (!is_primitive(thing)) {\n\t\t\tif (counts.has(thing)) {\n\t\t\t\tcounts.set(thing, counts.get(thing) + 1);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcounts.set(thing, 1);\n\n\t\t\tif (replacer) {\n\t\t\t\tconst str = replacer(thing, (value) => uneval(value, replacer));\n\n\t\t\t\tif (typeof str === 'string') {\n\t\t\t\t\tcustom.set(thing, str);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst type = get_type(thing);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'BigInt':\n\t\t\t\tcase 'String':\n\t\t\t\tcase 'Boolean':\n\t\t\t\tcase 'Date':\n\t\t\t\tcase 'RegExp':\n\t\t\t\tcase 'URL':\n\t\t\t\tcase 'URLSearchParams':\n\t\t\t\t\treturn;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\t/** @type {any[]} */ (thing).forEach((value, i) => {\n\t\t\t\t\t\tkeys.push(`[${i}]`);\n\t\t\t\t\t\twalk(value);\n\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Set':\n\t\t\t\t\tArray.from(thing).forEach(walk);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Map':\n\t\t\t\t\tfor (const [key, value] of thing) {\n\t\t\t\t\t\tkeys.push(\n\t\t\t\t\t\t\t`.get(${is_primitive(key) ? stringify_primitive(key) : '...'})`\n\t\t\t\t\t\t);\n\t\t\t\t\t\twalk(value);\n\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Int8Array':\n\t\t\t\tcase 'Uint8Array':\n\t\t\t\tcase 'Uint8ClampedArray':\n\t\t\t\tcase 'Int16Array':\n\t\t\t\tcase 'Uint16Array':\n\t\t\t\tcase 'Int32Array':\n\t\t\t\tcase 'Uint32Array':\n\t\t\t\tcase 'Float32Array':\n\t\t\t\tcase 'Float64Array':\n\t\t\t\tcase 'BigInt64Array':\n\t\t\t\tcase 'BigUint64Array':\n\t\t\t\t\twalk(thing.buffer);\n\t\t\t\t\treturn;\n\n\t\t\t\tcase 'ArrayBuffer':\n\t\t\t\t\treturn;\n\n\t\t\t\tcase 'Temporal.Duration':\n\t\t\t\tcase 'Temporal.Instant':\n\t\t\t\tcase 'Temporal.PlainDate':\n\t\t\t\tcase 'Temporal.PlainTime':\n\t\t\t\tcase 'Temporal.PlainDateTime':\n\t\t\t\tcase 'Temporal.PlainMonthDay':\n\t\t\t\tcase 'Temporal.PlainYearMonth':\n\t\t\t\tcase 'Temporal.ZonedDateTime':\n\t\t\t\t\treturn;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (!is_plain_object(thing)) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify arbitrary non-POJOs`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (enumerable_symbols(thing).length > 0) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify POJOs with symbolic keys`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const key in thing) {\n\t\t\t\t\t\tkeys.push(stringify_key(key));\n\t\t\t\t\t\twalk(thing[key]);\n\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\twalk(value);\n\n\tconst names = new Map();\n\n\tArray.from(counts)\n\t\t.filter((entry) => entry[1] > 1)\n\t\t.sort((a, b) => b[1] - a[1])\n\t\t.forEach((entry, i) => {\n\t\t\tnames.set(entry[0], get_name(i));\n\t\t});\n\n\t/**\n\t * @param {any} thing\n\t * @returns {string}\n\t */\n\tfunction stringify(thing) {\n\t\tif (names.has(thing)) {\n\t\t\treturn names.get(thing);\n\t\t}\n\n\t\tif (is_primitive(thing)) {\n\t\t\treturn stringify_primitive(thing);\n\t\t}\n\n\t\tif (custom.has(thing)) {\n\t\t\treturn custom.get(thing);\n\t\t}\n\n\t\tconst type = get_type(thing);\n\n\t\tswitch (type) {\n\t\t\tcase 'Number':\n\t\t\tcase 'String':\n\t\t\tcase 'Boolean':\n\t\t\t\treturn `Object(${stringify(thing.valueOf())})`;\n\n\t\t\tcase 'RegExp':\n\t\t\t\treturn `new RegExp(${stringify_string(thing.source)}, \"${\n\t\t\t\t\tthing.flags\n\t\t\t\t}\")`;\n\n\t\t\tcase 'Date':\n\t\t\t\treturn `new Date(${thing.getTime()})`;\n\n\t\t\tcase 'URL':\n\t\t\t\treturn `new URL(${stringify_string(thing.toString())})`;\n\n\t\t\tcase 'URLSearchParams':\n\t\t\t\treturn `new URLSearchParams(${stringify_string(thing.toString())})`;\n\n\t\t\tcase 'Array':\n\t\t\t\tconst members = /** @type {any[]} */ (thing).map((v, i) =>\n\t\t\t\t\ti in thing ? stringify(v) : ''\n\t\t\t\t);\n\t\t\t\tconst tail = thing.length === 0 || thing.length - 1 in thing ? '' : ',';\n\t\t\t\treturn `[${members.join(',')}${tail}]`;\n\n\t\t\tcase 'Set':\n\t\t\tcase 'Map':\n\t\t\t\treturn `new ${type}([${Array.from(thing).map(stringify).join(',')}])`;\n\n\t\t\tcase 'Int8Array':\n\t\t\tcase 'Uint8Array':\n\t\t\tcase 'Uint8ClampedArray':\n\t\t\tcase 'Int16Array':\n\t\t\tcase 'Uint16Array':\n\t\t\tcase 'Int32Array':\n\t\t\tcase 'Uint32Array':\n\t\t\tcase 'Float32Array':\n\t\t\tcase 'Float64Array':\n\t\t\tcase 'BigInt64Array':\n\t\t\tcase 'BigUint64Array': {\n\t\t\t\tlet str = `new ${type}`;\n\n\t\t\t\tif (counts.get(thing.buffer) === 1) {\n\t\t\t\t\tconst array = new thing.constructor(thing.buffer);\n\t\t\t\t\tstr += `([${array}])`;\n\t\t\t\t} else {\n\t\t\t\t\tstr += `([${stringify(thing.buffer)}])`;\n\t\t\t\t}\n\n\t\t\t\tconst a = thing.byteOffset;\n\t\t\t\tconst b = a + thing.byteLength;\n\n\t\t\t\t// handle subarrays\n\t\t\t\tif (a > 0 || b !== thing.buffer.byteLength) {\n\t\t\t\t\tconst m = +/(\\d+)/.exec(type)[1] / 8;\n\t\t\t\t\tstr += `.subarray(${a / m},${b / m})`;\n\t\t\t\t}\n\n\t\t\t\treturn str;\n\t\t\t}\n\n\t\t\tcase 'ArrayBuffer': {\n\t\t\t\tconst ui8 = new Uint8Array(thing);\n\t\t\t\treturn `new Uint8Array([${ui8.toString()}]).buffer`;\n\t\t\t}\n\n\t\t\tcase 'Temporal.Duration':\n\t\t\tcase 'Temporal.Instant':\n\t\t\tcase 'Temporal.PlainDate':\n\t\t\tcase 'Temporal.PlainTime':\n\t\t\tcase 'Temporal.PlainDateTime':\n\t\t\tcase 'Temporal.PlainMonthDay':\n\t\t\tcase 'Temporal.PlainYearMonth':\n\t\t\tcase 'Temporal.ZonedDateTime':\n\t\t\t\treturn `${type}.from(${stringify_string(thing.toString())})`;\n\n\t\t\tdefault:\n\t\t\t\tconst keys = Object.keys(thing);\n\t\t\t\tconst obj = keys\n\t\t\t\t\t.map((key) => `${safe_key(key)}:${stringify(thing[key])}`)\n\t\t\t\t\t.join(',');\n\t\t\t\tconst proto = Object.getPrototypeOf(thing);\n\t\t\t\tif (proto === null) {\n\t\t\t\t\treturn keys.length > 0\n\t\t\t\t\t\t? `{${obj},__proto__:null}`\n\t\t\t\t\t\t: `{__proto__:null}`;\n\t\t\t\t}\n\n\t\t\t\treturn `{${obj}}`;\n\t\t}\n\t}\n\n\tconst str = stringify(value);\n\n\tif (names.size) {\n\t\t/** @type {string[]} */\n\t\tconst params = [];\n\n\t\t/** @type {string[]} */\n\t\tconst statements = [];\n\n\t\t/** @type {string[]} */\n\t\tconst values = [];\n\n\t\tnames.forEach((name, thing) => {\n\t\t\tparams.push(name);\n\n\t\t\tif (custom.has(thing)) {\n\t\t\t\tvalues.push(/** @type {string} */ (custom.get(thing)));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (is_primitive(thing)) {\n\t\t\t\tvalues.push(stringify_primitive(thing));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst type = get_type(thing);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'String':\n\t\t\t\tcase 'Boolean':\n\t\t\t\t\tvalues.push(`Object(${stringify(thing.valueOf())})`);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RegExp':\n\t\t\t\t\tvalues.push(thing.toString());\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Date':\n\t\t\t\t\tvalues.push(`new Date(${thing.getTime()})`);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tvalues.push(`Array(${thing.length})`);\n\t\t\t\t\t/** @type {any[]} */ (thing).forEach((v, i) => {\n\t\t\t\t\t\tstatements.push(`${name}[${i}]=${stringify(v)}`);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Set':\n\t\t\t\t\tvalues.push(`new Set`);\n\t\t\t\t\tstatements.push(\n\t\t\t\t\t\t`${name}.${Array.from(thing)\n\t\t\t\t\t\t\t.map((v) => `add(${stringify(v)})`)\n\t\t\t\t\t\t\t.join('.')}`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Map':\n\t\t\t\t\tvalues.push(`new Map`);\n\t\t\t\t\tstatements.push(\n\t\t\t\t\t\t`${name}.${Array.from(thing)\n\t\t\t\t\t\t\t.map(([k, v]) => `set(${stringify(k)}, ${stringify(v)})`)\n\t\t\t\t\t\t\t.join('.')}`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ArrayBuffer':\n\t\t\t\t\tvalues.push(\n\t\t\t\t\t\t`new Uint8Array([${new Uint8Array(thing).join(',')}]).buffer`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tvalues.push(\n\t\t\t\t\t\tObject.getPrototypeOf(thing) === null ? 'Object.create(null)' : '{}'\n\t\t\t\t\t);\n\t\t\t\t\tObject.keys(thing).forEach((key) => {\n\t\t\t\t\t\tstatements.push(\n\t\t\t\t\t\t\t`${name}${safe_prop(key)}=${stringify(thing[key])}`\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tstatements.push(`return ${str}`);\n\n\t\treturn `(function(${params.join(',')}){${statements.join(\n\t\t\t';'\n\t\t)}}(${values.join(',')}))`;\n\t} else {\n\t\treturn str;\n\t}\n}\n\n/** @param {number} num */\nfunction get_name(num) {\n\tlet name = '';\n\n\tdo {\n\t\tname = chars[num % chars.length] + name;\n\t\tnum = ~~(num / chars.length) - 1;\n\t} while (num >= 0);\n\n\treturn reserved.test(name) ? `${name}0` : name;\n}\n\n/** @param {string} c */\nfunction escape_unsafe_char(c) {\n\treturn escaped[c] || c;\n}\n\n/** @param {string} str */\nfunction escape_unsafe_chars(str) {\n\treturn str.replace(unsafe_chars, escape_unsafe_char);\n}\n\n/** @param {string} key */\nfunction safe_key(key) {\n\treturn /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key)\n\t\t? key\n\t\t: escape_unsafe_chars(JSON.stringify(key));\n}\n\n/** @param {string} key */\nfunction safe_prop(key) {\n\treturn /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key)\n\t\t? `.${key}`\n\t\t: `[${escape_unsafe_chars(JSON.stringify(key))}]`;\n}\n\n/** @param {any} thing */\nfunction stringify_primitive(thing) {\n\tif (typeof thing === 'string') return stringify_string(thing);\n\tif (thing === void 0) return 'void 0';\n\tif (thing === 0 && 1 / thing < 0) return '-0';\n\tconst str = String(thing);\n\tif (typeof thing === 'number') return str.replace(/^(-)?0\\./, '$1.');\n\tif (typeof thing === 'bigint') return thing + 'n';\n\treturn str;\n}\n", "/**\n * Base64 Encodes an arraybuffer\n * @param {ArrayBuffer} arraybuffer\n * @returns {string}\n */\nexport function encode64(arraybuffer) {\n  const dv = new DataView(arraybuffer);\n  let binaryString = \"\";\n\n  for (let i = 0; i < arraybuffer.byteLength; i++) {\n    binaryString += String.fromCharCode(dv.getUint8(i));\n  }\n\n  return binaryToAscii(binaryString);\n}\n\n/**\n * Decodes a base64 string into an arraybuffer\n * @param {string} string\n * @returns {ArrayBuffer}\n */\nexport function decode64(string) {\n  const binaryString = asciiToBinary(string);\n  const arraybuffer = new ArrayBuffer(binaryString.length);\n  const dv = new DataView(arraybuffer);\n\n  for (let i = 0; i < arraybuffer.byteLength; i++) {\n    dv.setUint8(i, binaryString.charCodeAt(i));\n  }\n\n  return arraybuffer;\n}\n\nconst KEY_STRING =\n  \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n/**\n * Substitute for atob since it's deprecated in node.\n * Does not do any input validation.\n *\n * @see https://github.com/jsdom/abab/blob/master/lib/atob.js\n *\n * @param {string} data\n * @returns {string}\n */\nfunction asciiToBinary(data) {\n  if (data.length % 4 === 0) {\n    data = data.replace(/==?$/, \"\");\n  }\n\n  let output = \"\";\n  let buffer = 0;\n  let accumulatedBits = 0;\n\n  for (let i = 0; i < data.length; i++) {\n    buffer <<= 6;\n    buffer |= KEY_STRING.indexOf(data[i]);\n    accumulatedBits += 6;\n    if (accumulatedBits === 24) {\n      output += String.fromCharCode((buffer & 0xff0000) >> 16);\n      output += String.fromCharCode((buffer & 0xff00) >> 8);\n      output += String.fromCharCode(buffer & 0xff);\n      buffer = accumulatedBits = 0;\n    }\n  }\n  if (accumulatedBits === 12) {\n    buffer >>= 4;\n    output += String.fromCharCode(buffer);\n  } else if (accumulatedBits === 18) {\n    buffer >>= 2;\n    output += String.fromCharCode((buffer & 0xff00) >> 8);\n    output += String.fromCharCode(buffer & 0xff);\n  }\n  return output;\n}\n\n/**\n * Substitute for btoa since it's deprecated in node.\n * Does not do any input validation.\n *\n * @see https://github.com/jsdom/abab/blob/master/lib/btoa.js\n *\n * @param {string} str\n * @returns {string}\n */\nfunction binaryToAscii(str) {\n  let out = \"\";\n  for (let i = 0; i < str.length; i += 3) {\n    /** @type {[number, number, number, number]} */\n    const groupsOfSix = [undefined, undefined, undefined, undefined];\n    groupsOfSix[0] = str.charCodeAt(i) >> 2;\n    groupsOfSix[1] = (str.charCodeAt(i) & 0x03) << 4;\n    if (str.length > i + 1) {\n      groupsOfSix[1] |= str.charCodeAt(i + 1) >> 4;\n      groupsOfSix[2] = (str.charCodeAt(i + 1) & 0x0f) << 2;\n    }\n    if (str.length > i + 2) {\n      groupsOfSix[2] |= str.charCodeAt(i + 2) >> 6;\n      groupsOfSix[3] = str.charCodeAt(i + 2) & 0x3f;\n    }\n    for (let j = 0; j < groupsOfSix.length; j++) {\n      if (typeof groupsOfSix[j] === \"undefined\") {\n        out += \"=\";\n      } else {\n        out += KEY_STRING[groupsOfSix[j]];\n      }\n    }\n  }\n  return out;\n}\n", "export const UNDEFINED = -1;\nexport const HOLE = -2;\nexport const NAN = -3;\nexport const POSITIVE_INFINITY = -4;\nexport const NEGATIVE_INFINITY = -5;\nexport const NEGATIVE_ZERO = -6;\n", "import { decode64 } from './base64.js';\nimport {\n\tHOLE,\n\tNAN,\n\tNEGATIVE_INFINITY,\n\tNEGATIVE_ZERO,\n\tPOSITIVE_INFINITY,\n\tUNDEFINED\n} from './constants.js';\n\n/**\n * Revive a value serialized with `devalue.stringify`\n * @param {string} serialized\n * @param {Record<string, (value: any) => any>} [revivers]\n */\nexport function parse(serialized, revivers) {\n\treturn unflatten(JSON.parse(serialized), revivers);\n}\n\n/**\n * Revive a value flattened with `devalue.stringify`\n * @param {number | any[]} parsed\n * @param {Record<string, (value: any) => any>} [revivers]\n */\nexport function unflatten(parsed, revivers) {\n\tif (typeof parsed === 'number') return hydrate(parsed, true);\n\n\tif (!Array.isArray(parsed) || parsed.length === 0) {\n\t\tthrow new Error('Invalid input');\n\t}\n\n\tconst values = /** @type {any[]} */ (parsed);\n\n\tconst hydrated = Array(values.length);\n\n\t/**\n\t * @param {number} index\n\t * @returns {any}\n\t */\n\tfunction hydrate(index, standalone = false) {\n\t\tif (index === UNDEFINED) return undefined;\n\t\tif (index === NAN) return NaN;\n\t\tif (index === POSITIVE_INFINITY) return Infinity;\n\t\tif (index === NEGATIVE_INFINITY) return -Infinity;\n\t\tif (index === NEGATIVE_ZERO) return -0;\n\n\t\tif (standalone || typeof index !== 'number') {\n\t\t\tthrow new Error(`Invalid input`);\n\t\t}\n\n\t\tif (index in hydrated) return hydrated[index];\n\n\t\tconst value = values[index];\n\n\t\tif (!value || typeof value !== 'object') {\n\t\t\thydrated[index] = value;\n\t\t} else if (Array.isArray(value)) {\n\t\t\tif (typeof value[0] === 'string') {\n\t\t\t\tconst type = value[0];\n\n\t\t\t\tconst reviver = revivers?.[type];\n\t\t\t\tif (reviver) {\n\t\t\t\t\tlet i = value[1];\n\t\t\t\t\tif (typeof i !== 'number') {\n\t\t\t\t\t\t// if it's not a number, it was serialized by a builtin reviver\n\t\t\t\t\t\t// so we need to munge it into the format expected by a custom reviver\n\t\t\t\t\t\ti = values.push(value[1]) - 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn (hydrated[index] = reviver(hydrate(i)));\n\t\t\t\t}\n\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'Date':\n\t\t\t\t\t\thydrated[index] = new Date(value[1]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Set':\n\t\t\t\t\t\tconst set = new Set();\n\t\t\t\t\t\thydrated[index] = set;\n\t\t\t\t\t\tfor (let i = 1; i < value.length; i += 1) {\n\t\t\t\t\t\t\tset.add(hydrate(value[i]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Map':\n\t\t\t\t\t\tconst map = new Map();\n\t\t\t\t\t\thydrated[index] = map;\n\t\t\t\t\t\tfor (let i = 1; i < value.length; i += 2) {\n\t\t\t\t\t\t\tmap.set(hydrate(value[i]), hydrate(value[i + 1]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RegExp':\n\t\t\t\t\t\thydrated[index] = new RegExp(value[1], value[2]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\thydrated[index] = Object(value[1]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BigInt':\n\t\t\t\t\t\thydrated[index] = BigInt(value[1]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'null':\n\t\t\t\t\t\tconst obj = Object.create(null);\n\t\t\t\t\t\thydrated[index] = obj;\n\t\t\t\t\t\tfor (let i = 1; i < value.length; i += 2) {\n\t\t\t\t\t\t\tobj[value[i]] = hydrate(value[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Int8Array':\n\t\t\t\t\tcase 'Uint8Array':\n\t\t\t\t\tcase 'Uint8ClampedArray':\n\t\t\t\t\tcase 'Int16Array':\n\t\t\t\t\tcase 'Uint16Array':\n\t\t\t\t\tcase 'Int32Array':\n\t\t\t\t\tcase 'Uint32Array':\n\t\t\t\t\tcase 'Float32Array':\n\t\t\t\t\tcase 'Float64Array':\n\t\t\t\t\tcase 'BigInt64Array':\n\t\t\t\t\tcase 'BigUint64Array': {\n\t\t\t\t\t\tconst TypedArrayConstructor = globalThis[type];\n\t\t\t\t\t\tconst typedArray = new TypedArrayConstructor(hydrate(value[1]));\n\n\t\t\t\t\t\thydrated[index] =\n\t\t\t\t\t\t\tvalue[2] !== undefined\n\t\t\t\t\t\t\t\t? typedArray.subarray(value[2], value[3])\n\t\t\t\t\t\t\t\t: typedArray;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'ArrayBuffer': {\n\t\t\t\t\t\tconst base64 = value[1];\n\t\t\t\t\t\tconst arraybuffer = decode64(base64);\n\t\t\t\t\t\thydrated[index] = arraybuffer;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'Temporal.Duration':\n\t\t\t\t\tcase 'Temporal.Instant':\n\t\t\t\t\tcase 'Temporal.PlainDate':\n\t\t\t\t\tcase 'Temporal.PlainTime':\n\t\t\t\t\tcase 'Temporal.PlainDateTime':\n\t\t\t\t\tcase 'Temporal.PlainMonthDay':\n\t\t\t\t\tcase 'Temporal.PlainYearMonth':\n\t\t\t\t\tcase 'Temporal.ZonedDateTime': {\n\t\t\t\t\t\tconst temporalName = type.slice(9);\n\t\t\t\t\t\t// @ts-expect-error TS doesn't know about Temporal yet\n\t\t\t\t\t\thydrated[index] = Temporal[temporalName].from(value[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'URL': {\n\t\t\t\t\t\tconst url = new URL(value[1]);\n\t\t\t\t\t\thydrated[index] = url;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'URLSearchParams': {\n\t\t\t\t\t\tconst url = new URLSearchParams(value[1]);\n\t\t\t\t\t\thydrated[index] = url;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(`Unknown type ${type}`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst array = new Array(value.length);\n\t\t\t\thydrated[index] = array;\n\n\t\t\t\tfor (let i = 0; i < value.length; i += 1) {\n\t\t\t\t\tconst n = value[i];\n\t\t\t\t\tif (n === HOLE) continue;\n\n\t\t\t\t\tarray[i] = hydrate(n);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t/** @type {Record<string, any>} */\n\t\t\tconst object = {};\n\t\t\thydrated[index] = object;\n\n\t\t\tfor (const key in value) {\n\t\t\t\tif (key === '__proto__') {\n\t\t\t\t\tthrow new Error('Cannot parse an object with a `__proto__` property');\n\t\t\t\t}\n\n\t\t\t\tconst n = value[key];\n\t\t\t\tobject[key] = hydrate(n);\n\t\t\t}\n\t\t}\n\n\t\treturn hydrated[index];\n\t}\n\n\treturn hydrate(0);\n}\n", "import {\n\tDevalueError,\n\tenumerable_symbols,\n\tget_type,\n\tis_plain_object,\n\tis_primitive,\n\tstringify_key,\n\tstringify_string\n} from './utils.js';\nimport {\n\tHOLE,\n\tNAN,\n\tNEGATIVE_INFINITY,\n\tNEGATIVE_ZERO,\n\tPOSITIVE_INFINITY,\n\tUNDEFINED\n} from './constants.js';\nimport { encode64 } from './base64.js';\n\n/**\n * Turn a value into a JSON string that can be parsed with `devalue.parse`\n * @param {any} value\n * @param {Record<string, (value: any) => any>} [reducers]\n */\nexport function stringify(value, reducers) {\n\t/** @type {any[]} */\n\tconst stringified = [];\n\n\t/** @type {Map<any, number>} */\n\tconst indexes = new Map();\n\n\t/** @type {Array<{ key: string, fn: (value: any) => any }>} */\n\tconst custom = [];\n\tif (reducers) {\n\t\tfor (const key of Object.getOwnPropertyNames(reducers)) {\n\t\t\tcustom.push({ key, fn: reducers[key] });\n\t\t}\n\t}\n\n\t/** @type {string[]} */\n\tconst keys = [];\n\n\tlet p = 0;\n\n\t/** @param {any} thing */\n\tfunction flatten(thing) {\n\t\tif (typeof thing === 'function') {\n\t\t\tthrow new DevalueError(`Cannot stringify a function`, keys);\n\t\t}\n\n\t\tif (thing === undefined) return UNDEFINED;\n\t\tif (Number.isNaN(thing)) return NAN;\n\t\tif (thing === Infinity) return POSITIVE_INFINITY;\n\t\tif (thing === -Infinity) return NEGATIVE_INFINITY;\n\t\tif (thing === 0 && 1 / thing < 0) return NEGATIVE_ZERO;\n\n\t\tif (indexes.has(thing)) return indexes.get(thing);\n\n\t\tconst index = p++;\n\t\tindexes.set(thing, index);\n\n\t\tfor (const { key, fn } of custom) {\n\t\t\tconst value = fn(thing);\n\t\t\tif (value) {\n\t\t\t\tstringified[index] = `[\"${key}\",${flatten(value)}]`;\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\n\t\tlet str = '';\n\n\t\tif (is_primitive(thing)) {\n\t\t\tstr = stringify_primitive(thing);\n\t\t} else {\n\t\t\tconst type = get_type(thing);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'String':\n\t\t\t\tcase 'Boolean':\n\t\t\t\t\tstr = `[\"Object\",${stringify_primitive(thing)}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'BigInt':\n\t\t\t\t\tstr = `[\"BigInt\",${thing}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Date':\n\t\t\t\t\tconst valid = !isNaN(thing.getDate());\n\t\t\t\t\tstr = `[\"Date\",\"${valid ? thing.toISOString() : ''}\"]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'URL':\n\t\t\t\t\tstr = `[\"URL\",${stringify_string(thing.toString())}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'URLSearchParams':\n\t\t\t\t\tstr = `[\"URLSearchParams\",${stringify_string(thing.toString())}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RegExp':\n\t\t\t\t\tconst { source, flags } = thing;\n\t\t\t\t\tstr = flags\n\t\t\t\t\t\t? `[\"RegExp\",${stringify_string(source)},\"${flags}\"]`\n\t\t\t\t\t\t: `[\"RegExp\",${stringify_string(source)}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tstr = '[';\n\n\t\t\t\t\tfor (let i = 0; i < thing.length; i += 1) {\n\t\t\t\t\t\tif (i > 0) str += ',';\n\n\t\t\t\t\t\tif (i in thing) {\n\t\t\t\t\t\t\tkeys.push(`[${i}]`);\n\t\t\t\t\t\t\tstr += flatten(thing[i]);\n\t\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstr += HOLE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += ']';\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Set':\n\t\t\t\t\tstr = '[\"Set\"';\n\n\t\t\t\t\tfor (const value of thing) {\n\t\t\t\t\t\tstr += `,${flatten(value)}`;\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += ']';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Map':\n\t\t\t\t\tstr = '[\"Map\"';\n\n\t\t\t\t\tfor (const [key, value] of thing) {\n\t\t\t\t\t\tkeys.push(\n\t\t\t\t\t\t\t`.get(${is_primitive(key) ? stringify_primitive(key) : '...'})`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tstr += `,${flatten(key)},${flatten(value)}`;\n\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += ']';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Int8Array':\n\t\t\t\tcase 'Uint8Array':\n\t\t\t\tcase 'Uint8ClampedArray':\n\t\t\t\tcase 'Int16Array':\n\t\t\t\tcase 'Uint16Array':\n\t\t\t\tcase 'Int32Array':\n\t\t\t\tcase 'Uint32Array':\n\t\t\t\tcase 'Float32Array':\n\t\t\t\tcase 'Float64Array':\n\t\t\t\tcase 'BigInt64Array':\n\t\t\t\tcase 'BigUint64Array': {\n\t\t\t\t\t/** @type {import(\"./types.js\").TypedArray} */\n\t\t\t\t\tconst typedArray = thing;\n\t\t\t\t\tstr = '[\"' + type + '\",' + flatten(typedArray.buffer);\n\n\t\t\t\t\tconst a = thing.byteOffset;\n\t\t\t\t\tconst b = a + thing.byteLength;\n\n\t\t\t\t\t// handle subarrays\n\t\t\t\t\tif (a > 0 || b !== typedArray.buffer.byteLength) {\n\t\t\t\t\t\tconst m = +/(\\d+)/.exec(type)[1] / 8;\n\t\t\t\t\t\tstr += `,${a / m},${b / m}`;\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += ']';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'ArrayBuffer': {\n\t\t\t\t\t/** @type {ArrayBuffer} */\n\t\t\t\t\tconst arraybuffer = thing;\n\t\t\t\t\tconst base64 = encode64(arraybuffer);\n\n\t\t\t\t\tstr = `[\"ArrayBuffer\",\"${base64}\"]`;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'Temporal.Duration':\n\t\t\t\tcase 'Temporal.Instant':\n\t\t\t\tcase 'Temporal.PlainDate':\n\t\t\t\tcase 'Temporal.PlainTime':\n\t\t\t\tcase 'Temporal.PlainDateTime':\n\t\t\t\tcase 'Temporal.PlainMonthDay':\n\t\t\t\tcase 'Temporal.PlainYearMonth':\n\t\t\t\tcase 'Temporal.ZonedDateTime':\n\t\t\t\t\tstr = `[\"${type}\",${stringify_string(thing.toString())}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (!is_plain_object(thing)) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify arbitrary non-POJOs`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (enumerable_symbols(thing).length > 0) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify POJOs with symbolic keys`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Object.getPrototypeOf(thing) === null) {\n\t\t\t\t\t\tstr = '[\"null\"';\n\t\t\t\t\t\tfor (const key in thing) {\n\t\t\t\t\t\t\tkeys.push(stringify_key(key));\n\t\t\t\t\t\t\tstr += `,${stringify_string(key)},${flatten(thing[key])}`;\n\t\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += ']';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr = '{';\n\t\t\t\t\t\tlet started = false;\n\t\t\t\t\t\tfor (const key in thing) {\n\t\t\t\t\t\t\tif (started) str += ',';\n\t\t\t\t\t\t\tstarted = true;\n\t\t\t\t\t\t\tkeys.push(stringify_key(key));\n\t\t\t\t\t\t\tstr += `${stringify_string(key)}:${flatten(thing[key])}`;\n\t\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += '}';\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstringified[index] = str;\n\t\treturn index;\n\t}\n\n\tconst index = flatten(value);\n\n\t// special case \u2014\u00A0value is represented as a negative index\n\tif (index < 0) return `${index}`;\n\n\treturn `[${stringified.join(',')}]`;\n}\n\n/**\n * @param {any} thing\n * @returns {string}\n */\nfunction stringify_primitive(thing) {\n\tconst type = typeof thing;\n\tif (type === 'string') return stringify_string(thing);\n\tif (thing instanceof String) return stringify_string(thing.toString());\n\tif (thing === void 0) return UNDEFINED.toString();\n\tif (thing === 0 && 1 / thing < 0) return NEGATIVE_ZERO.toString();\n\tif (type === 'bigint') return `[\"BigInt\",\"${thing}\"]`;\n\treturn String(thing);\n}\n", "import * as devalue from \"devalue\";\nimport { b as base64_encode, t as text_decoder, c as base64_decode } from \"./utils.js\";\nconst INVALIDATED_PARAM = \"x-sveltekit-invalidated\";\nconst TRAILING_SLASH_PARAM = \"x-sveltekit-trailing-slash\";\nfunction stringify(data, transport) {\n  const encoders = Object.fromEntries(Object.entries(transport).map(([k, v]) => [k, v.encode]));\n  return devalue.stringify(data, encoders);\n}\nfunction stringify_remote_arg(value, transport) {\n  if (value === void 0) return \"\";\n  const json_string = stringify(value, transport);\n  const bytes = new TextEncoder().encode(json_string);\n  return base64_encode(bytes).replaceAll(\"=\", \"\").replaceAll(\"+\", \"-\").replaceAll(\"/\", \"_\");\n}\nfunction parse_remote_arg(string, transport) {\n  if (!string) return void 0;\n  const json_string = text_decoder.decode(\n    // no need to add back `=` characters, atob can handle it\n    base64_decode(string.replaceAll(\"-\", \"+\").replaceAll(\"_\", \"/\"))\n  );\n  const decoders = Object.fromEntries(Object.entries(transport).map(([k, v]) => [k, v.decode]));\n  return devalue.parse(json_string, decoders);\n}\nfunction create_remote_cache_key(id, payload) {\n  return id + \"/\" + payload;\n}\nexport {\n  INVALIDATED_PARAM as I,\n  TRAILING_SLASH_PARAM as T,\n  stringify_remote_arg as a,\n  create_remote_cache_key as c,\n  parse_remote_arg as p,\n  stringify as s\n};\n", "import { c as create_ssr_component, s as setContext, v as validate_component, m as missing_component } from \"./ssr.js\";\nimport { a as afterUpdate } from \"./ssr2.js\";\nimport \"./environment.js\";\nimport \"./shared-server.js\";\nlet read_implementation = null;\nfunction set_read_implementation(fn) {\n  read_implementation = fn;\n}\nfunction set_manifest(_) {\n}\nconst Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { stores } = $$props;\n  let { page } = $$props;\n  let { constructors } = $$props;\n  let { components = [] } = $$props;\n  let { form } = $$props;\n  let { data_0 = null } = $$props;\n  let { data_1 = null } = $$props;\n  {\n    setContext(\"__svelte__\", stores);\n  }\n  afterUpdate(stores.page.notify);\n  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0) $$bindings.stores(stores);\n  if ($$props.page === void 0 && $$bindings.page && page !== void 0) $$bindings.page(page);\n  if ($$props.constructors === void 0 && $$bindings.constructors && constructors !== void 0) $$bindings.constructors(constructors);\n  if ($$props.components === void 0 && $$bindings.components && components !== void 0) $$bindings.components(components);\n  if ($$props.form === void 0 && $$bindings.form && form !== void 0) $$bindings.form(form);\n  if ($$props.data_0 === void 0 && $$bindings.data_0 && data_0 !== void 0) $$bindings.data_0(data_0);\n  if ($$props.data_1 === void 0 && $$bindings.data_1 && data_1 !== void 0) $$bindings.data_1(data_1);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    {\n      stores.page.set(page);\n    }\n    $$rendered = `  ${constructors[1] ? `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      {\n        data: data_0,\n        params: page.params,\n        this: components[0]\n      },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(constructors[1] || missing_component, \"svelte:component\").$$render(\n            $$result,\n            {\n              data: data_1,\n              form,\n              params: page.params,\n              this: components[1]\n            },\n            {\n              this: ($$value) => {\n                components[1] = $$value;\n                $$settled = false;\n              }\n            },\n            {}\n          )}`;\n        }\n      }\n    )}` : `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      {\n        data: data_0,\n        form,\n        params: page.params,\n        this: components[0]\n      },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`} ${``}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nconst options = {\n  app_template_contains_nonce: false,\n  async: false,\n  csp: { \"mode\": \"auto\", \"directives\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false }, \"reportOnly\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false } },\n  csrf_check_origin: true,\n  csrf_trusted_origins: [],\n  embedded: false,\n  env_public_prefix: \"PUBLIC_\",\n  env_private_prefix: \"\",\n  hash_routing: false,\n  hooks: null,\n  // added lazily, via `get_hooks`\n  preload_strategy: \"modulepreload\",\n  root: Root,\n  service_worker: false,\n  service_worker_options: void 0,\n  templates: {\n    app: ({ head, body, assets, nonce, env }) => '<!doctype html>\\r\\n<html lang=\"en\">\\r\\n\t<head>\\r\\n\t\t<meta charset=\"utf-8\" />\\r\\n\t\t<link rel=\"icon\" href=\"' + assets + '/favicon.png\" />\\r\\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\\r\\n\t\t' + head + '\\r\\n\t</head>\\r\\n\t<body data-sveltekit-preload-data=\"hover\">\\r\\n\t\t<div style=\"display: contents\">' + body + \"</div>\\r\\n\t</body>\\r\\n</html>\\r\\n\",\n    error: ({ status, message }) => '<!doctype html>\\n<html lang=\"en\">\\n\t<head>\\n\t\t<meta charset=\"utf-8\" />\\n\t\t<title>' + message + `</title>\n\n\t\t<style>\n\t\t\tbody {\n\t\t\t\t--bg: white;\n\t\t\t\t--fg: #222;\n\t\t\t\t--divider: #ccc;\n\t\t\t\tbackground: var(--bg);\n\t\t\t\tcolor: var(--fg);\n\t\t\t\tfont-family:\n\t\t\t\t\tsystem-ui,\n\t\t\t\t\t-apple-system,\n\t\t\t\t\tBlinkMacSystemFont,\n\t\t\t\t\t'Segoe UI',\n\t\t\t\t\tRoboto,\n\t\t\t\t\tOxygen,\n\t\t\t\t\tUbuntu,\n\t\t\t\t\tCantarell,\n\t\t\t\t\t'Open Sans',\n\t\t\t\t\t'Helvetica Neue',\n\t\t\t\t\tsans-serif;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t.error {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmax-width: 32rem;\n\t\t\t\tmargin: 0 1rem;\n\t\t\t}\n\n\t\t\t.status {\n\t\t\t\tfont-weight: 200;\n\t\t\t\tfont-size: 3rem;\n\t\t\t\tline-height: 1;\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -0.05rem;\n\t\t\t}\n\n\t\t\t.message {\n\t\t\t\tborder-left: 1px solid var(--divider);\n\t\t\t\tpadding: 0 0 0 1rem;\n\t\t\t\tmargin: 0 0 0 1rem;\n\t\t\t\tmin-height: 2.5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.message h1 {\n\t\t\t\tfont-weight: 400;\n\t\t\t\tfont-size: 1em;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t@media (prefers-color-scheme: dark) {\n\t\t\t\tbody {\n\t\t\t\t\t--bg: #222;\n\t\t\t\t\t--fg: #ddd;\n\t\t\t\t\t--divider: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"error\">\n\t\t\t<span class=\"status\">` + status + '</span>\\n\t\t\t<div class=\"message\">\\n\t\t\t\t<h1>' + message + \"</h1>\\n\t\t\t</div>\\n\t\t</div>\\n\t</body>\\n</html>\\n\"\n  },\n  version_hash: \"1ox7yjc\"\n};\nasync function get_hooks() {\n  let handle;\n  let handleFetch;\n  let handleError;\n  let handleValidationError;\n  let init;\n  ({ handle, handleFetch, handleError, handleValidationError, init } = await import(\"./hooks.server.js\"));\n  let reroute;\n  let transport;\n  return {\n    handle,\n    handleFetch,\n    handleError,\n    handleValidationError,\n    init,\n    reroute,\n    transport\n  };\n}\nexport {\n  set_manifest as a,\n  get_hooks as g,\n  options as o,\n  read_implementation as r,\n  set_read_implementation as s\n};\n", "export const manifest = (() => {\nfunction __memo(fn) {\n\tlet value;\n\treturn () => value ??= (value = fn());\n}\n\nreturn {\n\tappDir: \"_app\",\n\tappPath: \"_app\",\n\tassets: new Set([\"favicon.png\"]),\n\tmimeTypes: {\".png\":\"image/png\"},\n\t_: {\n\t\tclient: {start:\"_app/immutable/entry/start.CdUWFOZj.js\",app:\"_app/immutable/entry/app.VK-iCvkz.js\",imports:[\"_app/immutable/entry/start.CdUWFOZj.js\",\"_app/immutable/chunks/DvXU5mgi.js\",\"_app/immutable/chunks/qwSh76ll.js\",\"_app/immutable/chunks/Q07G5V9A.js\",\"_app/immutable/chunks/DLCh3GBu.js\",\"_app/immutable/entry/app.VK-iCvkz.js\",\"_app/immutable/chunks/qwSh76ll.js\",\"_app/immutable/chunks/IHki7fMi.js\"],stylesheets:[],fonts:[],uses_env_dynamic_public:false},\n\t\tnodes: [\n\t\t\t__memo(() => import('../output/server/nodes/0.js')),\n\t\t\t__memo(() => import('../output/server/nodes/1.js')),\n\t\t\t__memo(() => import('../output/server/nodes/2.js'))\n\t\t],\n\t\tremotes: {\n\t\t\t\n\t\t},\n\t\troutes: [\n\t\t\t{\n\t\t\t\tid: \"/\",\n\t\t\t\tpattern: /^\\/$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: { layouts: [0,], errors: [1,], leaf: 2 },\n\t\t\t\tendpoint: null\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/maps-config\",\n\t\t\t\tpattern: /^\\/api\\/maps-config\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../output/server/entries/endpoints/api/maps-config/_server.ts.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/realtime\",\n\t\t\t\tpattern: /^\\/api\\/realtime\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../output/server/entries/endpoints/api/realtime/_server.ts.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/weather\",\n\t\t\t\tpattern: /^\\/api\\/weather\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../output/server/entries/endpoints/api/weather/_server.ts.js'))\n\t\t\t}\n\t\t],\n\t\tprerendered_routes: new Set([]),\n\t\tmatchers: async () => {\n\t\t\t\n\t\t\treturn {  };\n\t\t},\n\t\tserver_assets: {}\n\t}\n}\n})();\n\nexport const prerendered = new Set([]);\n\nexport const base_path = \"\";\n", "// src/worker.js\nimport { Server } from \"../output/server/index.js\";\nimport { manifest, prerendered, base_path } from \"./manifest.js\";\n\n// ../../node_modules/.pnpm/worktop@0.8.0-next.18/node_modules/worktop/cache/index.mjs\nasync function e(e3, t2) {\n  let n2 = \"string\" != typeof t2 && \"HEAD\" === t2.method;\n  n2 && (t2 = new Request(t2, { method: \"GET\" }));\n  let r3 = await e3.match(t2);\n  return n2 && r3 && (r3 = new Response(null, r3)), r3;\n}\nfunction t(e3, t2, n2, o2) {\n  return (\"string\" == typeof t2 || \"GET\" === t2.method) && r(n2) && (n2.headers.has(\"Set-Cookie\") && (n2 = new Response(n2.body, n2)).headers.append(\"Cache-Control\", \"private=Set-Cookie\"), o2.waitUntil(e3.put(t2, n2.clone()))), n2;\n}\nvar n = /* @__PURE__ */ new Set([200, 203, 204, 300, 301, 404, 405, 410, 414, 501]);\nfunction r(e3) {\n  if (!n.has(e3.status)) return false;\n  if (~(e3.headers.get(\"Vary\") || \"\").indexOf(\"*\")) return false;\n  let t2 = e3.headers.get(\"Cache-Control\") || \"\";\n  return !/(private|no-cache|no-store)/i.test(t2);\n}\nfunction o(n2) {\n  return async function(r3, o2) {\n    let a = await e(n2, r3);\n    if (a) return a;\n    o2.defer((e3) => {\n      t(n2, r3, e3, o2);\n    });\n  };\n}\n\n// ../../node_modules/.pnpm/worktop@0.8.0-next.18/node_modules/worktop/cfw.cache/index.mjs\nvar s = caches.default;\nvar c = t.bind(0, s);\nvar r2 = e.bind(0, s);\nvar e2 = o.bind(0, s);\n\n// src/worker.js\nvar server = new Server(manifest);\nvar app_path = `/${manifest.appPath}`;\nvar immutable = `${app_path}/immutable/`;\nvar version_file = `${app_path}/version.json`;\nvar worker = {\n  async fetch(req, env, context) {\n    await server.init({ env });\n    let pragma = req.headers.get(\"cache-control\") || \"\";\n    let res = !pragma.includes(\"no-cache\") && await r2(req);\n    if (res) return res;\n    let { pathname, search } = new URL(req.url);\n    try {\n      pathname = decodeURIComponent(pathname);\n    } catch {\n    }\n    const stripped_pathname = pathname.replace(/\\/$/, \"\");\n    let is_static_asset = false;\n    const filename = stripped_pathname.slice(base_path.length + 1);\n    if (filename) {\n      is_static_asset = manifest.assets.has(filename) || manifest.assets.has(filename + \"/index.html\") || filename in manifest._.server_assets || filename + \"/index.html\" in manifest._.server_assets;\n    }\n    let location = pathname.at(-1) === \"/\" ? stripped_pathname : pathname + \"/\";\n    if (is_static_asset || prerendered.has(pathname) || pathname === version_file || pathname.startsWith(immutable)) {\n      res = await env.ASSETS.fetch(req);\n    } else if (location && prerendered.has(location)) {\n      if (search) location += search;\n      res = new Response(\"\", {\n        status: 308,\n        headers: {\n          location\n        }\n      });\n    } else {\n      res = await server.respond(req, {\n        // @ts-ignore\n        platform: { env, context, caches, cf: req.cf },\n        getClientAddress() {\n          return req.headers.get(\"cf-connecting-ip\");\n        }\n      });\n    }\n    pragma = res.headers.get(\"cache-control\") || \"\";\n    return pragma && res.status < 400 ? c(req, res, context) : res;\n  }\n};\nvar worker_default = worker;\nexport {\n  worker_default as default\n};\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"C:\\\\Users\\\\monag\\\\_Projects\\\\starspace\\\\Dashboard\\\\dashboard\\\\.svelte-kit\\\\cloudflare\\\\_worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\Users\\\\monag\\\\AppData\\\\Local\\\\nvm\\\\v22.20.0\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\Users\\\\monag\\\\AppData\\\\Local\\\\nvm\\\\v22.20.0\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"C:\\\\Users\\\\monag\\\\_Projects\\\\starspace\\\\Dashboard\\\\dashboard\\\\.svelte-kit\\\\cloudflare\\\\_worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"C:\\\\Users\\\\monag\\\\_Projects\\\\starspace\\\\Dashboard\\\\dashboard\\\\.wrangler\\\\tmp\\\\bundle-QHeiZH\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\Users\\\\monag\\\\AppData\\\\Local\\\\nvm\\\\v22.20.0\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"C:\\\\Users\\\\monag\\\\_Projects\\\\starspace\\\\Dashboard\\\\dashboard\\\\.wrangler\\\\tmp\\\\bundle-QHeiZH\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"C:\\\\Users\\\\monag\\\\_Projects\\\\starspace\\\\Dashboard\\\\dashboard\\\\.wrangler\\\\tmp\\\\bundle-QHeiZH\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": ["init", "body", "text", "message", "init_false", "init", "headers", "current", "base", "key", "callback", "init_exports", "i", "text_encoder", "text_decoder", "init_utils", "a", "b", "component", "pattern", "escaped", "css", "subscribe", "run", "parse", "serialize", "__toString", "options", "decode", "index", "enc", "encode", "isDate", "e", "parseString", "value", "cookies", "splitCookiesString", "state", "f", "_SessionStore_chunk", "c", "_SessionStore_clean", "error", "p", "t", "u", "session", "digest", "buf", "alg", "CHUNK_SIZE", "init_errors", "hash", "types", "tag", "p2s", "getCryptoKey", "deriveKey", "decrypt", "encrypt", "k", "bitLength", "wrap", "unwrap", "s", "protectedHeader", "init_decrypt", "x", "y", "init_encrypt", "now", "init_base64url", "init_cookie", "C", "secret", "reset", "parseCookie", "r", "init_web", "csrfToken", "csrfTokenHash", "isObject", "o", "v", "assign", "obj", "props", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "ref", "normalizedProps", "arguments", "length", "slice", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "constructor", "__v", "vnodeId", "__i", "__u", "Fragment", "BaseComponent", "context", "this", "getDomSibling", "childIndex", "sibling", "updateParentDomPointers", "child", "enqueueRender", "rerenderQueue", "push", "process", "__r", "prevDebounce", "debounceRendering", "defer", "renderQueueLength", "newVNode", "oldVNode", "oldDom", "commitQueue", "refQueue", "sort", "depthSort", "shift", "__P", "diff", "__n", "namespaceURI", "commitRoot", "diffChildren", "parentDom", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "namespace", "excessDomChildren", "isHydrating", "childVNode", "newDom", "firstChildDom", "oldChildren", "EMPTY_ARR", "newChildrenLength", "constructNewChildrenArray", "EMPTY_OBJ", "applyRef", "insert", "nextSibling", "skewedIndex", "matchingIndex", "oldChildrenLength", "remainingOldChildren", "skew", "String", "isArray", "findMatchingIndex", "unmount", "parentVNode", "contains", "insertBefore", "nodeType", "setStyle", "style", "setProperty", "IS_NON_DIMENSIONAL", "test", "dom", "name", "oldValue", "useCapture", "cssText", "replace", "toLowerCase", "l", "_attached", "eventClock", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "removeAttribute", "setAttribute", "createEventProxy", "eventHandler", "_dispatched", "event", "tmp", "isNew", "oldProps", "oldState", "snapshot", "clearProcessingException", "newProps", "isClassComponent", "provider", "componentContext", "renderHook", "count", "newType", "outer", "prototype", "render", "contextType", "__E", "doRender", "sub", "__h", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "some", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "MODE_HYDRATE", "indexOf", "diffElementNodes", "diffed", "root", "cb", "newHtml", "oldHtml", "newChildren", "inputValue", "checked", "localName", "document", "createTextNode", "createElementNS", "is", "__m", "data", "childNodes", "attributes", "__html", "innerHTML", "hasRefUnmount", "skipRemove", "componentWillUnmount", "isValidElement", "Array", "errorInfo", "ctor", "handled", "getDerivedStateFromError", "setState", "componentDidCatch", "undefined", "update", "forceUpdate", "Promise", "then", "bind", "resolve", "setTimeout", "encodeEntities", "str", "ENCODED_ENTITIES", "last", "out", "ch", "charCodeAt", "styleObjToCss", "prop", "val", "JS_TO_CSS", "CSS_REGEX", "suffix", "startsWith", "has", "markAsDirty", "createComponent", "renderToString", "_rendererState", "previousSkipEffects", "beforeDiff", "afterDiff", "ummountHook", "parent", "h", "rendered", "_renderToString", "join", "EMPTY_STR", "Error", "renderClassComponent", "isMounting", "isSvgMode", "selectValue", "asyncMode", "renderer", "vnodeType", "renderArray", "L", "childRender", "cctx", "tpl", "exprs", "UNSTABLE_comment", "errorBoundaries", "err", "onError", "res", "errorHook", "renderNestedChildren", "html", "NAMESPACE_REPLACE_REGEX", "UNSAFE_NAME", "HTML_ENUMERATED", "SVG_CAMEL_CASE", "HTML_LOWER_CASE", "SELF_CLOSING", "endTag", "startTag", "Set", "Object", "isStaticChildren", "__source", "__self", "theme", "providers", "userByAccount", "currentAccount", "encoder", "decoder", "customFetch", "json", "clockSkew", "clockTolerance", "check", "VERSION", "idTokenClaims", "redirect", "signIn", "init_callback", "newSession", "as", "nonce", "init_signin", "init_signout", "init_session", "init_actions", "page", "setEnvDefaults", "options2", "signOut", "__exports", "fonts", "imports", "stylesheets", "component_cache", "init__", "load", "fetch", "hour", "w", "_", "year", "css$2", "css$1", "day", "server_id", "server_ts_exports", "GET", "init_server_ts", "server", "stringify", "array", "keys", "j", "n", "stringify_primitive", "import_cookie", "assets", "handle", "IN_WEBCONTAINER", "q", "manifest", "has_data_suffix", "add_data_suffix", "strip_data_suffix", "has_resolution_suffix", "add_resolution_suffix", "strip_resolution_suffix", "actions", "init2", "i2", "d", "s2", "t2", "n2", "r3", "o2", "r2", "e2", "e", "e", "error", "worker", "init"]
}
